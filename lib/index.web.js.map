{"version":3,"file":"index.web.js","mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,MAAM,CAACC,OAAO,GAAG;EAChBC,IAAI,EAAEC,mBAAO,CAAC,iCAAY,CAAC;EAC3BC,IAAI,EAAGD,mBAAO,CAAC,uCAAY,CAAC;EAC5BE,OAAO,EAAGF,mBAAO,CAAC,uCAAe,CAAC;EAClCG,OAAO,EAAGH,mBAAO,CAAC,6CAAe,CAAC;EAClCI,QAAQ,EAAGJ,mBAAO,CAAC,yCAAgB,CAAC;EACpCK,UAAU,EAAEL,mBAAO,CAAC,6CAAkB,CAAC;EACvCM,cAAc,EAAEN,mBAAO,CAAC,mFAAqC,CAAC;EAC9DO,KAAK,EAAEP,kEAA6B;EACpCQ,WAAW,EAAER,kEAA6B;EAC1CU,WAAW,EAAEV,kEAA6BW;AAC3C,CAAC;;;;;;;;;;ACpCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,SAAS,GAAGZ,mBAAO,CAAC,mCAAQ,CAAC;AACjC,IAAIG,OAAO,GAAGH,mBAAO,CAAC,yCAAW,CAAC;AAClC,IAAIa,cAAc;AAClB,IAAIC,cAAc;AAClB,IAAIC,WAAW;AACf,IAAMC,MAAM,GAAGhB,mBAAO,CAAC,iCAAU,CAAC;AAClCiB,MAAM,CAACC,cAAc,GAAG,EAAE;AAE1B,IAAID,IAAqB,EAAE;EACzBJ,cAAc,GAAGV,OAAO,CAACiB,GAAG,CAACL,WAAW;AAC1C,CAAC,MAAM,uBAKN;AAED,SAASS,MAAMA,CAACC,IAAI,EAAE;EACpB,IAAI,CAACA,IAAI,CAACC,KAAK,EAAE;IACfD,IAAI,CAACC,KAAK,GAAGC,mBAAmB,CAAC,CAAC;EACpC;EAEA,IAAIF,IAAI,CAACG,KAAK,CAACC,EAAE,EAAE;IACjBJ,IAAI,CAACC,KAAK,CAACI,IAAI,GAAGC,QAAQ,CAACN,IAAI,CAACG,KAAK,CAACC,EAAE,EAAE,EAAE,CAAC,IAAIJ,IAAI,CAACC,KAAK,CAACI,IAAI;EAClE;EAEA,IAAIE,IAAI,GAAGhB,MAAM,CAACL,KAAK,CAACc,IAAI,CAACO,IAAI,EAAC,IAAI,CAAC;EACvC,IAAIJ,KAAK,GAAGZ,MAAM,CAACL,KAAK,CAACc,IAAI,CAACG,KAAK,EAAC,IAAI,CAAC;EAEzC,IAAIA,KAAK,CAACK,KAAK,IAAI,KAAK,IAAKhB,KAAW,KAAK,SAAS,EAAE,EAEvD;EAED,IAAIiB,QAAQ,GAAG,EAAE;EAEjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,IAAI,CAACS,QAAQ,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IAC7CD,QAAQ,CAACG,IAAI,CAACb,MAAM,CAACC,IAAI,CAACS,QAAQ,CAACC,CAAC,CAAC,CAAC,CAAC;EACzC;EAGA,IAAIhB,IAAI,IAAI,KAAK,IAAIS,KAAK,CAACU,QAAQ,EAAE;IACnCrB,MAAM,CAACsB,aAAa,GAAGX,KAAK,CAACU,QAAQ;EACvC;EAEAV,KAAK,CAACC,EAAE,GAAGJ,IAAI,CAACC,KAAK,CAACI,IAAI;EAC1B,IAAGL,IAAI,CAACe,UAAU,IAAIvB,KAAW,IAAI,SAAS,EAC5C,EAAiF;EAEnF,OAAOL,SAAS,CAACoB,IAAI,EAAEJ,KAAK,EAAEM,QAAQ,CAAC;AACzC;AAEA,SAASQ,cAAcA,CAACjB,IAAI,EAAE;EAC5B,IAAIkB,GAAG,GAAGnB,MAAM,CAACC,IAAI,CAAC;EACtB,IAAIR,KAAwB,EAAE,EAE7B,MAAM;IACL,OAAO0B,GAAG;EACZ;AACF;AAEA,SAASG,mBAAmBA,CAACC,KAAK,EAAE;EAClCzB,cAAc,CAAC0B,mBAAmB,CAACD,KAAK,CAAC;AAC3C;;AAGA;AACA,SAASE,aAAaA,CAACC,MAAM,EAAEC,GAAG,EAAEnB,IAAI,EAAE;EACxC,IAAImB,GAAG,EAAE;IACP,IAAID,MAAM,CAACrB,EAAE,EAAE;MACb,IAAIuB,GAAG,GAAGrC,WAAW,CAACiB,IAAI,EAAEkB,MAAM,EAAE,KAAK,CAAC;MAC1C,IAAIG,GAAG,GAAGD,GAAG,CAACE,OAAO,CAACC,OAAO,CAAC,aAAa,EAAE,4BAA4B,CAAC,CAACA,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC;MAC3GF,GAAG,GAAGA,GAAG,CAACE,OAAO,CAAC,wBAAwB,EAAE,4BAA4B,CAAC;MACzEH,GAAG,CAACE,OAAO,GAAGD,GAAG;MACjB,OAAOD,GAAG;IACZ,CAAC,MAAM;MACLI,OAAO,CAACC,KAAK,CAAC,wFAAwF,CAAC;IACzG;IACA,OAAO,CAAC,CAAC;EACX;EAEA,IAAIC,GAAG,GAAGR,MAAM,CAACrB,EAAE;EACnB,IAAIwB,GAAG,GAAG,+BAA+B,GAAGK,GAAG,GAAG,GAAG;EACrD;EACA,OAAOR,MAAM,CAACrB,EAAE;EAChBqB,MAAM,CAACS,IAAI,GAAG,MAAM;EACpB,IAAIP,GAAG,GAAGrC,WAAW,CAACiB,IAAI,EAAEkB,MAAM,EAAE,KAAK,CAAC;EAC1CE,GAAG,CAACE,OAAO,GAAGD,GAAG,GAAGD,GAAG,CAACE,OAAO,GAAG,GAAG;EACrCF,GAAG,CAACvB,EAAE,GAAG6B,GAAG;EACZ,OAAON,GAAG;AACZ;AAEA,SAASQ,aAAaA,CAACC,IAAI,EAAE;EAC3B,IAAIR,GAAG;EACP,IAAIpC,KAAwB,EAAE,EAE7B,MAAM,IAAIA,KAAoB,EAAC,EAE/B,MAAM;IACLoC,GAAG,GAAGxC,cAAc,CAAC,cAAc,EAAEgD,IAAI,EAAE,KAAK,CAAC;EACnD;EACA,OAAOR,GAAG;AACZ;;AAIA;AACA,SAASS,SAASA,CAACC,OAAO,EAAEC,SAAS,EAAEb,GAAG,EAAE;EAC1C,IAAIU,IAAI,GAAG;IACThC,EAAE,EAAEkC,OAAO,CAACrC,KAAK,CAACI;EACpB,CAAC;EACD+B,IAAI,CAACG,SAAS,CAACC,MAAM,CAAC,GAAGD,SAAS,CAACE,MAAM;EAEzC,IAAIF,SAAS,CAACC,MAAM,IAAI,OAAO,IAAID,SAAS,CAACE,MAAM,IAAI,KAAK,IAAKjD,KAAW,IAAI,SAAS,EAAE,EAE1F;EAED,IAAIA,KAAwB,EAAE,YAO7B,MAAM,IAAIA,KAAoB,EAAC,EAE/B,MAAM;IACLkD,OAAO,CAACb,OAAO,CAACzC,cAAc,CAAC,cAAc,EAAEgD,IAAI,EAAE,KAAK,CAAC,CAAC;EAC9D;EACA;AACF;;AAEA,SAASQ,WAAWA,CAACN,OAAO,EAAEC,SAAS,EAAEM,UAAU,EAAE;EACnD;EACA,IAAI1C,KAAK,GAAGZ,MAAM,CAACL,KAAK,CAACoD,OAAO,CAACnC,KAAK,EAAC,IAAI,CAAC;EAC5CA,KAAK,CAACC,EAAE,GAAGkC,OAAO,CAACrC,KAAK,CAACI,IAAI;EAC7B,IAAIyC,GAAG;EACP,IAAIC,UAAU,GAAG,CAAC,cAAc,EAAE,gBAAgB,EAAE,YAAY,EAAE,aAAa,EAAE,sBAAsB,CAAC;EAExG,IAAIA,UAAU,CAACC,OAAO,CAACV,OAAO,CAAC/B,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC;IACzCJ,KAAK,CAAC+B,IAAI,GAAG,IAAI;IACjBY,GAAG,GAAG3D,SAAS,CAACmD,OAAO,CAAC/B,IAAI,EAAEJ,KAAK,EAAE,EAAE,CAAC;EAC1C,CAAC,MAAM,IAAIX,KAAwB,EAAE,EAEpC,MAAM;IACLsD,GAAG,GAAG3D,SAAS,CAACmD,OAAO,CAAC/B,IAAI,EAAEJ,KAAK,EAAE,EAAE,CAAC;EAC1C;EACA,IAAGX,KAAwB,EAAC,EAE3B,MAAM;IACLkD,OAAO,CAACE,WAAW,CAACE,GAAG,EAAER,OAAO,CAACrC,KAAK,CAACI,IAAI,CAAC;EAC9C;AACF;AAGA,SAASH,mBAAmBA,CAAA,EAAG;EAC3B,IAAG,OAAOV,MAAM,CAAC0D,gBAAiB,IAAI,WAAW,IAAI1D,MAAM,CAAC0D,gBAAgB,IAAI,IAAI,EAAE;IAClF,OAAO;MAAE7C,IAAI,EAAG,EAAEb,MAAM,CAAC0D;IAAiB,CAAC;EAC/C,CAAC,MAAM;IACH1D,MAAM,CAAC0D,gBAAgB,GAAG,OAAOR,OAAO,CAACS,QAAQ,IAAI,UAAU,GAAG7C,QAAQ,CAACoC,OAAO,CAACS,QAAQ,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG3D,MAAM,CAAC4D,WAAW;IAC7H,OAAO;MAAE/C,IAAI,EAAG,EAAEb,MAAM,CAAC0D;IAAiB,CAAC;EAC/C;AACJ;AAAC;AAGD,SAASG,SAASA,CAACC,KAAK,EAAEC,MAAM,EAAEC,KAAK,EAAE;EACvCd,OAAO,CAACe,QAAQ,CAACH,KAAK,CAACrD,KAAK,CAACI,IAAI,EAAEmD,KAAK,CAAC;AAC3C;AAIA,SAASE,WAAWA,CAACJ,KAAK,EAAEC,MAAM,EAAEC,KAAK,EAAE;EACzC;EACAd,OAAO,CAACiB,UAAU,CAACL,KAAK,CAACrD,KAAK,CAACI,IAAI,GAAG,EAAE,CAAC;AAC3C;AAEA,SAASuD,QAAQA,CAACN,KAAK,EAAEC,MAAM,EAAEC,KAAK,EAAE;EACtC,IAAGF,KAAK,CAAC/C,IAAI,IAAI,IAAI,EAAE;IACrBwB,OAAO,CAAC8B,IAAI,CAAC,YAAY,CAAC;EAC5B;EACA;EACA,IAAId,UAAU,GAAG,CAAC,cAAc,EAAE,gBAAgB,EAAE,YAAY,EAAE,aAAa,EAAE,sBAAsB,CAAC;EACxG,IAAIvD,KAAwB,EAAE,EAO7B,MAECkD,OAAO,CAACoB,eAAe,CAACP,MAAM,CAACtD,KAAK,CAACI,IAAI,EAAEN,MAAM,CAACuD,KAAK,CAAC,EAAEE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC;AAChF;AAEA,SAASO,YAAYA,CAACzB,OAAO,EAAEC,SAAS,EAAE;EACxC;EACAD,OAAO,CAACnC,KAAK,CAACoC,SAAS,CAACC,MAAM,CAAC,GAAGD,SAAS,CAACE,MAAM;EAClDJ,SAAS,CAACC,OAAO,EAAEC,SAAS,EAAE,IAAI,CAAC;AACrC;AAEA,SAASyB,eAAeA,CAAC1B,OAAO,EAAEC,SAAS,EAAE;EAC3C;EACAK,WAAW,CAACN,OAAO,EAAEC,SAAS,EAAE,IAAI,CAAC;AACvC;AAEA,SAAS0B,eAAeA,CAAC3B,OAAO,EAAEC,SAAS,EAAE;EAC3C;EACAD,OAAO,CAACnC,KAAK,CAACoC,SAAS,CAACC,MAAM,CAAC,GAAGD,SAAS,CAACE,MAAM;EAElDJ,SAAS,CAACC,OAAO,EAAEC,SAAS,EAAE,KAAK,CAAC;AACtC;AAGA,SAAS2B,SAASA,CAAChC,IAAI,EAAEiC,GAAG,EAAEC,EAAE,EAAE;EAChClC,IAAI,CAACzB,QAAQ,CAACG,IAAI,CAACuD,GAAG,CAAC;EACvBA,GAAG,CAAClB,UAAU,GAAGf,IAAI;EACrBiC,GAAG,CAAClE,KAAK,GAAGC,mBAAmB,CAAC,CAAC;EACjCV,MAAM,CAAC6E,CAAC,GAAGnC,IAAI;EAEf,IAAIoC,MAAM,GAAG9E,MAAM,CAAC+E,YAAY,CAACC,KAAK,CAACtC,IAAI;EAE3CiC,GAAG,CAAChE,KAAK,CAAC+B,IAAI,GAAG,IAAI;EAErB,IAAIvB,MAAM,GAAGnB,MAAM,CAAC+E,YAAY,CAACC,KAAK,CAAClB,KAAK,CAAC1C,IAAI,CAACuD,GAAG,CAAClE,KAAK,CAACI,IAAI,CAAC;EAEjE,IAAIoE,QAAQ,GAAGjF,MAAM,CAACX,cAAc,CAAC6F,kBAAkB,CAACN,EAAE,CAAC,CAAC;EAC5D,IAAI5E,KAAwB,EAAE,EAE7B,MACI;IACHkD,OAAO,CAACoB,eAAe,CAACQ,MAAM,EAAEvE,MAAM,CAACoE,GAAG,CAAC,EAAExD,MAAM,GAAG,CAAC,EAAE8D,QAAQ,EAAE,IAAI,CAAC;EAC1E;EAEA,OAAON,GAAG,CAAClE,KAAK,CAACI,IAAI;AAEvB;AAGA,SAASqE,kBAAkBA,CAACN,EAAE,EAAE;EAC9B,OAAO,YAAW;IAChBA,EAAE,CAAC,CAAC;IAEJ,IAAG5E,MAAM,CAACmF,YAAY,IAAInF,MAAM,CAAC,aAAa,CAAC,EAAE;MAC/C,KAAK,IAAIoF,GAAG,IAAIpF,MAAM,CAAC,aAAa,CAAC,CAACA,MAAM,CAACmF,YAAY,CAAC,EAAE;QAC1D,IAAI;UACFnF,MAAM,CAAC,aAAa,CAAC,CAACA,MAAM,CAACmF,YAAY,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;UACnDpF,MAAM,CAAC,aAAa,CAAC,CAACA,MAAM,CAACmF,YAAY,CAAC,CAAC,UAAU,CAAC,GAAG,IAAI;QAC/D,CAAC,CACD,OAAOE,GAAG,EAAE;UACV9C,OAAO,CAAC8B,IAAI,CAACgB,GAAG,CAAC;QACnB;MACF;IACF;IAEA,IAAIC,OAAO,IAAIA,OAAO,CAACC,SAAS,EAAE;MAChC,KAAK,IAAIH,GAAG,IAAIpF,MAAM,CAACwF,YAAY,EAAE;QACnCF,OAAO,CAACC,SAAS,CAACvF,MAAM,CAACwF,YAAY,CAACJ,GAAG,CAAC,CAAC,OAAO,CAAC,EAC/CzD,IAAI,CAACC,SAAS,CAAC5B,MAAM,CAACwF,YAAY,CAACJ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,EAClDzD,IAAI,CAACC,SAAS,CAAC5B,MAAM,CAACwF,YAAY,CAACJ,GAAG,CAAC,CAAC,iBAAiB,CAAC,CAAC,EAC3DzD,IAAI,CAACC,SAAS,CAAC5B,MAAM,CAACwF,YAAY,CAACJ,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,EACrDzD,IAAI,CAACC,SAAS,CAAC5B,MAAM,CAACwF,YAAY,CAACJ,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,EACvDzD,IAAI,CAACC,SAAS,CAAC5B,MAAM,CAACwF,YAAY,CAACJ,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAC9CzD,IAAI,CAACC,SAAS,CAAC5B,MAAM,CAACwF,YAAY,CAACJ,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAC9CzD,IAAI,CAACC,SAAS,CAAC5B,MAAM,CAACwF,YAAY,CAACJ,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,EAClDzD,IAAI,CAACC,SAAS,CAAC5B,MAAM,CAACwF,YAAY,CAACJ,GAAG,CAAC,CAAC,QAAQ,CAAC,CACrD,CAAC;MACH;IACF;EACF,CAAC;AACH;AAEAxG,MAAM,CAACC,OAAO,GAAG;EACf0B,MAAM,EAAEA,MAAM;EACdkB,cAAc,EAAEA,cAAc;EAC9BkB,aAAa,EAAEA,aAAa;EAC5BS,WAAW,EAAEA,WAAW;EACxB1C,mBAAmB,EAAEA,mBAAmB;EACxCmD,SAAS,EAAEA,SAAS;EACpBK,WAAW,EAAEA,WAAW;EACxBE,QAAQ,EAAEA,QAAQ;EAClBG,YAAY,EAAEA,YAAY;EAC1BC,eAAe,EAAEA,eAAe;EAChCiB,cAAc,EAAEhB,eAAe;EAC/BiB,WAAW,EAAEnB,YAAY;EACzBG,SAAS,EAAEA,SAAS;EACpB7C,mBAAmB,EAAEA;AACvB,CAAC;;;;;;;;;;ACtTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAA8D,QAAA,GASI5G,mBAAO,CAAC,qCAAU,CAAC;EARrB6G,WAAW,GAAAD,QAAA,CAAXC,WAAW;EACXC,kBAAkB,GAAAF,QAAA,CAAlBE,kBAAkB;EAClBC,IAAI,GAAAH,QAAA,CAAJG,IAAI;EACJC,uBAAuB,GAAAJ,QAAA,CAAvBI,uBAAuB;EACvBC,sBAAsB,GAAAL,QAAA,CAAtBK,sBAAsB;EACtBC,WAAW,GAAAN,QAAA,CAAXM,WAAW;EACXC,UAAU,GAAAP,QAAA,CAAVO,UAAU;EACVC,yBAAyB,GAAAR,QAAA,CAAzBQ,yBAAyB;AAE3B,IAAIpG,MAAM,GAAGhB,mBAAO,CAAC,kCAAW,CAAC;AACjC,IAAIqH,eAAe,GAAGrH,mBAAO,CAAC,kFAAmC,CAAC;AAClE,IAAAsH,SAAA,GAAsBtH,mBAAO,CAAC,6CAAc,CAAC;EAArCuH,SAAS,GAAAD,SAAA,CAATC,SAAS;AACjB,IAAAC,SAAA,GAA0BxH,mBAAO,CAAC,mDAAiB,CAAC;EAA7CyH,eAAe,GAAAD,SAAA,CAAfC,eAAe;AACtB,IAAIC,SAAS,GAAG,EAAE;AAElB,IAAAC,SAAA,GAA4E3H,mBAAO,CAAC,mCAAS,CAAC;EAAzF4H,kBAAkB,GAAAD,SAAA,CAAlBC,kBAAkB;EAAEC,YAAY,GAAAF,SAAA,CAAZE,YAAY;EAAEC,aAAa,GAAAH,SAAA,CAAbG,aAAa;EAAEC,kBAAkB,GAAAJ,SAAA,CAAlBI,kBAAkB;AAExE,SAASC,mBAAmBA,CAACC,SAAS,EAAE;EACtC,IAAIlE,OAAO,GAAG8D,YAAY,CAACI,SAAS,CAAC;EACrC,OAAOrF,IAAI,CAACC,SAAS,CAAC;IACpBqF,KAAK,EAAEnE,OAAO,CAACoE,WAAW;IAC1BC,MAAM,EAAErE,OAAO,CAACsE;EAClB,CAAC,CAAC;AACJ;;AAEA;AACA;AACA,SAASC,YAAYA,CAACzG,EAAE,EAAEoG,SAAS,EAAC;EAClC,IAAIM,GAAG,GAAGC,QAAQ,CAACC,cAAc,CAAC5G,EAAE,CAAC;EACrC,OAAO0G,GAAG;AACZ;AAEA,SAASG,eAAeA,CAACC,UAAU,EAAE9G,EAAE,EAAE;EACvC,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwG,UAAU,CAACzG,QAAQ,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IACnD,IAAGwG,UAAU,CAACzG,QAAQ,CAACC,CAAC,CAAC,CAACP,KAAK,CAACC,EAAE,IAAIA,EAAE,EAAC;MACvC,IAAGM,CAAC,IAAI,CAAC,EACP,OAAOwG,UAAU,CAACzG,QAAQ,CAACC,CAAC,GAAC,CAAC,CAAC,MAE/B,OAASwG,UAAU;IACvB;EACF;EACA,OAAO,IAAI;AACb;AAEA,SAASC,sBAAsBA,CAAChH,KAAK,EAAC;EACpC,IAAGA,KAAK,CAAC,aAAa,CAAC,EACrB,OAAO,KAAK;EACd,OAAO,IAAI;AACb;AAEA,SAAS0B,OAAOA,CAACD,GAAG,EAAE4E,SAAS,EAAE;EAC/B,IAAI,OAAO5E,GAAG,IAAI,QAAQ,EACxB;EACA,IAAIxB,EAAE,GAAGwB,GAAG,CAACxB,EAAE;EACf,IAAGA,EAAE,EAAC;IACJ,IAAIJ,IAAI,GAAG+G,QAAQ,CAACC,cAAc,CAAC5G,EAAE,CAAC;IAEtC,IAAGJ,IAAI,EAAC;MACN,IAAIoH,IAAI,GAAG5H,MAAM,CAAC6H,OAAO,CAACjH,EAAE,CAAC;MAC7B,IAAGwB,GAAG,CAAC0F,QAAQ,EAAC;QACd;MACF;MACA,IAAG,CAAC1F,GAAG,CAAC2F,QAAQ,IAAIH,IAAI,CAACG,QAAQ,EAC/B;MAEF,IAAG3F,GAAG,CAAC2F,QAAQ,EAAC;QACd;QACA;QACAxF,OAAO,CAACyF,GAAG,CAAC,MAAM,CAAC;QACnB,IAAIC,CAAC,GAAG7F,GAAG,CAAC2F,QAAQ;QACpB,IAAG,OAAO3F,GAAG,CAAC2F,QAAQ,IAAI,QAAQ,EAAC;UACjCE,CAAC,GAAGtG,IAAI,CAACuG,KAAK,CAAC9F,GAAG,CAAC2F,QAAQ,CAAC;QAC9B;QACAH,IAAI,CAACjH,KAAK,CAAC2F,SAAS,GAAGR,IAAI,CAACQ,SAAS,CAACsB,IAAI,CAACjH,KAAK,CAACwH,SAAS,EAACF,CAAC,CAAC;QAC7D;QACA;;QAEA;QACA,IAAGL,IAAI,CAACjH,KAAK,CAAC2F,SAAS,IAAE,EAAE,EAAC;UAC1B;QACF;MACF;MACAsB,IAAI,CAACjH,KAAK,GAAGZ,MAAM,CAACP,KAAK,CAACoI,IAAI,CAACjH,KAAK,EAAEyB,GAAG,CAAC;MAE1C,IAAIgG,QAAQ,GAAG,IAAI;MACnB,IAAIC,aAAa,GAAG,IAAI;MACxB,IAAIX,UAAU,GAAG,IAAI;MAErB,IAAIY,SAAS,GAAGX,sBAAsB,CAACvF,GAAG,CAAC;MAC3CgG,QAAQ,GAAG5H,IAAI,CAACiD,UAAU,CAAC7C,EAAE;MAE7B,IAAGwH,QAAQ,EAAC;QACVV,UAAU,GAAG1H,MAAM,CAAC6H,OAAO,CAACO,QAAQ,CAAC;QACrCC,aAAa,GAAGd,QAAQ,CAACC,cAAc,CAACY,QAAQ,CAAC;QAEjD,IAAGC,aAAa,IAAIX,UAAU,EAAC;UAC7B,IAAIa,WAAW,GAAGd,eAAe,CAACC,UAAU,EAAC9G,EAAE,CAAC;UAChDiF,kBAAkB,CAAC6B,UAAU,CAAC;UAC9B,IAAIc,WAAW,GAAG,EAAE;UACpB;UACA;UACA,IAAIC,iBAAiB;UACrB,IAAGvC,UAAU,CAAC,CAAC,EAAE;YACfuC,iBAAiB,GAAG;cAACC,CAAC,EAAG,EAAE;cAAEC,CAAC,EAAE;YAAE,CAAC;UACrC;UACA/C,WAAW,CAAC;YAACgC,IAAI,EAAJA,IAAI;YAAES,aAAa,EAAbA,aAAa;YAAEE,WAAW,EAAXA,WAAW;YAAEK,WAAW,EAAE,IAAI;YAACN,SAAS,EAATA,SAAS;YAACO,UAAU,EAAC,IAAI;YAAEL,WAAW,EAAXA,WAAW;YAAEC,iBAAiB,EAAjBA;UAAiB,CAAC,CAAC;UAC5H,IAAI1E,MAAM,GAAG6D,IAAI,CAAC7D,MAAM;UACxB,KAAK,IAAI7C,CAAC,GAAE,CAAC,EAACA,CAAC,GAACwG,UAAU,CAACzG,QAAQ,CAACE,MAAM,EAACD,CAAC,EAAE,EAAC;YAC7C,IAAGwG,UAAU,CAACzG,QAAQ,CAACC,CAAC,CAAC,CAACP,KAAK,CAACC,EAAE,IAAIgH,IAAI,CAACjH,KAAK,CAACC,EAAE,EAAC;cAClD8G,UAAU,CAACzG,QAAQ,CAACC,CAAC,CAAC,GAAG0G,IAAI;YAC/B;UACF;UACA,OAAM7D,MAAM,IAAIA,MAAM,CAAChD,IAAI,IAAE,gBAAgB,EAAC;YAC5CyH,WAAW,CAACM,OAAO,CAAC/E,MAAM,CAACpD,KAAK,CAACC,EAAE,CAAC;YACpCmD,MAAM,GAACA,MAAM,CAACA,MAAM;UACtB;UACAkC,WAAW,CAACuC,WAAW,CAAC;UACxBrC,yBAAyB,CAACsC,iBAAiB,CAAC;QAC9C;MACF;IACF;EACF;EACAM,aAAa,CAAC,CAAC;;EAEjB;EACA;AACF;;AAEA,SAASA,aAAaA,CAAA,EAAG;EACvB,IAAGjC,kBAAkB,CAACkC,cAAc,EAAE;IACpC,IAAIxI,IAAI,GAAG+G,QAAQ,CAACC,cAAc,CAACV,kBAAkB,CAACkC,cAAc,CAAC;IACrE,IAAGxI,IAAI,EAAE;MACPA,IAAI,CAACQ,KAAK,CAAC,CAAC;IACd;IACA8F,kBAAkB,CAACkC,cAAc,GAAGC,SAAS;EAC/C;EACA,IAAGnC,kBAAkB,CAACoC,SAAS,EAAE;IAC/B,IAAI1I,KAAI,GAAG+G,QAAQ,CAACC,cAAc,CAACV,kBAAkB,CAACoC,SAAS,CAAC;IAChE,IAAG1I,KAAI,EAAE;MACPA,KAAI,CAAC2I,MAAM,CAAC,CAAC;IACf;IACArC,kBAAkB,CAACoC,SAAS,GAAGD,SAAS;EAC1C;EACA,IAAGnC,kBAAkB,CAACsC,UAAU,EAAE;IAChC,IAAI5I,MAAI,GAAG+G,QAAQ,CAACC,cAAc,CAACV,kBAAkB,CAACsC,UAAU,CAAC;IACjE,IAAG5I,MAAI,EAAE;MACPA,MAAI,CAAC6I,cAAc,CAAC;QAACC,QAAQ,EAAE,QAAQ;QAAEC,KAAK,EAAE;MAAS,CAAC,CAAC;IAC7D;IACAzC,kBAAkB,CAACsC,UAAU,GAAGH,SAAS;EAC3C;AACF;AAEA,SAASO,MAAMA,CAAC5B,IAAI,EAAEhD,EAAE,EAAEoC,SAAS,EAAsB;EAAA,IAApByC,YAAY,GAAAC,SAAA,CAAAvI,MAAA,QAAAuI,SAAA,QAAAT,SAAA,GAAAS,SAAA,MAAC,KAAK;EACrD,IAAIrB,aAAa,GAAGzB,YAAY,CAACI,SAAS,CAAC;EAC3C;EACA,IAAIU,UAAU,GAAGb,aAAa,CAACG,SAAS,EAAEY,IAAI,CAAC;EAC/C,IAAGF,UAAU,CAACiC,OAAO,IAAIF,YAAY,IAAIhD,SAAS,EAAC;IACjDc,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACoC,SAAS,GAAGnD,SAAS;IACxD,IAAI7B,EAAE,EAAEwB,eAAe,CAACyD,MAAM,CAACjF,EAAE,CAAC;EACpC,CAAC,MACI,IAAG8C,UAAU,CAACiC,OAAO,EAAE;IAC1BrF,eAAe,CAAC+D,aAAa,CAACzH,EAAE,EAAEgH,IAAI,EAAEF,UAAU,CAACzG,QAAQ,CAACuC,OAAO,CAACoE,IAAI,CAAC,EAAEhD,EAAE,EAAE,KAAK,CAAC;EACvF,CAAC,MAAM,IAAI5E,MAAM,CAAC8J,YAAY,IAAI,KAAK,EAAC;IACtCrD,SAAS,GAAGc,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACoC,SAAS;IACxD,IAAIhF,EAAE,EAAEwB,eAAe,CAACyD,MAAM,CAACjF,EAAE,CAAC;EACpC,CAAC,MACG;IACFiB,kBAAkB,CAAC6B,UAAU,CAAC;IAC9B,IAAIc,WAAW,GAAG,EAAE;IACpB,IAAMhI,IAAI,GAAGoF,WAAW,CAAC;MAACgC,IAAI,EAAJA,IAAI;MAAES,aAAa,EAAbA,aAAa;MAACG,WAAW,EAAXA;IAAW,CAAC,CAAC;IAC3DvC,WAAW,CAACuC,WAAW,CAAC;IACxB,IAAMuB,QAAQ,GAAExC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;IAClD,IAAI5C,EAAE,EAAEwB,eAAe,CAACyD,MAAM,CAACjF,EAAE,CAAC;EACpC;AACF;AAEA,SAASoF,kBAAkBA,CAACjG,MAAM,EAAE6D,IAAI,EAAE5D,KAAK,EAAE;EAC/C,IAAI/C,QAAQ,GAAG8C,MAAM,CAAC9C,QAAQ;EAC9BA,QAAQ,CAACgJ,MAAM,CAAChJ,QAAQ,CAACuC,OAAO,CAACoE,IAAI,CAAC,EAAE,CAAC,CAAC;EAC1C3G,QAAQ,CAACgJ,MAAM,CAACjG,KAAK,EAAE,CAAC,EAAE4D,IAAI,CAAC;EAC/B,OAAO3G,QAAQ;AACjB;AAEA,SAASgD,QAAQA,CAACrD,EAAE,EAAEoD,KAAK,EAAE;EAC3B,IAAI,CAAChE,MAAM,CAAC6H,OAAO,CAACjH,EAAE,CAAC,EAAE;IACvB,OAAO2B,OAAO,CAACC,KAAK,CAAC,IAAI0H,KAAK,CAAC,6BAA6B,GAAGtJ,EAAE,CAAC,CAAC;EACrE;EACA,IAAIgH,IAAI,GAAG5H,MAAM,CAAC6H,OAAO,CAACjH,EAAE,CAAC;EAC7B,IAAIuJ,QAAQ,GAAG5C,QAAQ,CAACC,cAAc,CAAC5G,EAAE,CAAC;EAC1C,IAAIwH,QAAQ,GAAG+B,QAAQ,CAAC1G,UAAU,CAAC7C,EAAE;EACrC,IAAImD,MAAM,GAAG/D,MAAM,CAAC6H,OAAO,CAACO,QAAQ,CAAC;EACrC,IAAIgC,UAAU,GAAG7C,QAAQ,CAACC,cAAc,CAACY,QAAQ,CAAC;EAClD,IAAInH,QAAQ,GAAG+I,kBAAkB,CAACjG,MAAM,EAAC6D,IAAI,EAAC5D,KAAK,CAAC;EACpDoG,UAAU,CAACC,YAAY,CAACF,QAAQ,EAAEC,UAAU,CAACnJ,QAAQ,CAAC+C,KAAK,CAAC,CAAC;EAC7D6B,kBAAkB,CAAC9B,MAAM,CAAC;EAC1BgF,aAAa,CAAC,CAAC;AACjB;;AAGA;AACA,SAASzE,eAAeA,CAAC1D,EAAE,EAAEgH,IAAI,EAAE5D,KAAK,EAAEY,EAAE,EAAEtC,OAAO,EAAE0E,SAAS,EAAE;EAChE;EACA,IAAIqB,aAAa,GAAGd,QAAQ,CAACC,cAAc,CAAC5G,EAAE,CAAC;EAC/C,IAAI8G,UAAU,GAAG1H,MAAM,CAAC6H,OAAO,CAACjH,EAAE,CAAC;EACnCgH,IAAI,CAAC7D,MAAM,GAAG2D,UAAU;EACxB,IAAIa,WAAW,GAAG,IAAI;EAEtB,IAAG,CAACF,aAAa,IAAI,CAACX,UAAU,EAAC;IAC/BnF,OAAO,CAACC,KAAK,4BAAA8H,MAAA,CAA4B1J,EAAE,eAAY,CAAC;IACxD;EACF;EAEA8G,UAAU,CAACzG,QAAQ,CAACgJ,MAAM,CAACjG,KAAK,EAAE,CAAC,EAAE4D,IAAI,CAAC;EAE1C,IAAG5D,KAAK,IAAI,CAAC,EACXuE,WAAW,GAAGb,UAAU,MAExBa,WAAW,GAAGb,UAAU,CAACzG,QAAQ,CAAC+C,KAAK,GAAC,CAAC,CAAC;EAE5CgC,sBAAsB,CAAC0B,UAAU,CAAC;EAClC,IAAIc,WAAW,GAAG,EAAE;EACpB,IAAIC,iBAAiB;EACrB,IAAGvC,UAAU,CAAC,CAAC,EAAE;IACfuC,iBAAiB,GAAG;MAACC,CAAC,EAAG,EAAE;MAAEC,CAAC,EAAE;IAAE,CAAC;EACrC;EACA9C,kBAAkB,CAAC6B,UAAU,CAAC;EAC9B,IAAIlH,IAAI,GAAGoF,WAAW,CAAC;IAACgC,IAAI,EAAJA,IAAI;IAAGW,WAAW,EAAXA,WAAW;IAAEvB,SAAS,EAATA,SAAS;IAAEwB,WAAW,EAAXA,WAAW;IAAEC,iBAAiB,EAAjBA;EAAiB,CAAC,CAAC,EAAC;EACxF,IAAI8B,EAAE,GAAG7C,UAAU;EACnB,IAAI8C,EAAE,GAAGnC,aAAa;EACtB,OAAMkC,EAAE,IAAIA,EAAE,CAACxJ,IAAI,IAAI,gBAAgB,EAAE;IACvC;IACAyH,WAAW,CAACM,OAAO,CAACyB,EAAE,CAAC5J,KAAK,CAACC,EAAE,CAAC;IAChC2J,EAAE,GAAGA,EAAE,CAACxG,MAAM;IACdyG,EAAE,GAAGA,EAAE,CAACnC,aAAa;EACvB;EACA;EACA,IAAIA,aAAa,EAAE;IACjB,IAAIoC,cAAc,GAAGlC,WAAW,GAAGhB,QAAQ,CAACC,cAAc,CAACe,WAAW,CAAC5H,KAAK,CAACC,EAAE,CAAC,GAAG,IAAI;IAEvF,IAAI6J,cAAc,IAAIA,cAAc,IAAIxB,SAAS,EAAE;MAC/C,IAAIZ,aAAa,IAAIoC,cAAc,EAAE;QAAE;QACnCpC,aAAa,CAACgC,YAAY,CAAC7J,IAAI,EAAE6H,aAAa,CAACqC,UAAU,CAAC,CAAC,CAAC,CAAC;MAC/D,CAAC,MACE;QAAE;QACH,IAAIC,kBAAkB,GAAGF,cAAc,CAACG,WAAW;QACnDvC,aAAa,CAACgC,YAAY,CAAC7J,IAAI,EAAEmK,kBAAkB,CAAC;MACtD;IACJ,CAAC,MACE;MACDtC,aAAa,CAACwC,WAAW,CAACrK,IAAI,CAAC;IACnC;EACF;EACA,IAAI,CAACR,MAAM,CAAC8K,iBAAiB,IAAIhE,kBAAkB,CAACkC,cAAc,KAAKC,SAAS,EAAC;IAC/EF,aAAa,CAAC,CAAC;EACjB;EACA9C,WAAW,CAACuC,WAAW,CAAC;EACxBrC,yBAAyB,CAACsC,iBAAiB,CAAC;EAC5C,IAAI7D,EAAE,EAAEwB,eAAe,CAACyD,MAAM,CAACjF,EAAE,CAAC;AACpC;AAEA,SAAST,UAAUA,CAACvD,EAAE,EAAEoG,SAAS,EAAE;EACjC,IAAImD,QAAQ,GAAG5C,QAAQ,CAACC,cAAc,CAAC5G,EAAE,CAAC;EAC1C,IAAG,CAACuJ,QAAQ,EAAC;IACXpK,MAAM,CAACgL,kBAAkB,CAACnD,IAAI,CAAC;IAC/B;EACF;EAEA,IAAIQ,QAAQ,GAAG+B,QAAQ,CAAC1G,UAAU,CAAC7C,EAAE;EACrC,IAAG,CAACwH,QAAQ,EAAC;IACXrI,MAAM,CAACgL,kBAAkB,CAACnD,IAAI,CAAC;IAC/BuC,QAAQ,CAACa,MAAM,CAAC,CAAC;IACjB;EACF;EAEA,IAAIZ,UAAU,GAAG7C,QAAQ,CAACC,cAAc,CAACY,QAAQ,CAAC;EAClD,IAAG,CAACgC,UAAU,EAAC;IACbrK,MAAM,CAACgL,kBAAkB,CAACnD,IAAI,CAAC;IAC/BuC,QAAQ,CAACa,MAAM,CAAC,CAAC;IACjB;EACF;EAEA,IAAIpD,IAAI,GAAG5H,MAAM,CAAC6H,OAAO,CAACjH,EAAE,CAAC;EAE7B,IAAG,CAACgH,IAAI,IAAI,CAACA,IAAI,CAAC7G,IAAI,EACpB;EAEF,IAAIgD,MAAM,GAAG,IAAI;EACjB,IAAIkH,GAAG;EAEPlH,MAAM,GAAG/D,MAAM,CAAC6H,OAAO,CAACO,QAAQ,CAAC;EACjC,IAAIrE,MAAM,EAAE;IACVkH,GAAG,GAAGlH,MAAM,CAAC9C,QAAQ,CAACuC,OAAO,CAACoE,IAAI,CAAC;IACnC7D,MAAM,CAAC9C,QAAQ,CAACgJ,MAAM,CAACgB,GAAG,EAAE,CAAC,CAAC;IAC9BlL,MAAM,CAACgL,kBAAkB,CAACnD,IAAI,CAAC;EACjC;EACAuC,QAAQ,CAACa,MAAM,CAAC,CAAC;AACnB;AAEA,SAAS5H,WAAWA,CAACwE,IAAI,EAAEhH,EAAE,EAAEoG,SAAS,EAAE;EACxC,IAAIxG,IAAI,GAAG+G,QAAQ,CAACC,cAAc,CAAC5G,EAAE,CAAC;EACtC,IAAG,CAACJ,IAAI,EACN;EAEF,IAAI4H,QAAQ,GAAG5H,IAAI,CAACiD,UAAU,CAAC7C,EAAE;EACjC,IAAIwJ,UAAU,GAAG7C,QAAQ,CAACC,cAAc,CAACY,QAAQ,CAAC;EAClD,IAAIV,UAAU,GAAG1H,MAAM,CAAC6H,OAAO,CAACO,QAAQ,CAAC;EAEzC,IAAIuB,OAAO,GAAG,IAAI;EAClB,IAAIpB,WAAW,GAAG,IAAI;EAEtB,KAAK,IAAIrH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwG,UAAU,CAACzG,QAAQ,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IACnD,IAAGwG,UAAU,CAACzG,QAAQ,CAACC,CAAC,CAAC,CAACP,KAAK,CAACC,EAAE,IAAIA,EAAE,EAAC;MACvC+I,OAAO,GAAGjC,UAAU,CAACzG,QAAQ,CAACC,CAAC,CAAC;MAEhC,IAAGA,CAAC,IAAI,CAAC,EACPqH,WAAW,GAAGb,UAAU,CAACzG,QAAQ,CAACC,CAAC,GAAC,CAAC,CAAC,MAEtCqH,WAAW,GAAGb,UAAU;MAC1B;IACF;EACF;EAEA,IAAG,CAACiC,OAAO,EACT;;EAEF;EACA,IAAIuB,YAAY,GAAG,EAAE;EACrB,IAAIjK,QAAQ,GAAG0I,OAAO,CAAC1I,QAAQ;EAE/B,IAAGT,IAAI,IAAIS,QAAQ,EAAC;IAClB,KAAI,IAAIC,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAGD,QAAQ,CAACE,MAAM,EAAED,EAAC,EAAE,EAAC;MACtC,IAAIiK,OAAO,GAAGlK,QAAQ,CAACC,EAAC,CAAC,CAACP,KAAK,CAACC,EAAE;MAClC,IAAIwK,SAAS,GAAG7D,QAAQ,CAACC,cAAc,CAAC2D,OAAO,CAAC;MAEhD,IAAGC,SAAS,EACVF,YAAY,CAAC9J,IAAI,CAACgK,SAAS,CAAC;IAChC;EACF;EACA;;EAEAzB,OAAO,CAAChJ,KAAK,GAAGiH,IAAI,CAACjH,KAAK;EAC1ByJ,UAAU,CAAClG,WAAW,CAAC1D,IAAI,CAAC;EAC5B,IAAIgI,WAAW,GAAG,EAAE;EACpB,IAAIC,iBAAiB;EACrB,IAAGvC,UAAU,CAAC,CAAC,EAAE;IACfuC,iBAAiB,GAAG;MAACC,CAAC,EAAG,EAAE;MAAEC,CAAC,EAAE;IAAE,CAAC;EACrC;EACA/C,WAAW,CAAC;IAACgC,IAAI,EAAC+B,OAAO;IAAEtB,aAAa,EAAE+B,UAAU;IAAE7B,WAAW,EAAXA,WAAW;IAAED,SAAS,EAAG,IAAI;IAAEE,WAAW,EAAXA,WAAW;IAAEC,iBAAiB,EAAjBA;EAAiB,CAAC,CAAC;EACrHzI,MAAM,CAAC6H,OAAO,CAACjH,EAAE,CAAC,GAAG+I,OAAO;;EAE5B;EACAnJ,IAAI,GAAG+G,QAAQ,CAACC,cAAc,CAAC5G,EAAE,CAAC;EAElC,IAAGJ,IAAI,IAAI0K,YAAY,CAAC/J,MAAM,GAAG,CAAC,EAAC;IACjC,KAAI,IAAID,GAAC,GAAG,CAAC,EAAEA,GAAC,GAAGgK,YAAY,CAAC/J,MAAM,EAAED,GAAC,EAAE,EAAC;MAC1CV,IAAI,CAACqK,WAAW,CAACK,YAAY,CAAChK,GAAC,CAAC,CAAC;IACnC;EACF;EACA+E,WAAW,CAACuC,WAAW,CAAC;EACxBrC,yBAAyB,CAACsC,iBAAiB,CAAC;EAC5C;EACAM,aAAa,CAAC,CAAC;AACjB;AAEA,SAASsC,iBAAiBA,CAACC,cAAc,EAAE;EAAA,IAAAC,KAAA,YAAAA,MAAA,EACI;MACrC3D,IAAI,GAAG0D,cAAc,CAACpK,CAAC,CAAC,CAAC0G,IAAI;MAC7BjH,KAAK,GAAGiH,IAAI,CAACjH,KAAK;MAClBC,EAAE,GAAG0K,cAAc,CAACpK,CAAC,CAAC,CAACN,EAAE;MAC7B,IAAIJ,IAAI,GAAG+G,QAAQ,CAACC,cAAc,CAAC5G,EAAE,CAAC;MACtC,IAAG,CAACJ,IAAI;MAER,IAAIgL,GAAG,GAAGF,cAAc,CAACpK,CAAC,CAAC,CAACuK,KAAK;MACjC,IAAIC,SAAS,GAAGF,GAAG,CAACG,SAAS,CAAC,CAAC,EAAEH,GAAG,CAACrK,MAAM,CAAC,CAACyK,WAAW,CAAC,CAAC;MAC1D,IAAIjL,KAAK,CAACkL,cAAc,CAACL,GAAG,CAAC,IAAI,OAAO7K,KAAK,CAAC6K,GAAG,CAAC,IAAI,UAAU,EAAE;QAC9D,IAAMvG,QAAQ,GAAGtE,KAAK,CAAC6K,GAAG,CAAC;QAC3B,IAAIA,GAAG,IAAI,qBAAqB,EAAE;UAC9BhL,IAAI,CAACsL,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;YAClCA,CAAC,CAACC,eAAe,CAAC,CAAC;YAEnB,IAAID,CAAC,CAACE,OAAO,IAAI,EAAE,EAAE;cACjBhH,QAAQ,CAAC8G,CAAC,CAAC;YACf;UACJ,CAAC,CAAC;QACN;QACA,IAAIL,SAAS,IAAI,QAAQ,EAAE;UACvBlL,IAAI,CAACsL,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;YAClC9G,QAAQ,CAAC8G,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC;UAC5B,CAAC,CAAC;QACN,CAAC,MAAM,IAAIT,SAAS,IAAI,OAAO,EAAC;UAC5BlL,IAAI,CAACsL,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;YAClC9G,QAAQ,CAAC,MAAM,CAAC;UACpB,CAAC,CAAC;UACFzE,IAAI,CAACsL,gBAAgB,CAAC,MAAM,EAAE,UAACC,CAAC,EAAK;YACjC9G,QAAQ,CAAC,OAAO,CAAC;UACrB,CAAC,CAAC;QACN,CAAC,MAAM;UACHtE,KAAK,CAACyL,gBAAgB,GAAGzL,KAAK,CAACyL,gBAAgB,IAAI,CAAC,CAAC;UACrD,IAAI,OAAOzL,KAAK,CAACyL,gBAAgB,CAACV,SAAS,CAAC,IAAI,UAAU,EAAE;YACxDlL,IAAI,CAAC6L,mBAAmB,CAACX,SAAS,EAAE/K,KAAK,CAACyL,gBAAgB,CAACV,SAAS,CAAC,CAAC;UAC1E;UACA/K,KAAK,CAACyL,gBAAgB,CAACV,SAAS,CAAC,GAAG,UAACK,CAAC,EAAK;YACvCA,CAAC,CAACC,eAAe,CAAC,CAAC;YACnB/G,QAAQ,CAAC8G,CAAC,CAAC;UACf,CAAC;UACDvL,IAAI,CAACsL,gBAAgB,CAACJ,SAAS,EAAE/K,KAAK,CAACyL,gBAAgB,CAACV,SAAS,CAAC,CAAC;QACvE;MACJ;IACJ,CAAC;IAAA9D,IAAA;IAAAjH,KAAA;IAAAC,EAAA;EA3CD,KAAI,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAACoK,cAAc,CAACnK,MAAM,EAAED,CAAC,EAAE;IAAA,IAAAqK,KAAA,IAMrC;EAAQ;AAsChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS5H,QAAQA,CAAA,EAAG;EAClB3D,MAAM,CAACsM,aAAa,GAAGtM,MAAM,CAACsM,aAAa,IAAI,CAAC;EAChD,OAAOtM,MAAM,CAACsM,aAAa,EAAE;AAC/B;AAEA,SAASC,SAASA,CAAA,EAAG;EACnB,OAAOvM,MAAM;AACf;AAEA,SAASwM,WAAWA,CAAA,EAAG;EACrB,OAAOjF,QAAQ;AACjB;AAEA3I,MAAM,CAACC,OAAO,GAAG;EACf8H,kBAAkB,EAAGA,kBAAkB;EAEvCI,mBAAmB,EAAEA,mBAAmB;EAExCM,YAAY,EAAGA,YAAY;EAE3BhF,OAAO,EAAEA,OAAO;EAEhBmH,MAAM,EAAEA,MAAM;EAEdlF,eAAe,EAAEA,eAAe;EAEhCL,QAAQ,EAAEA,QAAQ;EAElBE,UAAU,EAAEA,UAAU;EAEtBf,WAAW,EAAEA,WAAW;EAExBiI,iBAAiB,EAAEA,iBAAiB;EAEpC1H,QAAQ,EAAEA,QAAQ;EAElB4I,SAAS,EAAEA,SAAS;EAEpBC,WAAW,EAAEA,WAAW;EAExBhG,eAAe,EAAGA;AAEpB,CAAC;;;;;;;;;;;;;ACneD;AACA;AACA;;AAEA,IAAAb,QAAA,GAAiB5G,mBAAO,CAAC,kFAAmC,CAAC;EAAtD8K,MAAM,GAAAlE,QAAA,CAANkE,MAAM;AACb,IAAAxD,SAAA,GAAgBtH,mBAAO,CAAC,kCAAW,CAAC;EAA7BW,KAAK,GAAA2G,SAAA,CAAL3G,KAAK;;AAEZ;AACA,IAAI+M,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAY7E,IAAI,EAAC8E,MAAM,EAACC,QAAQ,EAAC3I,KAAK,EAAC;EAEzD,KAAI,IAAIwH,GAAG,IAAIkB,MAAM,EAAE;IACnB,IAAGlB,GAAG,IAAI,SAAS,EAAE;MACjB,IAAIoB,eAAe,GAAE,SAAjBA,eAAeA,CAAA;QAAA,OAAO/C,MAAM,CAAC6C,MAAM,CAACG,OAAO,EAAC7I,KAAK,CAAC;MAAA;MACtD4D,IAAI,CAACjH,KAAK,CAACkM,OAAO,GAAGD,eAAe;IACxC,CAAC,MAAM,IAAID,QAAQ,CAACd,cAAc,CAACa,MAAM,CAAClB,GAAG,CAAC,CAAC,EAAE;MAC7C5D,IAAI,CAACjH,KAAK,CAAC6K,GAAG,CAAC,GAAGmB,QAAQ,CAACD,MAAM,CAAClB,GAAG,CAAC,CAAC;IAC3C;EACJ;AACJ,CAAC;AAED,IAAIsB,OAAO,GAAG,SAAVA,OAAOA,CAAYlF,IAAI,EAACmF,WAAW,EAACJ,QAAQ,EAAC3I,KAAK,EAAC;EACnD,IAAG+I,WAAW,CAACnF,IAAI,CAACjH,KAAK,CAACqM,QAAQ,CAAC,EAAC;IAChCP,kBAAkB,CAAC7E,IAAI,EAACmF,WAAW,CAACnF,IAAI,CAACjH,KAAK,CAACqM,QAAQ,CAAC,EAAEL,QAAQ,EAAC3I,KAAK,CAAC;EAC7E;EACA,KAAI,IAAI9C,EAAC,GAAC,CAAC,EAACA,EAAC,GAAC0G,IAAI,CAAC3G,QAAQ,CAACE,MAAM,EAACD,EAAC,EAAE,EAAC;IACnC4L,OAAO,CAAClF,IAAI,CAAC3G,QAAQ,CAACC,EAAC,CAAC,EAAE6L,WAAW,EAAEJ,QAAQ,EAAC3I,KAAK,CAAC;EAC1D;EACA,OAAO4D,IAAI;AAEf,CAAC;;AAED;AACA,IAAIqF,WAAW,GAAG,SAAdA,WAAWA,CAAYrF,IAAI,EAACmF,WAAW,EAACJ,QAAQ,EAAC3I,KAAK,EAAC;EAEvD,IAAG+I,WAAW,CAACnF,IAAI,CAACjH,KAAK,CAACqM,QAAQ,CAAC,EAAG;IAClCP,kBAAkB,CAAC7E,IAAI,EAACmF,WAAW,CAACnF,IAAI,CAACjH,KAAK,CAACqM,QAAQ,CAAC,EAAEL,QAAQ,EAAC3I,KAAK,CAAC;EAC7E;EACA,IAAG4D,IAAI,CAAC3G,QAAQ,EAChB,KAAI,IAAIC,GAAC,GAAC,CAAC,EAACA,GAAC,GAAC0G,IAAI,CAAC3G,QAAQ,CAACE,MAAM,EAACD,GAAC,EAAE,EAAC;IACnC4L,OAAO,CAAClF,IAAI,CAAC3G,QAAQ,CAACC,GAAC,CAAC,EAAE6L,WAAW,EAAEJ,QAAQ,EAAE3I,KAAK,CAAC;EAC3D;EACA,OAAO4D,IAAI;AAEf,CAAC;;AAID;AACA;AACA,SAAStB,SAASA,CAAC4G,QAAQ,EAACC,QAAQ,EAAC;EACjC,IAAGD,QAAQ,CAAC/L,MAAM,IAAEgM,QAAQ,CAAChM,MAAM,EAC/B,OAAO,QAAQ;EACnB,IAAIiM,WAAW,GAAC,EAAE;EAClB,IAAIC,KAAK,GAAG,EAAE;EACdA,KAAK,GAAGF,QAAQ,CAAChM,MAAM,GAAC,EAAE,GAAC,EAAE,GAACgM,QAAQ,CAAChM,MAAM;EAC7C,KAAI,IAAID,GAAC,GAAE,CAAC,EAACA,GAAC,GAACiM,QAAQ,CAAChM,MAAM,EAACD,GAAC,EAAE,EAClC;IACI,IAAIoM,IAAI,GAAGC,MAAM,CAACD,IAAI,CAACH,QAAQ,CAACjM,GAAC,CAAC,CAAC;IACnC,IAAGoM,IAAI;MAAA,IAAAE,SAAA,GAAAC,0BAAA,CACQH,IAAI;QAAAI,KAAA;MAAA;QAAnB,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GACA;UAAA,IADQrC,GAAG,GAAAkC,KAAA,CAAAvB,KAAA;UAEP,IAAGgB,QAAQ,CAACjM,GAAC,CAAC,CAACsK,GAAG,CAAC,IAAI0B,QAAQ,CAAChM,GAAC,CAAC,CAACsK,GAAG,CAAC,EAAC;YACpC4B,WAAW,CAAChM,IAAI,CAACF,GAAC,CAAC;YACnB;UACJ;QACJ;MAAC,SAAAmE,GAAA;QAAAmI,SAAA,CAAAzB,CAAA,CAAA1G,GAAA;MAAA;QAAAmI,SAAA,CAAAM,CAAA;MAAA;IAAA;EACL;EACA,OAAOV,WAAW;AACtB;AAKA,SAASW,gBAAgBA,CAAChB,WAAW,EAAC;EAClC,IAAIiB,WAAW,GAAG,CAAC,CAAC;EACpB,KAAI,IAAI9M,GAAC,GAAC,CAAC,EAACA,GAAC,GAAC6L,WAAW,CAAC5L,MAAM,EAACD,GAAC,EAAE,EAAC;IACjC,IAAG8M,WAAW,CAACjB,WAAW,CAAC7L,GAAC,CAAC,CAACN,EAAE,CAAC,IAAIqI,SAAS,EAAC;MAC3C+E,WAAW,CAACjB,WAAW,CAAC7L,GAAC,CAAC,CAACN,EAAE,CAAC,GAAG,CAAC,CAAC;IACvC;IACA,KAAI,IAAI4K,GAAG,IAAIuB,WAAW,CAAC7L,GAAC,CAAC,EAAC;MAC1B8M,WAAW,CAACjB,WAAW,CAAC7L,GAAC,CAAC,CAACN,EAAE,CAAC,CAAC4K,GAAG,CAAC,GAAGuB,WAAW,CAAC7L,GAAC,CAAC,CAACsK,GAAG,CAAC;IAC7D;EACJ;EACA,OAAOwC,WAAW;AACtB;;AAIA;AACA,SAASC,cAAcA,CAACrG,IAAI,EAAC;EACzBA,IAAI,CAACjH,KAAK,CAACuN,IAAI,CAACnB,WAAW,GAAGgB,gBAAgB,CAACnG,IAAI,CAACjH,KAAK,CAACuN,IAAI,CAACnB,WAAW,CAAC;EAC3EnF,IAAI,CAAC3G,QAAQ,GAAC,EAAE;EAChBkN,cAAc,CAACvG,IAAI,CAACjH,KAAK,CAACuN,IAAI,CAACpG,QAAQ,CAAC;EACxC,KAAI,IAAI5G,GAAC,GAAC,CAAC,EAACA,GAAC,GAAC0G,IAAI,CAACjH,KAAK,CAACwH,SAAS,CAAChH,MAAM,EAACD,GAAC,EAAE,EAAC;IAC1C,IAAIkN,aAAa,GAAG1O,KAAK,CAACkI,IAAI,CAACjH,KAAK,CAACuN,IAAI,CAACpG,QAAQ,CAAC;IACnD,IAAIuG,SAAS,GAAGpB,WAAW,CAACmB,aAAa,EAACxG,IAAI,CAACjH,KAAK,CAACuN,IAAI,CAACnB,WAAW,EAACnF,IAAI,CAACjH,KAAK,CAACwH,SAAS,CAACjH,GAAC,CAAC,EAACA,GAAC,CAAC;IAChG0G,IAAI,CAAC3G,QAAQ,CAACG,IAAI,CAACiN,SAAS,CAAC;EACjC;AACJ;AAEA,IAAIC,SAAS,GAAG,SAAZA,SAASA,CAAYC,WAAW,EAAC;EACjC,OAAO,YAAU;IACb,OAAO,YAAU;MACbA,WAAW,CAACrN,CAAC,CAAC;IAClB,CAAC;EACL,CAAC;AACL,CAAC;;AAED;AACA,IAAIsN,uBAAuB,GAAG,SAA1BA,uBAAuBA,CAAY5G,IAAI,EAAC1G,CAAC,EAAC;EAC1C,IAAIkN,aAAa,GAAG1O,KAAK,CAACkI,IAAI,CAACjH,KAAK,CAACuN,IAAI,CAACpG,QAAQ,CAAC;EACnD;EACA;EACA;EACA;EACA,IAAIpG,GAAG,GAAEuL,WAAW,CAACmB,aAAa,EAACxG,IAAI,CAACjH,KAAK,CAACuN,IAAI,CAACnB,WAAW,EAACnF,IAAI,CAACjH,KAAK,CAACwH,SAAS,CAACjH,CAAC,CAAC,EAACA,CAAC,CAAC;EACzF,OAAOQ,GAAG;AACd,CAAC;;AAGD;AACA,SAASyM,cAAcA,CAACvG,IAAI,EAC5B;EACIA,IAAI,CAACjH,KAAK,CAACqM,QAAQ,GAAGpF,IAAI,CAACjH,KAAK,CAACC,EAAE;EACnCgH,IAAI,CAACjH,KAAK,CAACC,EAAE,GAAGqI,SAAS;EACzB,IAAGrB,IAAI,CAAC3G,QAAQ;IAAA,IAAAwN,UAAA,GAAAhB,0BAAA,CACM7F,IAAI,CAAC3G,QAAQ;MAAAyN,MAAA;IAAA;MAA/B,KAAAD,UAAA,CAAAd,CAAA,MAAAe,MAAA,GAAAD,UAAA,CAAAb,CAAA,IAAAC,IAAA,GACI;QAAA,IADK/J,KAAK,GAAA4K,MAAA,CAAAvC,KAAA;QACVgC,cAAc,CAACrK,KAAK,CAAC;MAAA;IAAC,SAAAuB,GAAA;MAAAoJ,UAAA,CAAA1C,CAAA,CAAA1G,GAAA;IAAA;MAAAoJ,UAAA,CAAAX,CAAA;IAAA;EAAA;AAClC;AAGAlP,MAAM,CAACC,OAAO,GAAC;EAACyH,SAAS,EAATA,SAAS;EAAC2H,cAAc,EAAdA,cAAc;EAAChB,WAAW,EAAXA,WAAW;EAACuB,uBAAuB,EAAvBA;AAAuB,CAAC;;AAE7E;AACA;AACA;;;;;;;;;;;;;;;;;ACzIA,IAAIG,KAAK,GAAG5P,mBAAO,CAAC,mCAAS,CAAC;AAE9B,IAAI6P,YAAY,GAAG,KAAK;AAExB,SAASC,cAAcA,CAAC/L,OAAO,EAACnC,KAAK,EAACI,IAAI,EAAC;EACvC,IAAI+N,SAAS,GAAG,EAAE;EAClBA,SAAS,IAAIC,QAAQ,CAACpO,KAAK,CAAC;EAC5BmO,SAAS,IAAIE,WAAW,CAACrO,KAAK,CAAC;EAC/BmO,SAAS,IAAIG,gBAAgB,CAACtO,KAAK,CAAC;EACpCmO,SAAS,IAAII,aAAa,CAACvO,KAAK,CAAC;EACjCmO,SAAS,IAAIK,eAAe,CAACxO,KAAK,CAAC;EACnCmO,SAAS,IAAIM,aAAa,CAACzO,KAAK,CAAC;EACjCmO,SAAS,IAAIO,aAAa,CAAC1O,KAAK,CAAC;EACjCmO,SAAS,IAAIQ,mBAAmB,CAACvO,IAAI,EAACJ,KAAK,CAAC;;EAE5C;EACAmO,SAAS,IAAIS,mBAAmB,CAACzM,OAAO,EAACnC,KAAK,CAAC,CAAC,CAAC;EACjD;;EAEA,OAAOmO,SAAS;AACpB;AAEA,IAAIU,cAAc,GAAG,SAAjBA,cAAcA,CAAahP,IAAI,EAAEG,KAAK,EAAEI,IAAI,EAAE;EAC9C,IAAI0O,KAAK,GAAG,EAAE;EACd,IAAI1O,IAAI,IAAI,cAAc,EAAE;IACxB,IAAIJ,KAAK,CAACkL,cAAc,CAAC,OAAO,CAAC,IAAIlL,KAAK,CAACsG,KAAK,IAAI,cAAc,EAAE;MAChEwI,KAAK,IAAI,uBAAuB;MAChCA,KAAK,IAAI,qBAAqB;MAC9B;MACA;IACJ,CAAC,MAAM;MACHA,KAAK,IAAI,gBAAgB;MACzB;IACJ;EACJ,CAAC,MAAM;IACH,IAAI9O,KAAK,CAACkL,cAAc,CAAC,OAAO,CAAC,IAAIlL,KAAK,CAACsG,KAAK,IAAI,cAAc,EAAE;MAChEwI,KAAK,IAAI,uBAAuB;MAChCA,KAAK,IAAI,oBAAoB;MAC7B;MACA;IACJ,CAAC,MAAM;MACH;MACA;MACA,IAAG1O,IAAI,IAAI,SAAS,EAAE;QAClB0O,KAAK,IAAI,iBAAiB;MAC9B;MACA;MACJ;IACA;EACJ;;EACA,OAAOA,KAAK;AAChB,CAAC;;AAED;AACA;AACA,SAASV,QAAQA,CAACpO,KAAK,EAAC;EAEpB,IAAImO,SAAS,GAAG,EAAE;EAElB,IAAKnO,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,IAAIlL,KAAK,CAACkL,cAAc,CAAC,cAAc,CAAC,EAAG;IAC3E,IAAG7L,MAAM,CAAC0P,UAAU,GAAG,GAAG,IAAI,CAAC/O,KAAK,CAACgP,UAAU,EAAE;MAACb,SAAS,IAAI,iBAAiB;IAAC;EACrF;EAEA,IAAInO,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;IAAEiD,SAAS,IAAI,UAAU,GAAGnO,KAAK,CAACgP,UAAU,GAAG,GAAG;EAAE;EAE5F,IAAIhP,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,EAAI;IAAEiD,SAAS,IAAI,aAAa,GAAGnO,KAAK,CAACiP,QAAQ,GAAG,KAAK;EAAE;EAE/F,IAAIjP,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,EAAI;IAAEiD,SAAS,IAAI,aAAa,GAAGnO,KAAK,CAACkP,QAAQ,GAAG,KAAK;EAAE;EAE/F,IAAIlP,KAAK,CAACkL,cAAc,CAAC,iBAAiB,CAAC,EAAE;IAAEiD,SAAS,IAAI,oBAAoB,GAAGH,KAAK,CAACmB,WAAW,CAACnP,KAAK,CAACoP,eAAe,CAAC,GAAG,GAAG;EAAA;EAAC;EAElI,IAAIpP,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,IAAI,CAAClL,KAAK,CAACkL,cAAc,CAAC,eAAe,CAAC,EAAE;IAAEiD,SAAS,IAAI,cAAc,GAAGH,KAAK,CAACmB,WAAW,CAACnP,KAAK,CAACqP,UAAU,CAAC,GAAG,GAAG;EAAA;EAAC;EAE5J,IAAIrP,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,IAAIlL,KAAK,CAACkL,cAAc,CAAC,eAAe,CAAC,IAAIlL,KAAK,CAACsP,aAAa,EAAE;IACpGC,YAAY,GAAGvB,KAAK,CAACmB,WAAW,CAACnP,KAAK,CAACqP,UAAU,CAAC;IAClDlB,SAAS,IAAI,kCAAkC;IAC/CA,SAAS,IAAI,oBAAoB,GAAGoB,YAAY,GAAG,GAAG;IACtDpB,SAAS,IAAI,+BAA+B;IAC5CA,SAAS,IAAI,6CAA6C,GAAGoB,YAAY,GAAG,oBAAoB,GAAGA,YAAY,GAAG,QAAQ,GAAGA,YAAY,GAAG,SAAS;IACrJpB,SAAS,IAAI,mBAAmB,GAAGnO,KAAK,CAACsG,KAAK,GAAG,QAAQ;EAC7D;EAEA,IAAItG,KAAK,CAACkL,cAAc,CAAC,oBAAoB,CAAC,EAAE;IAAEiD,SAAS,IAAI,oBAAoB,GAAG,OAAO,GAACnO,KAAK,CAACwP,kBAAkB,GAAC,IAAI,GAAG,GAAG;EAAA;EAAC;EAElI,IAAIxP,KAAK,CAACkL,cAAc,CAAC,OAAO,CAAC,EAAE;IAAEiD,SAAS,IAAI,SAAS,GAAGH,KAAK,CAACmB,WAAW,CAACnP,KAAK,CAACyP,KAAK,CAAC,GAAG,GAAG;EAAA;EAAC;EAEnG,IAAIzP,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,EAAE;IAACiD,SAAS,IAAI,YAAY,GAAGnO,KAAK,CAAC0P,QAAQ,GAAG,GAAG;EAAA;EAAC;EAExF,IAAI1P,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,EAAE;IAACiD,SAAS,IAAI,UAAU,GAAGnO,KAAK,CAAC2P,WAAW,GAAG,GAAG;EAAA;EAAC;EAE5F,IAAI3P,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,EAAE;IAACiD,SAAS,IAAI,OAAO,GAAGnO,KAAK,CAAC4P,QAAQ,GAAG,GAAG;EAAA;EAAC;EAEnF,IAAI5P,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;IAACiD,SAAS,IAAI,QAAQ,GAAGnO,KAAK,CAAC6P,SAAS,GAAG,GAAG;EAAA;EAAC;EAEtF,IAAI7P,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;IAACiD,SAAS,IAAI,SAAS,GAAGnO,KAAK,CAAC8P,UAAU,GAAG,GAAG;EAAA;EAAC;EAEzF,IAAI9P,KAAK,CAACkL,cAAc,CAAC,QAAQ,CAAC,EAAE;IAACiD,SAAS,IAAI,UAAU,GAAGnO,KAAK,CAAC+P,MAAM,GAAG,GAAG;EAAA;EAAC;EAElF,IAAI/P,KAAK,CAACkL,cAAc,CAAC,cAAc,CAAC,EAAE;IAACiD,SAAS,IAAI,gBAAgB,GAAGnO,KAAK,CAACgQ,YAAY,GAAG,KAAK;EAAA;EAAC;EAEtG,IAAIhQ,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,EAAE;IACrC,IAAA+E,qBAAA,GAA6BjQ,KAAK,CAACkQ,WAAW,CAACC,KAAK,CAAC,GAAG,CAAC;MAAAC,sBAAA,GAAAC,QAAA,CAAAJ,qBAAA;MAAlDK,MAAM,GAAAF,sBAAA;MAAKG,OAAO,GAAAH,sBAAA,CAAAI,KAAA;IACzBrC,SAAS,IAAI,iBAAiB,GAAGoC,OAAO,CAACE,GAAG,CAAC,UAAAC,IAAI;MAAA,UAAA/G,MAAA,CAAO+G,IAAI,GAAGJ,MAAM;IAAA,CAAI,CAAC,CAACK,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG;EAC9F;EAEA,IAAI3Q,KAAK,CAACkL,cAAc,CAAC,OAAO,CAAC,EAAE;IAACiD,SAAS,IAAI,UAAU,GAAGnO,KAAK,CAAC4Q,KAAK,GAAG,GAAG;EAAA;EAAC;EAEhF,IAAI5Q,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;IAACiD,SAAS,IAAI,cAAc,GAAGnO,KAAK,CAAC6Q,UAAU,GAAG,GAAG;EAAA;EAAC;EAE9F,IAAI7Q,KAAK,CAACkL,cAAc,CAAC,gBAAgB,CAAC,IAAIlL,KAAK,CAAC8Q,cAAc,EAAE;IAAC3C,SAAS,IAAI,4BAA4B;EAAC;EAE/G,IAAInO,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;IAACiD,SAAS,IAAI,eAAe,GAAGnO,KAAK,CAAC+Q,UAAU,GAAG,GAAG;EAAC;EAE/F,IAAI/Q,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;IAACiD,SAAS,IAAI,cAAc,GAAGnO,KAAK,CAACgR,SAAS,GAAG,GAAG;EAAC;EAE5F,IAAIhR,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;IAACiD,SAAS,IAAI,kBAAkB,IAAInO,KAAK,CAACiR,SAAS,GAAG,MAAM,GAAG,MAAM,CAAC,GAAG,GAAG;EAAC;EAEpH,IAAIjR,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAAE;IAAEiD,SAAS,IAAI,UAAU,GAAGnO,KAAK,CAACkR,OAAO,GAAG,GAAG;EAAE;EAEtF,IAAIlR,KAAK,CAACmR,SAAS,EAAE;IAAEhD,SAAS,IAAI,iEAAiE;EAAC;EAEtG,OAAOA,SAAS;AAEpB;;AAEA;AACA,SAASE,WAAWA,CAACrO,KAAK,EAAC;EAEvB,IAAImO,SAAS,GAAG,EAAE;EAGlB,IAAInO,KAAK,CAACoR,QAAQ,EAAE;IAChB,QAAOpR,KAAK,CAACoR,QAAQ;MACjB,KAAK,QAAQ;QACbjD,SAAS,IAAI,mBAAmB;QAChC;MACA,KAAK,MAAM;QACXA,SAAS,IAAI,mBAAmB;QAChC;MACA,KAAK,QAAQ;QACbA,SAAS,IAAI,qBAAqB;QAClC;MACA,KAAK,aAAa;QAClBA,SAAS,IAAI,mBAAmB;QAChCA,SAAS,IAAI,qBAAqB;QAClC;MACA,KAAK,WAAW;QAChBA,SAAS,IAAI,6BAA6B;QAC1C;IACJ;EACJ;EAEA,IAAInO,KAAK,CAACqR,SAAS,EAAE;IAEjB,IAAIC,KAAK,GAAGtR,KAAK,CAACqR,SAAS,CAACC,KAAK,CAAC,MAAM,CAAC;IACzC,IAAIC,QAAQ,GAAGD,KAAK,GAAGtR,KAAK,CAACqR,SAAS,CAACb,KAAK,CAAC,CAAC,EAAEc,KAAK,CAACjO,KAAK,CAAC,GAAGrD,KAAK,CAACqR,SAAS;IAE9ElD,SAAS,IAAI,cAAc,GAAGoD,QAAQ,GAAG,GAAG;IAE5C,IAAID,KAAK,EAAE;MACP,IAAIlR,IAAI,GAAGJ,KAAK,CAACqR,SAAS,CAACb,KAAK,CAACc,KAAK,CAACjO,KAAK,GAAG,CAAC,CAAC;MACjDjD,IAAI,GAAGA,IAAI,CAACuB,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;MAChCvB,IAAI,GAAIA,IAAI,CAAC6K,WAAW,CAAC,CAAC;MAE1B,IAAI7K,IAAI,CAACyC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAC5BsL,SAAS,IAAI,qBAAqB;MAEtC,IAAIqD,UAAU,GAAG,CAAC;MAElB,IAAIpR,IAAI,CAACyC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,EAChC2O,UAAU,GAAG,GAAG,CAAC,KAChB,IAAIpR,IAAI,CAACyC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAChC2O,UAAU,GAAG,GAAG,CAAC,KAChB,IAAIpR,IAAI,CAACyC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAIzC,IAAI,CAACyC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,EAChE2O,UAAU,GAAG,GAAG,CAAC,KAChB,IAAIpR,IAAI,CAACyC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAIzC,IAAI,CAACyC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EACnE2O,UAAU,GAAG,GAAG,CAAC,KAChB,IAAIpR,IAAI,CAACyC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAIzC,IAAI,CAACyC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAC9D2O,UAAU,GAAG,GAAG,CAAC,KAChB,IAAIpR,IAAI,CAACyC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAChC2O,UAAU,GAAG,GAAG;MAEpB,IAAGA,UAAU,GAAG,CAAC,EACbrD,SAAS,IAAI,cAAc,GAAEqD,UAAU,GAAE,GAAG;IACpD;EACJ;EAGA,OAAOrD,SAAS;AACpB;AAGA,SAASG,gBAAgBA,CAACtO,KAAK,EAAC;EAC5B,IAAImO,SAAS,GAAG,EAAE;EAClB,IAAIsD,SAAS,GAAG,EAAE;EAClB,IAAIzR,KAAK,CAAC0R,YAAY,EAAE;IAACD,SAAS,IAAI,aAAa,GAAGzR,KAAK,CAAC0R,YAAY,GAAG,MAAM;EAAA;EAAC;EAElF,IAAI1R,KAAK,CAAC2R,YAAY,EAAE;IAACF,SAAS,IAAI,aAAa,GAAGzR,KAAK,CAAC2R,YAAY,GAAG,MAAM;EAAA;EAAC;EAElF,IAAI3R,KAAK,CAAC4R,MAAM,EAAE;IAACH,SAAS,IAAI,SAAS,GAAGzR,KAAK,CAAC4R,MAAM,GAAG,IAAI;EAAA;EAAC;EAEhE,IAAI5R,KAAK,CAAC6R,MAAM,EAAE;IAACJ,SAAS,IAAI,SAAS,GAAGzR,KAAK,CAAC6R,MAAM,GAAG,IAAI;EAAA;EAAC;EAEhE,IAAI7R,KAAK,CAAC8R,QAAQ,EAAE;IAACL,SAAS,IAAI,SAAS,GAAGzR,KAAK,CAAC8R,QAAQ,GAAG,IAAI;EAAA;EAAC;EAEpE,IAAI9R,KAAK,CAAC+R,SAAS,EAAE;IAACN,SAAS,IAAI,UAAU,GAAGzR,KAAK,CAAC+R,SAAS,GAAG,IAAI;EAAA;EAAC;EAEvE,IAAI/R,KAAK,CAACgS,SAAS,EAAE;IAACP,SAAS,IAAI,UAAU,GAAGzR,KAAK,CAACgS,SAAS,GAAG,IAAI;EAAA;EAAC;;EAEvE;EACA;EACA;EACA;EACA;;EAEA;EACA,IAAIP,SAAS,CAACjR,MAAM,GAAG,CAAC,EAAE;IAAC2N,SAAS,IAAI,cAAc,GAAGsD,SAAS,GAAG,GAAG;EAAA;EAAC;EACzE,OAAOtD,SAAS;AACpB;AAGA,SAASI,aAAaA,CAACvO,KAAK,EAAC;EAEzB,IAAImO,SAAS,GAAG,EAAE;EAElB,IAAInO,KAAK,CAACkL,cAAc,CAAC,QAAQ,CAAC,EAAE;IAClC,IAAI+G,MAAM,GAAGjS,KAAK,CAACkS,MAAM,CAAC/B,KAAK,CAAC,GAAG,CAAC;IACpC,IAAI8B,MAAM,CAAC,CAAC,CAAC,EAAE;MACbA,MAAM,CAAC,CAAC,CAAC,GAAGjE,KAAK,CAACmB,WAAW,CAAC8C,MAAM,CAAC,CAAC,CAAC,CAAC;IAC1C;IACA,IAAIA,MAAM,CAACzR,MAAM,IAAI,CAAC,EAAE;MACtB2N,SAAS,IAAI,UAAU,GAAG8D,MAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG;IACrE,CAAC,MAAM,IAAIA,MAAM,CAACzR,MAAM,IAAI,CAAC,EAAE;MAC7B2R,SAAS,GAAG;QACVC,CAAC,EAAE,eAAe;QAClBC,CAAC,EAAE,YAAY;QACfC,CAAC,EAAE,cAAc;QACjBC,CAAC,EAAE;MACL,CAAC;MAAC,IAAA1F,SAAA,GAAAC,0BAAA,CAEYmF,MAAM,CAAC,CAAC,CAAC;QAAAlF,KAAA;MAAA;QAAvB,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAAyB;UAAA,IAAhB3M,CAAC,GAAAwM,KAAA,CAAAvB,KAAA;UACR,IAAI2G,SAAS,CAAC5R,CAAC,CAAC,KAAK+H,SAAS,EAC5B6F,SAAS,IACPgE,SAAS,CAAC5R,CAAC,CAAC,GAAG,IAAI,GAAG0R,MAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG;QACrE;MAAC,SAAAvN,GAAA;QAAAmI,SAAA,CAAAzB,CAAA,CAAA1G,GAAA;MAAA;QAAAmI,SAAA,CAAAM,CAAA;MAAA;IACH;EACF;EAEA,IAAInN,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;IACnC,IAAI+G,OAAM,GAAGjS,KAAK,CAACwS,SAAS,CAACrC,KAAK,CAAC,GAAG,CAAC;IACvC,IAAG8B,OAAM,CAACzR,MAAM,IAAI,CAAC,EACjB2N,SAAS,IAAI,cAAc,GAAG8D,OAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,OAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,KACvE,IAAGA,OAAM,CAACzR,MAAM,IAAI,CAAC,EACtB2N,SAAS,IAAI,cAAc,GAAG8D,OAAM,CAAC,CAAC,CAAC,GAAG,MAAM,GAAGA,OAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,OAAM,CAAC,CAAC,CAAC,GAAG,GAAG;EAC5F;EAEA,IAAIjS,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,EAAE;IACrC,IAAI+G,QAAM,GAAGjS,KAAK,CAACyS,WAAW,CAACtC,KAAK,CAAC,GAAG,CAAC;IACzC,IAAG8B,QAAM,CAACzR,MAAM,IAAI,CAAC,EACjB2N,SAAS,IAAI,gBAAgB,GAAG8D,QAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,KACzE,IAAGA,QAAM,CAACzR,MAAM,IAAI,CAAC,EACtB2N,SAAS,IAAI,gBAAgB,GAAG8D,QAAM,CAAC,CAAC,CAAC,GAAG,MAAM,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG;EAC9F;EAEA,IAAIjS,KAAK,CAACkL,cAAc,CAAC,cAAc,CAAC,EAAE;IACtC,IAAI+G,QAAM,GAAGjS,KAAK,CAAC0S,YAAY,CAACvC,KAAK,CAAC,GAAG,CAAC;IAC1C,IAAG8B,QAAM,CAACzR,MAAM,IAAI,CAAC,EACjB2N,SAAS,IAAI,iBAAiB,GAAG8D,QAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,KAC1E,IAAGA,QAAM,CAACzR,MAAM,IAAI,CAAC,EACtB2N,SAAS,IAAI,iBAAiB,GAAG8D,QAAM,CAAC,CAAC,CAAC,GAAG,MAAM,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG;EAC/F;EAEA,IAAIjS,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,EAAE;IACrC,IAAI+G,QAAM,GAAGjS,KAAK,CAACyS,WAAW,CAACtC,KAAK,CAAC,GAAG,CAAC;IACzC,IAAG8B,QAAM,CAACzR,MAAM,IAAI,CAAC,EACjB2N,SAAS,IAAI,gBAAgB,GAAG8D,QAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,KACzE,IAAGA,QAAM,CAACzR,MAAM,IAAI,CAAC,EACtB2N,SAAS,IAAI,gBAAgB,GAAG8D,QAAM,CAAC,CAAC,CAAC,GAAG,MAAM,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG;EAC9F;EAEA,IAAIjS,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;IACpC,IAAI+G,QAAM,GAAGjS,KAAK,CAAC2S,UAAU,CAACxC,KAAK,CAAC,GAAG,CAAC;IACxC,IAAG8B,QAAM,CAACzR,MAAM,IAAI,CAAC,EACjB2N,SAAS,IAAI,eAAe,GAAG8D,QAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,KACxE,IAAGA,QAAM,CAACzR,MAAM,IAAI,CAAC,EACtB2N,SAAS,IAAI,eAAe,GAAG8D,QAAM,CAAC,CAAC,CAAC,GAAG,MAAM,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG;EAC7F;EAEA,OAAO9D,SAAS;AACpB;AAEA,SAASK,eAAeA,CAACxO,KAAK,EAAC;EAE3B,IAAImO,SAAS,GAAG,EAAE;EAElB,IAAInO,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,EAAE;IAClC,IAAI0H,WAAW,GAAE5R,IAAI,CAACuG,KAAK,CAACvH,KAAK,CAAC6S,QAAQ,CAAC;IAC3C,IAAID,WAAW,CAACxS,IAAI,IAAI,QAAQ,EAAE;MAChC,IAAI0S,KAAK,GAAGF,WAAW,CAACE,KAAK;MAC7B,IAAIb,MAAM,GAAGW,WAAW,CAACX,MAAM;MAC/B,IAAIc,MAAM,GAAGd,MAAM,CAACtB,IAAI,CAAC,IAAI,CAAC;MAC9BxC,SAAS,IAAI,oBAAoB,GAAG,kBAAkB,GAAC2E,KAAK,GAAC,OAAO,GAACC,MAAM,GAAC,IAAI;IAClF,CAAC,MACI;MACH,IAAId,MAAM,GAAGW,WAAW,CAACX,MAAM;MAC/B,IAAIc,MAAM,GAAGd,MAAM,CAACtB,IAAI,CAAC,IAAI,CAAC;MAC9BxC,SAAS,IAAI,oBAAoB,GAAG,kBAAkB,GAAC4E,MAAM,GAAC,IAAI;IACpE;EACJ;EAEA,OAAO5E,SAAS;AACpB;AAEA,SAAS6E,kBAAkBA,CAAChT,KAAK,EAAE;EAC/B;EACA,IAAIiT,cAAc,GAAG,CAACC,MAAM,CAAClT,KAAK,CAACmT,UAAU,IAAI,CAAC,CAAC,GAAE,IAAI,EAAC,KAAK,EAACnT,KAAK,CAACoT,wBAAwB,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,CAAC3C,IAAI,CAAC,GAAG,CAAC;EACzH,OAAO,aAAa,GAAGsC,cAAc,GAAG,GAAG;AAG/C;AACA,SAASM,OAAOA,CAAA,EAAW;EAAA,IAAVtM,IAAI,GAAA8B,SAAA,CAAAvI,MAAA,QAAAuI,SAAA,QAAAT,SAAA,GAAAS,SAAA,MAAG,CAAC,CAAC;EAEtB,IAAI/I,KAAK,GAAGiH,IAAI,CAACjH,KAAK;EACtB,IAAI+G,UAAU,GAAGE,IAAI,CAAC7D,MAAM,IAAI,CAAC,CAAC;EAClC2D,UAAU,CAACyM,KAAK,GAAGzM,UAAU,CAACyM,KAAK,IAAI,CAAC,CAAC;EACzCvM,IAAI,CAACuM,KAAK,GAAGvM,IAAI,CAACuM,KAAK,IAAI,CAAC,CAAC;EAC7B,IAAIC,WAAW,GAAG1M,UAAU,CAAC/G,KAAK,IAAI,CAAC,CAAC;EACxC;EACA;EACA;EACA,IAAI0T,UAAU,GAAG,gBAAgB;EACjCA,UAAU,IAAI,gBAAgB;EAG9B,IAAI1T,KAAK,CAACkL,cAAc,CAAC,OAAO,CAAC,EAAE;IAC/B,IAAIlL,KAAK,CAACsG,KAAK,IAAI,cAAc,IAAI,CAACS,UAAU,CAACyM,KAAK,CAACG,2BAA2B,EAAE;MAChF;MACA,IAAG3T,KAAK,CAACkL,cAAc,CAAC,QAAQ,CAAC,EAAC;QAC9B,IAAI0I,MAAM,GAAC5T,KAAK,CAAC4T,MAAM,CAACzD,KAAK,CAAC,GAAG,CAAC;QAClCuD,UAAU,IAAI,QAAQ,GAAG,cAAc,GAAC,CAACvT,QAAQ,CAACyT,MAAM,CAAC,CAAC,CAAC,CAAC,GAACzT,QAAQ,CAACyT,MAAM,CAAC,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAAC,CAAC,GAAC,OAAO;MACxG,CAAC,MACIH,UAAU,IAAI,gBAAgB;MACnC;IACJ,CAAC,MAAM,IAAI1T,KAAK,CAACsG,KAAK,IAAI,cAAc,IAAIS,UAAU,CAACyM,KAAK,CAACG,2BAA2B,EAAE;MACtF1M,IAAI,CAACuM,KAAK,CAACM,cAAc,GAAG,cAAc;IAC9C,CAAC,MAAM,IAAI9T,KAAK,CAACsG,KAAK,IAAI,cAAc,EAAE;MACtCW,IAAI,CAACuM,KAAK,CAACM,cAAc,GAAG,cAAc;IAC9C,CAAC,MAAM,IAAI,CAACC,KAAK,CAAC/T,KAAK,CAACsG,KAAK,CAAC,EAAE;MAC5B,IAAItG,KAAK,CAACkL,cAAc,CAAC,cAAc,CAAC,IAAIlL,KAAK,CAACgU,YAAY,EAC1DN,UAAU,IAAI,SAAS,GAAG1T,KAAK,CAACsG,KAAK,GAAG,IAAI;MAC5C;MAAA,KAEJoN,UAAU,IAAI,SAAS,GAAG1T,KAAK,CAACsG,KAAK,GAAG,KAAK;MAC7C;IACJ;EACJ;;EACA,IAAItG,KAAK,CAACkL,cAAc,CAAC,QAAQ,CAAC,EAAE;IAChC,IAAIlL,KAAK,CAACwG,MAAM,IAAI,cAAc,IAAI,CAACO,UAAU,CAACyM,KAAK,CAACS,4BAA4B,EAAE;MAClFP,UAAU,IAAI,eAAe;MAC7B;IACJ,CAAC,MAAM,IAAI1T,KAAK,CAACwG,MAAM,IAAI,cAAc,IAAIO,UAAU,CAACyM,KAAK,CAACS,4BAA4B,EAAE;MACxFhN,IAAI,CAACuM,KAAK,CAACU,eAAe,GAAG,cAAc;MAC3CR,UAAU,IAAI,eAAe;MAC7B;MACA;IACJ,CAAC,MAAM,IAAI1T,KAAK,CAACwG,MAAM,IAAI,cAAc,EAAE;MACvCS,IAAI,CAACuM,KAAK,CAACU,eAAe,GAAG,cAAc;IAC/C,CAAC,MAAM,IAAI,CAACH,KAAK,CAAC/T,KAAK,CAACwG,MAAM,CAAC,EAAE;MAC7B,IAAIxG,KAAK,CAACkL,cAAc,CAAC,eAAe,CAAC,IAAIlL,KAAK,CAACmU,aAAa,EAC5DT,UAAU,IAAI,UAAU,GAAG1T,KAAK,CAACwG,MAAM,GAAG,IAAI;MAC9D;MAAA,KAEgBkN,UAAU,IAAI,UAAU,GAAG1T,KAAK,CAACwG,MAAM,GAAG,KAAK;MAC/D;IACQ;EACJ;;EAEA,IAAIxG,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC6I,KAAK,CAAC/T,KAAK,CAACoU,QAAQ,CAAC,EAAE;IAC5D,IAAIpU,KAAK,CAACqU,eAAe,EACrBX,UAAU,IAAI,aAAa,GAAG1T,KAAK,CAACoU,QAAQ,GAAG,IAAI;IAC/D;IAAA,KAEYV,UAAU,IAAI,aAAa,GAAG1T,KAAK,CAACoU,QAAQ,GAAG,KAAK;;IAExD;EACJ;;EAEA,IAAIpU,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC6I,KAAK,CAAC/T,KAAK,CAACsU,SAAS,CAAC,EAAE;IAC9D,IAAItU,KAAK,CAACuU,gBAAgB,EACtBb,UAAU,IAAI,cAAc,GAAG1T,KAAK,CAACsU,SAAS,GAAG,IAAI;IACrD;IAAA,KAEAZ,UAAU,IAAI,cAAc,GAAG1T,KAAK,CAACsU,SAAS,GAAG,KAAK;IACtD;EACR;;EAEA,IAAItU,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC6I,KAAK,CAAC/T,KAAK,CAACwU,QAAQ,CAAC,EAAE;IAC5D,IAAIxU,KAAK,CAACyU,eAAe,EACrBf,UAAU,IAAI,aAAa,GAAG1T,KAAK,CAACwU,QAAQ,GAAG,IAAI;IAC/D;IAAA,KAEYd,UAAU,IAAI,aAAa,GAAG1T,KAAK,CAACwU,QAAQ,GAAG,KAAK;IACxD;EACJ;;EAEA,IAAIxU,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC6I,KAAK,CAAC/T,KAAK,CAAC0U,SAAS,CAAC,EAAE;IAC9D,IAAI1U,KAAK,CAAC2U,gBAAgB,EACtBjB,UAAU,IAAI,cAAc,GAAG1T,KAAK,CAAC0U,SAAS,GAAG,IAAI;IAC1D;IAAA,KAEKhB,UAAU,IAAI,cAAc,GAAG1T,KAAK,CAAC0U,SAAS,GAAG,KAAK;IACtD;EACR;;EACA,OAAOhB,UAAU;AACrB;AAEA,SAASkB,SAASA,CAAC5U,KAAK,EAAE;EACtB,IAAI0T,UAAU,GAAG,EAAE;EACnB,IAAI1T,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAAE;IACjC,IAAI2J,OAAO,GAAG7U,KAAK,CAAC6U,OAAO,CAAC1E,KAAK,CAAC,GAAG,CAAC,CAACM,GAAG,CAAC,UAAAqE,CAAC;MAAA,OAAIA,CAAC,GAAG,CAAC;IAAA,EAAC;IACtDpB,UAAU,IAAI,WAAW,GAAGmB,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGA,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGA,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGA,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK;IACrH;EACI;;EAEA,IAAI7U,KAAK,CAACkL,cAAc,CAAC,QAAQ,CAAC,EAAE;IAChC,IAAI0I,MAAM,GAAG5T,KAAK,CAAC4T,MAAM,CAACzD,KAAK,CAAC,GAAG,CAAC,CAACM,GAAG,CAAC,UAAAqE,CAAC;MAAA,OAAIA,CAAC,GAAG,CAAC;IAAA,EAAC;IACpDpB,UAAU,IAAI,UAAU,GAAGE,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGA,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGA,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGA,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK;IAChH;EACI;;EACA,OAAOF,UAAU;AACrB;AAEA,SAASqB,aAAaA,CAAClV,IAAI,EAAEG,KAAK,EAAEI,IAAI,EAAE;EACtC,IAAIsT,UAAU,GAAG,EAAE;EACnB,IAAI1T,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;IACpC,IAAI8J,UAAU,GAAGhV,KAAK,CAACgV,UAAU;IACjC,IAAIA,UAAU,IAAI,WAAW,EACzBtB,UAAU,IAAI,qBAAqB;IACnC;IAAA,KACC,IAAIsB,UAAU,IAAI,MAAM,EACzBtB,UAAU,IAAI,gBAAgB;IAC9B;IAAA,KACC;MACD;MACA;MACAA,UAAU,IAAI7E,cAAc,CAAChP,IAAI,EAAEG,KAAK,EAAEI,IAAI,CAAC;IACnD;EACJ,CAAC,MAAM;IACHsT,UAAU,IAAI7E,cAAc,CAAChP,IAAI,EAAEG,KAAK,EAAEI,IAAI,CAAC;EACnD;EACA,OAAOsT,UAAU;AACrB;AAEA,SAASuB,gBAAgBA,CAACpV,IAAI,EAAEG,KAAK,EAAEI,IAAI,EAAE;EACzC,IAAIsT,UAAU,GAAG,EAAE;EACnB,IAAItT,IAAI,IAAI,iBAAiB,IAAIJ,KAAK,CAACkL,cAAc,CAAC,QAAQ,CAAC,EAAE;IAC7DwI,UAAU,IAAI,mBAAmB;IACjC,IAAIwB,aAAa,GAAG,CAAC,CAAC,CAAC;IACvB,IAAIR,SAAS;IACb,IAAI1U,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;MACnCwJ,SAAS,GAAG1U,KAAK,CAAC0U,SAAS;IAC/B,CAAC,MAAM;MACHA,SAAS,GAAG1G,KAAK,CAACmH,eAAe,CAACtV,IAAI,CAAC;MACvC,IAAIA,IAAI,CAACuV,aAAa,CAAC,kBAAkB,CAAC,EAAE;QACxCV,SAAS,IAAI,GAAG,CAAC,CAAC;MACtB;MAAC;IACL;IACA,IAAI1U,KAAK,CAACkL,cAAc,CAAC,gBAAgB,CAAC,EAAE;MACxCgK,aAAa,GAAG,CAAClV,KAAK,CAACqV,cAAc,GAAG,IAAI;IAChD;IACA3B,UAAU,IAAI,yBAAyB,GAAGwB,aAAa,GAAG,gBAAgB;IAC1E,IAAIlV,KAAK,CAACsV,MAAM,EAAC;MACb5B,UAAU,IAAK,cAAc,IAAIgB,SAAS,IAAI,CAAC,GAAG,IAAI,GAAGA,SAAS,CAAC,GAAG,KAAK;IAC/E,CAAC,MACI;MACDhB,UAAU,IAAI,kBAAkB;IACpC;EACJ;EACA,OAAOA,UAAU;AACrB;AACA,SAAS6B,WAAWA,CAACvV,KAAK,EAAE;EACxB,IAAI0T,UAAU,GAAE,EAAE;EAClB,IAAI1T,KAAK,CAACkL,cAAc,CAAC,iBAAiB,CAAC,EAAE;IACzC,IAAIlL,KAAK,CAACwV,eAAe,EAAE;MACvB9B,UAAU,IAAI,oBAAoB;MAClC;IACJ;EACJ;;EACA,OAAOA,UAAU;AACrB;AACA,SAAS+B,sBAAsBA,CAAC5V,IAAI,EAAEG,KAAK,EAAE;EAEzC,IAAI0V,iBAAiB,GAAG,EAAE;EAE1B,IAAI,CAAC1V,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,IAAI,CAAClL,KAAK,CAAC2V,OAAO,EAAE;IACpD3V,KAAK,CAAC2V,OAAO,GAAG,EAAE;IAClB;EACJ;;EAEA,QAAQ3V,KAAK,CAAC2V,OAAO;IACjB,KAAK,iBAAiB;MAClBD,iBAAiB,IAAI,sBAAsB;MAC3CA,iBAAiB,IAAI,8BAA8B;;MAEnD;MACA;MACA;IACJ,KAAK,QAAQ;MACXA,iBAAiB,IAAI,wBAAwB;MAC7C;IACF,KAAK,mBAAmB;MACpBA,iBAAiB,IAAI,0BAA0B;MAC/CA,iBAAiB,IAAI,0BAA0B;MAC/C;MACA;MACA;IACJ,KAAK,QAAQ;MACTA,iBAAiB,IAAI,sBAAsB;MAC3CA,iBAAiB,IAAI,0BAA0B;MAC/C;MACA;MACA;IACJ,KAAK,MAAM;IACX,KAAK,OAAO;MACRA,iBAAiB,IAAI,0BAA0B;MAC/CA,iBAAiB,IAAI,8BAA8B;MACnD;MACA;MACA;IACJ,KAAK,OAAO;IACZ,KAAK,KAAK;MACNA,iBAAiB,IAAI,0BAA0B;MAC/CA,iBAAiB,IAAI,4BAA4B;MACjD;MACA;MACA;IACJ,KAAK,SAAS;MACVA,iBAAiB,IAAI,uBAAuB;MAC5CA,iBAAiB,IAAI,8BAA8B;MACnD;MACA;MACA;IACJ;MACIA,iBAAiB,IAAI,0BAA0B;MAC/CA,iBAAiB,IAAI,8BAA8B;MACnD;MACA;MACA;EACR;EAEA,OAAOA,iBAAiB;AAC5B;AACA,SAASE,yBAAyBA,CAAC/V,IAAI,EAAEG,KAAK,EAAE;EAE5C,IAAI6V,iBAAiB,GAAG,EAAE;EAC1B,IAAI,CAAC7V,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,IAAI,CAAClL,KAAK,CAAC2V,OAAO,EAAE;IACpD3V,KAAK,CAAC2V,OAAO,GAAG,EAAE;IAClB;EACJ;;EAEA,QAAQ3V,KAAK,CAAC2V,OAAO;IACjB,KAAK,iBAAiB;MAClBE,iBAAiB,IAAI,0BAA0B;MAC/CA,iBAAiB,IAAI,0BAA0B;MAC/C;MACA;MACA;IACJ,KAAK,QAAQ;MACXA,iBAAiB,IAAI,4BAA4B;MACjD;IACF,KAAK,mBAAmB;MACpBA,iBAAiB,IAAI,sBAAsB;MAC3CA,iBAAiB,IAAI,8BAA8B;MACnD;MACA;MACA;IACJ,KAAK,QAAQ;MACTA,iBAAiB,IAAI,sBAAsB;MAC3CA,iBAAiB,IAAI,0BAA0B;MAC/C;MACA;MACA;IACJ,KAAK,MAAM;IACX,KAAK,OAAO;MACRA,iBAAiB,IAAI,0BAA0B;MAC/CA,iBAAiB,IAAI,8BAA8B;MACnD;MACA;MACA;IACJ,KAAK,OAAO;IACZ,KAAK,KAAK;MACNA,iBAAiB,IAAI,wBAAwB;MAC7CA,iBAAiB,IAAI,8BAA8B;MACnD;MACA;MACA;IACJ,KAAK,SAAS;MACVA,iBAAiB,IAAI,uBAAuB;MAC5CA,iBAAiB,IAAI,8BAA8B;MACnD;MACA;MACA;IACJ;MACIA,iBAAiB,IAAI,0BAA0B;MAC/CA,iBAAiB,IAAI,8BAA8B;MACnD;MACA;MACA;EACR;EACA,OAAOA,iBAAiB;AAC5B;AAEA,SAASC,SAASA,CAACjW,IAAI,EAAEO,IAAI,EAAEJ,KAAK,EAAE;EAClC,IAAI+V,UAAU,GAAG/V,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,GAAClL,KAAK,CAAC+V,UAAU,GAAC,IAAI;EACzE,IAAIC,UAAU,GAAGhW,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,GAAClL,KAAK,CAAC+V,UAAU,GAAC,IAAI;EACzE,IAAIE,gBAAgB,GAAGjW,KAAK,CAACkL,cAAc,CAAC,kBAAkB,CAAC,GAAClL,KAAK,CAACiW,gBAAgB,GAAC,KAAK,CAAC,CAAC;EAC9F,IAAIvC,UAAU,GAAG,EAAE;EACnB,QAAOtT,IAAI;IACP,KAAK,cAAc;MACfsT,UAAU,IAAI,yBAAyB;MACvC;;MAEA,IAAG,CAACuC,gBAAgB,EAAC;QACjBvC,UAAU,IAAI,wBAAwB;QACtCA,UAAU,IAAI,2BAA2B;MAC7C;MAEA,IAAI1T,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,IAAI,CAAClL,KAAK,CAACkW,SAAS,EAAE;QACvDxC,UAAU,IAAI,oBAAoB;QAClC;MACJ,CAAC,MAAM;QACH;QACA;MAAA;MAIJ,IAAIyC,MAAM,GAAGnW,KAAK,CAACoW,WAAW,IAAI,UAAU,GAAG,QAAQ,GAAG,KAAK;MAC/D1C,UAAU,IAAI,kBAAkB,GAAGyC,MAAM,GAAG,GAAG;MAC/C;;MAEA,IAAIA,MAAM,IAAI,KAAK,EACfzC,UAAU,IAAI+B,sBAAsB,CAAC5V,IAAI,EAAEG,KAAK,CAAC,CAAC,KAElD0T,UAAU,IAAIkC,yBAAyB,CAAC/V,IAAI,EAAEG,KAAK,CAAC;;MAExD;MACA;MACA;MACA;;MAEA,IAAIA,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;QACpC,IAAIlL,KAAK,CAAC+V,UAAU,EAChBrC,UAAU,IAAI,mBAAmB;QACrD;QAAA,KAEoBA,UAAU,IAAI,qBAAqB;QACvD;MACY;;MAEA,IAAI1T,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;QACpC,IAAIlL,KAAK,CAACgW,UAAU,EAChBtC,UAAU,IAAI,mBAAmB;QACjC;QAAA,KAEAA,UAAU,IAAI,qBAAqB;QACnC;MACR;;MACA;IACJ,KAAK,sBAAsB;MACvBA,UAAU,IAAI,mBAAmB;MACjCA,UAAU,IAAI,qBAAqB;MACnC;MACA;;MAEA;MACA;MACA;IACJ,KAAK,UAAU;MACXA,UAAU,IAAI,qBAAqB;MACnCA,UAAU,IAAI,mBAAmB;;MAEjC;MACA;;MAEA;MACA;MACI;MACJ;IACJ,KAAK,YAAY;MACbA,UAAU,IAAI,mBAAmB;MACjCA,UAAU,IAAI,mBAAmB;;MAEjC;MACA;;MAEA;MACA;MACA;MACA;MACA,IAAG,CAACuC,gBAAgB,EAAC;QACjBvC,UAAU,IAAI,wBAAwB,EAAC;QACvCA,UAAU,IAAI,2BAA2B,EAAC;MAC9C;;MACA;IACJ,KAAK,gBAAgB;MACjBA,UAAU,IAAI,qBAAqB;MACnC;;MAEA,IAAI1T,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;QACpC,IAAIlL,KAAK,CAAC+V,UAAU,EAChBrC,UAAU,IAAI,mBAAmB;QACjC;QAAA,KAEAA,UAAU,IAAI,qBAAqB;QACnC;MACJ;;MAEA,IAAI1T,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;QACpC,IAAIlL,KAAK,CAACgW,UAAU,EAChBtC,UAAU,IAAI,mBAAmB;QACjC;QAAA,KAEAA,UAAU,IAAI,qBAAqB;QAC3C;MACR;EACJ;;EAEA,OAAOA,UAAU;AACrB;AAEA,SAAS2C,QAAQA,CAACjW,IAAI,EAACJ,KAAK,EAACH,IAAI,EAAE;EAC/B,IAAIO,IAAI,IAAI,WAAW,EAAE;IACrB,IAAIJ,KAAK,CAACsW,QAAQ,IAAEtW,KAAK,CAACuW,MAAM,EAAE;MAC9B,IAAID,QAAQ,GAAGtW,KAAK,CAACsW,QAAQ,IAAEtW,KAAK,CAACuW,MAAM;MAE3C,IAAIvW,KAAK,CAACwW,OAAO,EAAE;QACf;MAAA,CACH,MAAM;QACH,IAAIC,IAAI,GAAGH,QAAQ,CAACnG,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIuG,GAAG,GAAG,EAAE;QACZ,IAAID,IAAI,IAAIA,IAAI,CAACjW,MAAM,GAAG,CAAC,EACvBkW,GAAG,GAAGD,IAAI,CAACA,IAAI,CAACjW,MAAM,GAAG,CAAC,CAAC;QAE/B,IAAImW,IAAI,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;QACtDD,GAAG,GAAGA,GAAG,CAACzL,WAAW,CAAC,CAAC;QAEvB,IAAG,CAACqL,QAAQ,CAACM,QAAQ,CAAC,aAAa,CAAC,IAAI,CAACD,IAAI,CAACC,QAAQ,CAACF,GAAG,CAAC,EAAE;UACzDJ,QAAQ,IAAI,MAAM;QACtB;MACJ;MACA,IAAIjX,MAAM,CAAC8J,YAAY,EAAE;QACrBtJ,IAAI,CAACgX,YAAY,CAAC,MAAM,EAAEP,QAAQ,CAAC;MACvC,CAAC,MAAM;QACHzW,IAAI,CAACgX,YAAY,CAAC,KAAK,EAAEP,QAAQ,CAAC;MACtC;MACA,IAAGtW,KAAK,CAACuW,MAAM,IAAK,CAAClX,MAAM,CAAC8J,YAAa,EACzC;QACI,IAAI2N,KAAK,GAAG9W,KAAK,CAAC+W,UAAU,IAAI,EAAE;QAClC,IAAIC,UAAU,GAAGF,KAAK,GAAG9W,KAAK,CAACiX,SAAS;QACxC,IAAIC,GAAG,GAAGlX,KAAK,CAACuW,MAAM,CAACY,WAAW,CAAC,GAAG,CAAC;QACvC,IAAIC,OAAO,GAAGpX,KAAK,CAACuW,MAAM,CAACc,MAAM,CAAC,CAAC,EAACH,GAAG,CAAC,IAAElX,KAAK,CAACiX,SAAS,GAAC,CAAC,CAAC,GAAC,MAAM;QACnEK,UAAU,CAAC,YAAU;UAACzX,IAAI,CAACgX,YAAY,CAAC,KAAK,EAACO,OAAO,CAAC;QAAC,CAAC,EAACJ,UAAU,CAAC;MACxE;IACJ;EACJ;AACJ;AACA,SAASO,WAAWA,CAACjX,QAAQ,EAAC;EAC1B,IAAIkX,OAAO,GAAG,IAAI;EAClB,IAAIlX,QAAQ,CAACE,MAAM,EAAE;IACjB,KAAK,IAAID,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,QAAQ,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;MACtC,IAAID,QAAQ,CAACC,CAAC,CAAC,CAACkX,QAAQ,CAACxM,WAAW,CAAC,CAAC,IAAI,SAAS,EAAE;QACjDuM,OAAO,GAAGlX,QAAQ,CAACC,CAAC,CAAC;QACrB;MACJ;IACJ;EACJ;EACA,OAAOiX,OAAO,GAAEA,OAAO,GAAC5Q,QAAQ,CAAC8Q,aAAa,CAAC,SAAS,CAAC;AAC7D;AACA,SAASC,UAAUA,CAACrX,QAAQ,EAAEgB,MAAM,EAAE;EAClC,IAAIkW,OAAO,GAAGD,WAAW,CAACjX,QAAQ,CAAC;EAEnC,IAAIgB,MAAM,CAACsW,aAAa,EACpBJ,OAAO,CAACvO,SAAS,GAAG3H,MAAM,CAACuW,YAAY,MAEvCL,OAAO,CAACM,WAAW,GAAGxW,MAAM,CAACyW,IAAI;EACrCP,OAAO,CAAC1I,KAAK,CAACkJ,SAAS,GAAG,YAAY;EACtCR,OAAO,CAAC1I,KAAK,CAACoC,OAAO,GAAG,QAAQ;EAChC,OAAOsG,OAAO;AAElB;AACA,SAASS,YAAYA,CAAC3W,MAAM,EAAC;EACzB,IAAIyW,IAAI,GAAG,sBAAsB;EACjC,OAAOzW,MAAM,CAAC4W,aAAa,GAAGH,IAAI,GAAG,iBAAiB,GAACzW,MAAM,CAAC4W,aAAa,GAAC,GAAG,GAAGH,IAAI;AAC1F;AACA,SAASI,iBAAiBA,CAACtY,IAAI,EAAEyB,MAAM,EAAE;EAErC,IAAI8W,UAAU,GAAGH,YAAY,CAAC3W,MAAM,CAAC;EACrC,IAAIkW,OAAO,GAAGG,UAAU,CAAC9X,IAAI,CAACkK,UAAU,EAAEzI,MAAM,CAAC;EACjDzB,IAAI,CAACqK,WAAW,CAACsN,OAAO,CAAC;EACzB,OAAOY,UAAU;AACrB;AAEA,SAASC,YAAYA,CAACrY,KAAK,EAC3B;EACI,IAAIuN,IAAI,GAAGvN,KAAK,CAACsY,OAAO,CAACnI,KAAK,CAAC,GAAG,CAAC;EACnC,IAAI3P,MAAM,GAAGL,QAAQ,CAACoN,IAAI,CAACgL,GAAG,CAAC,CAAC,CAAC;EACjC,IAAIC,WAAW,GAAGjL,IAAI,CAACoD,IAAI,CAAC,EAAE,CAAC;EAC/B,IAAI8H,SAAS,GAAGzY,KAAK,CAAC+X,IAAI;EAC1B,IAAIvX,MAAM,IAAIiY,SAAS,CAACjY,MAAM,GAAGA,MAAM,EACnC,OAAO,KAAK;EAChB,IAAGR,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EACpC;IACIuN,SAAS,GAAGA,SAAS,CAAC9W,OAAO,CAAC,IAAI+W,MAAM,CAAC1Y,KAAK,CAAC2Y,SAAS,EAAE,GAAG,CAAC,EAAG,EAAE,CAAC;EACxE;EACA,IAAIH,WAAW,EAAE;IACb,IAAII,YAAY,GAAG,IAAIF,MAAM,CAACF,WAAW,CAAC;IAC1C,IAAI,CAACI,YAAY,CAACC,IAAI,CAACJ,SAAS,CAAC,EAAE;MAC/B,OAAO,KAAK;IAChB;EACJ;EACA,OAAO,IAAI;AACf;AAEA,SAASK,iBAAiBA,CAAC9Y,KAAK,EAAEH,IAAI,EAAEO,IAAI,EAAE;EAC1C,IAAIsT,UAAU,GAAG,EAAE;EACnB,IAAI1T,KAAK,CAACkL,cAAc,CAAC,MAAM,CAAC,EAAC;IAC7B,IAAI9K,IAAI,IAAI,UAAU,EACtB;MACIP,IAAI,CAAC2L,KAAK,GAAGxL,KAAK,CAAC+X,IAAI;MACvB,IAAG/X,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAClC;QACI,IAAGmN,YAAY,CAACrY,KAAK,CAAC,EACtB;UACIH,IAAI,CAACkZ,aAAa,GAAG/Y,KAAK,CAAC+X,IAAI;QACnC;MACJ;IACJ,CAAC,MAEGrE,UAAU,IAAIyE,iBAAiB,CAACtY,IAAI,EAAEG,KAAK,CAAC;EACpD;EAEA,IAAIA,KAAK,CAACkL,cAAc,CAAC,cAAc,CAAC,EAAE;IACtClL,KAAK,CAAC4X,aAAa,GAAG,IAAI;IAC1B,IAAIxX,IAAI,IAAI,UAAU,EAClBP,IAAI,CAAC2L,KAAK,GAAGxL,KAAK,CAAC6X,YAAY,MAE/BnE,UAAU,IAAIyE,iBAAiB,CAACtY,IAAI,EAAEG,KAAK,CAAC;EACpD;EACA,OAAOA,KAAK,CAAC+X,IAAI;EACjB,OAAOrE,UAAU;AACrB;AACA,SAASsF,sBAAsBA,CAAChZ,KAAK,EAAEH,IAAI,EAAE;EACzC,IAAIG,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;IACnC,IAAI,CAAClL,KAAK,CAACiZ,SAAS,IAAI,EAAE,EAAEC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MACvClZ,KAAK,CAACiZ,SAAS,CAAC9I,KAAK,CAAC,GAAG,CAAC,CAACM,GAAG,CAAC,UAAAwI,SAAS,EAAI;QACxCpZ,IAAI,CAACsZ,SAAS,CAACC,GAAG,CAACH,SAAS,CAAC;MACjC,CAAC,CAAC;IACN;EACJ;EAEA,IAAIjZ,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;IACnClK,IAAI,CAACuG,KAAK,CAACvH,KAAK,CAACmZ,SAAS,CAAC,CAACE,OAAO,CAAC,UAAU7X,GAAG,EAAE;MAC/C3B,IAAI,CAACsZ,SAAS,CAACC,GAAG,CAAC5X,GAAG,CAAC;IAC3B,CAAC,CAAC;EACN;EAEA,IAAIxB,KAAK,CAACkL,cAAc,CAAC,iBAAiB,CAAC,EAAC;IACxClK,IAAI,CAACuG,KAAK,CAACvH,KAAK,CAACsZ,eAAe,CAAC,CAACD,OAAO,CAAC,UAAU7X,GAAG,EAAE;MACrD3B,IAAI,CAACsZ,SAAS,CAAC9O,MAAM,CAAC7I,GAAG,CAAC;IAC9B,CAAC,CAAC;EACN;AACJ;AACA,SAAS+X,YAAYA,CAACvZ,KAAK,EAAEH,IAAI,EAAE;EAC/B,IAAI6T,UAAU,GAAE,EAAE;EAClB,KAAK,IAAI7I,GAAG,IAAI7K,KAAK,EAAE;IACnB,IAAIA,KAAK,CAAC6K,GAAG,CAAC,IAAI,OAAO7K,KAAK,CAAC6K,GAAG,CAAC,IAAI,UAAU,EAAE;MAC/C,IAAIE,SAAS,GAAGF,GAAG,CAACG,SAAS,CAAC,CAAC,EAAEH,GAAG,CAACrK,MAAM,CAAC,CAACyK,WAAW,CAAC,CAAC;MAC1D,IAAIuO,MAAM,GAAGxZ,KAAK,CAAC6K,GAAG,CAAC;MACvB6I,UAAU,IAAI,oBAAoB;MAClC;MACA,IAAI3I,SAAS,IAAI,QAAQ,EAAE;QACvBA,SAAS,GAAG,OAAO;MACvB;MAEAlL,IAAI,CAACsL,gBAAgB,CAAC,MAAM,EAAE,YAAY;QACtC,IAAIsO,UAAU,GAAG5Z,IAAI,CAAC2L,KAAK;QAC3B,IAAIiO,UAAU,IAAI,EAAE,EAAE;UAClB5Z,IAAI,CAACsZ,SAAS,CAAC9O,MAAM,CAAC,QAAQ,CAAC;UAC/BxK,IAAI,CAACiD,UAAU,CAACqW,SAAS,CAAC9O,MAAM,CAAC,SAAS,CAAC;QAC/C,CAAC,MAAM;UACHxK,IAAI,CAACsZ,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;QAChC;MACJ,CAAC,CAAC;MAEFvZ,IAAI,CAAC,SAAS,CAAC,GAAG,UAAUuL,CAAC,EAAE;QAC3BvL,IAAI,CAACiD,UAAU,CAACqW,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;QACxC,IAAIrO,SAAS,IAAI,OAAO,EAAE;UACtBK,CAAC,CAACC,eAAe,CAAC,CAAC;UACnBmO,MAAM,CAACpO,CAAC,CAAC;QACb;MACJ,CAAC;IACL;EACJ;EACA,OAAOsI,UAAU;AACrB;AACA,SAASgG,sBAAsBA,CAAC1Z,KAAK,EAAE;EACnC,IAAI0T,UAAU,GAAE,EAAE;EAClB,IAAIiG,oBAAoB,GAAGC,kBAAkB,CAAC5Z,KAAK,CAAC;EAEpD,IAAI6Z,mBAAmB,GAAGC,iBAAiB,CAAC9Z,KAAK,CAAC;EAElD,IAAI+Z,iBAAiB,GAAGC,eAAe,CAACha,KAAK,CAAC;EAE9C,IAAI2Z,oBAAoB,CAACnZ,MAAM,GAAG,CAAC,IAAKqZ,mBAAmB,CAACrZ,MAAM,GAAGuZ,iBAAiB,CAACvZ,MAAM,GAAG,CAAE,EAAE;IAAE;IAClG,IAAMyZ,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;MAC1BvG,UAAU,IAAIiG,oBAAoB;MAClC,IAAIE,mBAAmB,CAACrZ,MAAM,GAAG,CAAC,EAAEkT,UAAU,IAAImG,mBAAmB;MACrE,IAAIE,iBAAiB,CAACvZ,MAAM,GAAG,CAAC,EAAE;QAAEkT,UAAU,IAAIqG,iBAAiB;MAAC;IACxE,CAAC;IAED,IAAI/Z,KAAK,CAAC8O,KAAK,CAAC2C,SAAS,IAAIzR,KAAK,CAAC8O,KAAK,CAACoL,OAAO,EAAE;MAC9C5C,UAAU,CAAC2C,eAAe,EAAE,GAAG,CAAC,CAAC,CAAC;IACtC,CAAC,MAAM;MACHA,eAAe,CAAC,CAAC;IACrB;EACJ;EACA,OAAOvG,UAAU;AACrB;AAEA,SAAS/E,mBAAmBA,CAACvO,IAAI,EAACJ,KAAK,EAAC;EAEpC,IAAImO,SAAS,GAAG,EAAE;EAElB,IAAInO,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAC;IACnC,IAAIlL,KAAK,CAACgV,UAAU,IAAI,MAAM,EAAE,OAAO7G,SAAS;EACpD;EAEA,IAAInO,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAAC;IAChC,IAAIlL,KAAK,CAACkR,OAAO,IAAI,MAAM,EAAE,OAAO/C,SAAS;EACjD;EAGA,IAAI/N,IAAI,IAAI,UAAU,IAAIJ,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAAE;IACvDiD,SAAS,IAAI,aAAa,GAACnO,KAAK,CAAC2V,OAAO,GAAC,GAAG;IAE5C,IAAI3V,KAAK,CAAC2V,OAAO,IAAI,iBAAiB,EAAE;MACpCxH,SAAS,IAAI,qBAAqB;MAClCA,SAAS,IAAI,eAAe;IAChC,CAAC,MACI,IAAInO,KAAK,CAAC2V,OAAO,IAAI,mBAAmB,EAAE;MAC3CxH,SAAS,IAAI,yBAAyB;MACtCA,SAAS,IAAI,eAAe;IAChC,CAAC,MACI,IAAInO,KAAK,CAAC2V,OAAO,IAAI,QAAQ,EAAE;MAChCxH,SAAS,IAAI,yBAAyB;MACtCA,SAAS,IAAI,qBAAqB;MAClCA,SAAS,IAAI,eAAe;IAChC;EACJ;EAEA,IAAI/N,IAAI,IAAI,cAAc,IAAIJ,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAAC;IAC1D,IAAIlL,KAAK,CAAC4T,MAAM,IAAI5T,KAAK,CAAC2V,OAAO,IAAE,iBAAiB,EAAC;MAEjD,IAAI/B,MAAM,GAAC5T,KAAK,CAAC4T,MAAM,CAACzD,KAAK,CAAC,GAAG,CAAC;MAClC,IAAInQ,KAAK,CAACsG,KAAK,IAAI,cAAc,EAAC;QAC9B,IAAIA,KAAK,GAAG,cAAc,GAAC,CAACnG,QAAQ,CAACyT,MAAM,CAAC,CAAC,CAAC,CAAC,GAACzT,QAAQ,CAACyT,MAAM,CAAC,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAAC,CAAC,GAAC,MAAM;QACtF1F,SAAS,IAAI,QAAQ,GAAG7H,KAAK,GAAG,GAAG;MACvC;IACJ;EACJ;EAEA,IAAIlG,IAAI,IAAI,UAAU,EAAE;IAEpB,IAAGJ,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAC9BiD,SAAS,IAAI,aAAa,GAAEnO,KAAK,CAAC2V,OAAO,GAAG,GAAG;IAEnDxH,SAAS,IAAI,+BAA+B;EAChD;EAEA,OAAOA,SAAS;AACpB;AAKA,SAASM,aAAaA,CAACzO,KAAK,EAAC;EAEzB,IAAImO,SAAS,GAAG,EAAE;EAElB,IAAInO,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,EAAC;IACpC,IAAGlL,KAAK,CAACma,WAAW,EAAC;MACnBhM,SAAS,IAAI,6CAA6C;MAC1DA,SAAS,IAAI,wBAAwB;MACrCA,SAAS,IAAI,mCAAmC;MAChDA,SAAS,IAAI,qBAAqB;MAClCA,SAAS,IAAI,qCAAqC;MAClDA,SAAS,IAAI,6BAA6B;MAC1CA,SAAS,IAAI,2BAA2B;MACxCA,SAAS,IAAI,+BAA+B;MAC5CA,SAAS,IAAI,0BAA0B;IACzC;EACJ;EAEA,OAAOA,SAAS;AACpB;AAEA,SAASO,aAAaA,CAAC1O,KAAK,EAAC;EAEzB,IAAImO,SAAS,GAAG,EAAE;EAElB,IAAInO,KAAK,CAACkL,cAAc,CAAC,QAAQ,CAAC,EAAE;IAChC,IAAIkP,YAAY,GAAGpa,KAAK,CAACqa,MAAM,CAAClK,KAAK,CAACnQ,KAAK,CAACsa,eAAe,IAAI,GAAG,CAAC;IACnE,IAAIC,UAAU,GAAGvM,KAAK,CAACwM,GAAG,CAACxM,KAAK,CAACyM,EAAE,CAACL,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,IAAIM,YAAY,GAAG1M,KAAK,CAACwM,GAAG,CAACxM,KAAK,CAACyM,EAAE,CAACL,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;IACvD,IAAIO,aAAa,GAAG3M,KAAK,CAACwM,GAAG,CAACxM,KAAK,CAACyM,EAAE,CAACL,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;IACxD,IAAIQ,YAAY,GAAG;MACftT,CAAC,EAAE0G,KAAK,CAACwM,GAAG,CAACxM,KAAK,CAACyM,EAAE,CAACL,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;MACvCS,CAAC,EAAE7M,KAAK,CAACwM,GAAG,CAACxM,KAAK,CAACyM,EAAE,CAACL,YAAY,CAAC,CAAC,CAAC,CAAC;IACxC,CAAC;IAEH,IAAIU,WAAW,GAAG9M,KAAK,CAAC+M,kBAAkB,CAACX,YAAY,CAAC,CAAC,CAAC,CAAC;IAC3D,IAAIY,UAAU,GAAGhb,KAAK,CAACgb,UAAU,MAAArR,MAAA,CAAM3J,KAAK,CAACgb,UAAU,SAAM,EAAE;IAE/D7M,SAAS,IAAI,aAAa,GAAG6M,UAAU,GAAG7a,QAAQ,CAACya,YAAY,CAACtT,CAAC,CAAC,GAAG,KAAK,GAAGnH,QAAQ,CAACya,YAAY,CAACC,CAAC,CAAC,GAAG,KAAK,GAAG1a,QAAQ,CAACoa,UAAU,CAAC,GAAG,KAAK,GAAGpa,QAAQ,CAACua,YAAY,CAAC,GAAG,UAAU,GAAGI,WAAW,CAACxI,CAAC,GAAG,IAAI,GAAIwI,WAAW,CAACG,CAAC,GAAG,IAAI,GAAIH,WAAW,CAAC1I,CAAC,GAAG,IAAI,GAAI0I,WAAW,CAAChG,CAAC,GAAG6F,aAAc,GAAG,IAAI;EACtS;EAEA,OAAOxM,SAAS;AACpB;AAGA,SAASS,mBAAmBA,CAACjI,GAAG,EAAC3G,KAAK,EAAC;EAEnC,IAAImO,SAAS,GAAG,EAAE;EAElB,IAAInO,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;IAEnC,IAAIgQ,SAAS,GAAG,MAAM;IAEtB,IAAIlb,KAAK,CAACkb,SAAS,IAAI,iBAAiB,IAAIlb,KAAK,CAACkb,SAAS,IAAI,UAAU,EAAE;MACzE,IAAGlb,KAAK,CAACkb,SAAS,IAAI,iBAAiB,EAAC;QACtCvU,GAAG,CAACkQ,YAAY,CAAC,WAAW,EAAC,SAAS,CAAC;MACzC;MACA,IAAG7W,KAAK,CAACmb,UAAU,IAAI,CAAC,IAAI9b,MAAM,CAAC0P,UAAU,GAAG,GAAG,IAAIqM,SAAS,CAACC,SAAS,CAACC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAC;QAAE;QACpGJ,SAAS,GAAG,KAAK;QACjB/M,SAAS,IAAI,6BAA6B;QAC1CA,SAAS,IAAI,0BAA0B;QACvCA,SAAS,IAAI,qBAAqB;QAClCxH,GAAG,CAACkQ,YAAY,CAAC,cAAc,EAAC,KAAK,CAAC;MACxC,CAAC,MACI;QACHlQ,GAAG,CAACkQ,YAAY,CAAC,cAAc,EAAC,cAAc,CAAC;QAC/CqE,SAAS,GAAG,UAAU;MACxB;IACF,CAAC,MAEI,IAAIlb,KAAK,CAACkb,SAAS,IAAI,UAAU,EAAE;MACpCvU,GAAG,CAACkQ,YAAY,CAAC,UAAU,EAAC,UAAU,CAAC;IAC3C,CAAC,MAEI,IAAG7W,KAAK,CAACkb,SAAS,KAAK,WAAW,IAAIlb,KAAK,CAACkb,SAAS,KAAK,SAAS,EAAE;MACtEA,SAAS,GAAG,KAAK;IACrB;IAEA,IAAIlb,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;MACrC,IAAGlL,KAAK,CAACkb,SAAS,IAAI,SAAS,EAAC;QAC9BA,SAAS,GAAG,KAAK;MACnB,CAAC,MAAM;QACLA,SAAS,GAAG,MAAM;MACpB;IACF;IAEAvU,GAAG,CAACkQ,YAAY,CAAC,MAAM,EAACqE,SAAS,CAAC;EACtC;EAEA,OAAO/M,SAAS;AACpB;AAGA,SAAS2L,iBAAiBA,CAAC9Z,KAAK,EAAC;EAE7B,IAAIub,gBAAgB,GAAG,EAAE;EAEzB,IAAIvb,KAAK,CAACkL,cAAc,CAAC,gBAAgB,CAAC,EAAE;IACxCqQ,gBAAgB,IAAI,aAAa,GAAGvb,KAAK,CAAC,gBAAgB,CAAC,GAAG,MAAM;EACxE;EAEA,IAAIA,KAAK,CAACkL,cAAc,CAAC,gBAAgB,CAAC,EAAE;IACxCqQ,gBAAgB,IAAI,aAAa,GAAGvb,KAAK,CAAC,gBAAgB,CAAC,GAAG,MAAM;EACxE;EAEA,IAAIA,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,EAAE;IAClCqQ,gBAAgB,IAAI,SAAS,GAAGvb,KAAK,CAAC,UAAU,CAAC,GAAG,IAAI;EAC5D;EAEA,IAAIA,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,EAAE;IAClCqQ,gBAAgB,IAAI,SAAS,GAAGvb,KAAK,CAAC,UAAU,CAAC,GAAG,IAAI;EAC5D;EAEA,IAAIA,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;IACpCqQ,gBAAgB,IAAI,SAAS,GAAGvb,KAAK,CAAC,YAAY,CAAC,GAAG,OAAO;EACjE;EAEA,IAAIA,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,EAAE;IACrCqQ,gBAAgB,IAAI,UAAU,GAAGvb,KAAK,CAAC,aAAa,CAAC,GAAG,OAAO;EACnE;EAEA,IAAIA,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,EAAE;IACrCqQ,gBAAgB,IAAI,UAAU,GAAGvb,KAAK,CAAC,aAAa,CAAC,GAAG,OAAO;EACnE;EAIA,IAAIub,gBAAgB,CAAC/a,MAAM,GAAG,CAAC,EAC3B,OAAO,cAAc,GAAE+a,gBAAgB,GAAE,GAAG,CAAC,KAE7C,OAAO,EAAE;AAEjB;AAGA,SAASvB,eAAeA,CAACha,KAAK,EAAC;EAC3B,IAAIA,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAAC;IAChC,OAAO,WAAW,GAAGlL,KAAK,CAAC,SAAS,CAAC,GAAG,IAAI;EAChD,CAAC,MAEG,OAAO,EAAE;AACjB;AAEA,SAAS4Z,kBAAkBA,CAAC5Z,KAAK,EAAC;EAE9B,IAAIA,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC6I,KAAK,CAAC/T,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE;IACnE,IAAMwb,MAAM,GAAGxb,KAAK,CAACoT,wBAAwB,GAAI,GAAG,GAAGpT,KAAK,CAACoT,wBAAwB,GAAI,EAAE;IAC3F,OAAO,cAAc,GAAGpT,KAAK,CAAC,YAAY,CAAC,GAAG,QAAQ,GAAGwb,MAAM,GAAG,GAAG;EACzE,CAAC,MACI,OAAO,EAAE;AAElB;;AAEA;AACA,SAASC,iBAAiBA,CAACtZ,OAAO,EAACnC,KAAK,EAAC;EAErC,IAAIA,KAAK,CAACkL,cAAc,CAAC,KAAK,CAAC,EAAE;IAAE/I,OAAO,CAAC0U,YAAY,CAAC,KAAK,EAAC7W,KAAK,CAAC0b,GAAG,CAAC;EAAC;EAEzE,IAAI1b,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,IAAKkQ,SAAS,CAACC,SAAS,CAACxY,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAE,EAAE;IAAEV,OAAO,CAAC0U,YAAY,CAAC,WAAW,EAAC,WAAW,CAAC;EAAC;EAAC,CAAC,CAAC;;EAG3I,IAAG7W,KAAK,CAACkL,cAAc,CAAC,OAAO,CAAC,EAAE;IAC1B,IAAIlL,KAAK,CAACK,KAAK,IAAIL,KAAK,CAACC,EAAE,EAAC;MACpB+N,KAAK,CAAC7H,kBAAkB,CAACkC,cAAc,GAAGrI,KAAK,CAACC,EAAE;MAClD,OAAOD,KAAK,CAACK,KAAK;IACtB;EACZ;EAEA,IAAGL,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;IAClC,IAAIlL,KAAK,CAACuI,SAAS,IAAIvI,KAAK,CAACC,EAAE,EAAC;MACxB+N,KAAK,CAAC7H,kBAAkB,CAACoC,SAAS,GAAGvI,KAAK,CAACC,EAAE;MAC7C,OAAOD,KAAK,CAACuI,SAAS;IAC1B;EACP;EAED,IAAGvI,KAAK,CAAC2b,kBAAkB,EAAE;IACzB3N,KAAK,CAAC7H,kBAAkB,CAACsC,UAAU,GAAGzI,KAAK,CAAC2b,kBAAkB;IAC9D,OAAO3b,KAAK,CAAC2b,kBAAkB;EACnC;EAEA,IAAI3b,KAAK,CAACkL,cAAc,CAAC,iBAAiB,CAAC,EAAE;IAAC/I,OAAO,CAAC0U,YAAY,CAAC,iBAAiB,EAAC,MAAM,CAAC;EAAA;EAAC;EAE7F,IAAI7W,KAAK,CAACkL,cAAc,CAAC,MAAM,CAAC,EAAE;IAAC/I,OAAO,CAAC0U,YAAY,CAAC,MAAM,EAAC7W,KAAK,CAAC4b,IAAI,CAAC;EAAA;EAAC;EAE3E,IAAI5b,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAAE;IACjC/I,OAAO,CAAC0U,YAAY,CAAC,cAAc,EAAC7W,KAAK,CAACsY,OAAO,CAAC;IAClD,IAAI/K,IAAI,GAAGvN,KAAK,CAACsY,OAAO,CAACnI,KAAK,CAAC,GAAG,CAAC;IACnC,IAAI3P,MAAM,GAAGL,QAAQ,CAACoN,IAAI,CAACgL,GAAG,CAAC,CAAC,CAAC;IACjC,IAAG/X,MAAM,GAAC,EAAE,EAAE;MAAEA,MAAM,GAAG,EAAE;IAAK;IAChC2B,OAAO,CAAC0U,YAAY,CAAC,MAAM,EAACrW,MAAM,CAAC;EACvC;EAEA,IAAIR,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;IACnC/I,OAAO,CAAC0U,YAAY,CAAC,WAAW,EAAC7W,KAAK,CAAC2Y,SAAS,CAAC;EACrD;EAEA,IAAI3Y,KAAK,CAACkL,cAAc,CAAC,iBAAiB,CAAC,EAAE;IACzC/I,OAAO,CAAC0U,YAAY,CAAC,iBAAiB,EAAC7W,KAAK,CAAC6b,eAAe,CAAC;EACjE;EAEA,OAAO1Z,OAAO;;EAEd;EACA;EACA;AAEJ;;AAEA,SAAS2Z,gBAAgBA,CAACjc,IAAI,EAAEoH,IAAI,EAAC;EACjC,IAAIjH,KAAK,GAAGiH,IAAI,CAACjH,KAAK;EACtB,IAAI+b,SAAS,GAAGnV,QAAQ,CAACC,cAAc,CAACxH,MAAM,CAAC2c,UAAU,CAAC,IAAIpV,QAAQ,CAACqV,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAACA,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;EACvI,IAAIC,GAAG,GAAG,EAAE;EACZ,IAAIlc,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAAE;IACjCgR,GAAG,IAAI,SAAS,GAAGrc,IAAI,CAACI,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGJ,IAAI,CAACI,EAAE,CAAC+K,SAAS,CAAC,CAAC,CAAC,GAAG,oBAAoB,GAAGhL,KAAK,CAAC,SAAS,CAAC,GAAG,cAAc;EACzH;EAEA,IAAIA,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;IACpCgR,GAAG,IAAI,SAAS,GAAGrc,IAAI,CAACI,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGJ,IAAI,CAACI,EAAE,CAAC+K,SAAS,CAAC,CAAC,CAAC,GAAG,eAAe,GAAGhL,KAAK,CAAC,YAAY,CAAC,GAAG,cAAc;EACvH;EACA,IAAGA,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAC;IACjC;IACA,IAAI4D,KAAK,GAAG,EAAE;IACd;IACA,IAAMqN,YAAY,GAAI,eAAe,GAAGnc,KAAK,CAACqP,UAAU,GAAG,oBAAoB;IAC/EP,KAAK,IAAI,qBAAqB,GAAGqN,YAAY;IAC7CrN,KAAK,IAAI,kBAAkB,GAAGqN,YAAY;IAC1CrN,KAAK,IAAI,aAAa,GAAGqN,YAAY;IACrCrN,KAAK,IAAI,0BAA0B,GAAG9O,KAAK,CAACyP,KAAK,GAAG,GAAG;IACvDyM,GAAG,IAAI,OAAO,GAAGlc,KAAK,CAACC,EAAE,GAAG,wBAAwB,GAAG6O,KAAK,GAAG,GAAG;EACtE;EAEA,IAAG9O,KAAK,CAACkL,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAClL,KAAK,CAACiW,gBAAgB,IAAI,CAACiG,GAAG,CAACtF,QAAQ,CAAC,+CAA+C,CAAC,EAAE;IACtIsF,GAAG,IAAI,+CAA+C,CAAC,CAAC;EAC5D;;EAEA;EACA,IAAIlc,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,IAAI+C,YAAY,EAAE;IACnDiO,GAAG,IAAI,WAAW,GAAGrc,IAAI,CAACI,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAEJ,IAAI,CAACI,EAAE,CAAC+K,SAAS,CAAC,CAAC,CAAC,4BAAArB,MAAA,CAA4B3J,KAAK,CAACoc,SAAS,mBAAgB;EAC1H,CAAC,MAAM,IAAInV,IAAI,CAAC7G,IAAI,IAAI,UAAU,EAAE;IAChC8b,GAAG,IAAI,WAAW,GAAGrc,IAAI,CAACI,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAEJ,IAAI,CAACI,EAAE,CAAC+K,SAAS,CAAC,CAAC,CAAC,+CAA+C;EAC9G;EAEA,IAAI,CAACkR,GAAG,EAAE;EACV,IAAGH,SAAS,EAAE;IACZA,SAAS,CAACjE,WAAW,IAAIoE,GAAG;EAC9B,CAAC,MAAM;IACLH,SAAS,GAAGnV,QAAQ,CAAC8Q,aAAa,CAAC,OAAO,CAAC;IAC3CqE,SAAS,CAAC7R,WAAW,CAACtD,QAAQ,CAACyV,cAAc,CAACH,GAAG,CAAC,CAAC;IACnDtV,QAAQ,CAACqV,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC/R,WAAW,CAAC6R,SAAS,CAAC;EACjE;AAEJ;AAEA,IAAIlW,eAAe,GAAG,SAAlBA,eAAeA,CAAIyW,GAAG;EAAA,OAAKrO,YAAY,GAAGqO,GAAG;AAAA;AAGjDre,MAAM,CAACC,OAAO,GAAG;EACbgQ,cAAc,EAAdA,cAAc;EACd4L,iBAAiB,EAAjBA,iBAAiB;EACjBE,eAAe,EAAfA,eAAe;EACfJ,kBAAkB,EAAlBA,kBAAkB;EAClB6B,iBAAiB,EAAjBA,iBAAiB;EACjB/B,sBAAsB,EAAtBA,sBAAsB;EACtB1G,kBAAkB,EAAlBA,kBAAkB;EAClBO,OAAO,EAAPA,OAAO;EACPqB,SAAS,EAATA,SAAS;EACTG,aAAa,EAAbA,aAAa;EACbE,gBAAgB,EAAhBA,gBAAgB;EAChBM,WAAW,EAAXA,WAAW;EACXO,SAAS,EAATA,SAAS;EACTO,QAAQ,EAARA,QAAQ;EACRyC,iBAAiB,EAAjBA,iBAAiB;EACjBE,sBAAsB,EAAtBA,sBAAsB;EACtBO,YAAY,EAAZA,YAAY;EACZuC,gBAAgB,EAAhBA,gBAAgB;EAChBjW,eAAe,EAAfA;AACJ,CAAC;;;;;;;;;;;;;;;;;;AC7uCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAAb,QAAA,GAEI5G,mBAAO,CAAC,oCAAY,CAAC;EADrB8G,kBAAkB,GAAAF,QAAA,CAAlBE,kBAAkB;AAEtB,IAAIqX,aAAa,GAAGne,mBAAO,CAAC,mDAAiB,CAAC;AAC9C,IAAM+G,IAAI,GAAG/G,mBAAO,CAAC,6CAAc,CAAC;AACpC,IAAIoe,iBAAiB,GAAG,KAAK;AAC7B,IAAMC,gBAAgB,GAAG,KAAK;AAE9B,SAASC,iCAAiCA,CAAC7c,IAAI,EAAEyE,QAAQ,EAAEgH,OAAO,EAAE;EAChEzL,IAAI,CAACsL,gBAAgB,CAAC,SAAS,EAAE,UAACC,CAAC,EAAK;IAEpC,IAAGA,CAAC,CAACuR,MAAM,EAAE;MACTvR,CAAC,CAACwR,cAAc,CAAC,CAAC;MAClB;IACH,CAAC,CAAE;IAAA,KACC;MACDxR,CAAC,CAACC,eAAe,CAAC,CAAC;MACnB,IAAID,CAAC,CAACE,OAAO,IAAIA,OAAO,EAAE;QACtBhH,QAAQ,CAAC8G,CAAC,CAAC;MACf;IACJ;EACJ,CAAC,CAAC;AACN;AAEA,SAASyR,eAAeA,CAACzc,IAAI,EAAEJ,KAAK,EAAEH,IAAI,EAAC;EACvC,IAAIO,IAAI,IAAI,UAAU,IAAIP,IAAI,CAACid,OAAO,CAAC7R,WAAW,CAAC,CAAC,IAAI,OAAO,EAAE;IAE7D,IAAI8R,QAAQ,GAAI3B,SAAS,CAACC,SAAS,CAACxY,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAE;IAC7D,IAAIhD,IAAI,CAACmd,SAAS,IAAI,CAACD,QAAQ,EAAE;MAC7Bld,IAAI,CAACQ,KAAK,CAAC,CAAC;IAChB;IACA,IAAGhB,MAAM,CAAC4d,YAAY,EAAC;MACnBpd,IAAI,CAACsL,gBAAgB,CAAC,OAAO,EAAE+R,+BAA+B,CAAC;IACnE,CAAC,MAAM;MACHrd,IAAI,CAACsL,gBAAgB,CAAC,OAAO,EAAEgS,4BAA4B,CAAC;IAChE;EACJ;EAEA,IAAIC,MAAM,GAAG,CAAC,SAAS,EAAE,qBAAqB,EAAE,sBAAsB,EAAE,0BAA0B,EAAE,yBAAyB,EAAE,UAAU,EAAE,aAAa,EAAE,WAAW,EAAE,cAAc,EAAE,aAAa,EAAE,aAAa,EAAE,YAAY,EAAE,cAAc,EAAE,SAAS,EAAE,SAAS,EAAC,mBAAmB,EAAC,gBAAgB,CAAC;EAAA,IAAAxS,KAAA,YAAAA,MAAA,EAErQ;IACpC,IAAIC,GAAG,GAAGuS,MAAM,CAAC7c,CAAC,CAAC;IACnB,IAAIwK,SAAS,GAAGF,GAAG,CAACG,SAAS,CAAC,CAAC,EAAEH,GAAG,CAACrK,MAAM,CAAC,CAACyK,WAAW,CAAC,CAAC;IAC1D,IAAIjL,KAAK,CAACkL,cAAc,CAACL,GAAG,CAAC,IAAI,OAAO7K,KAAK,CAAC6K,GAAG,CAAC,IAAI,UAAU,EAAE;MAC9D,IAAMvG,QAAQ,GAAGtE,KAAK,CAAC6K,GAAG,CAAC;MAE3B,IAAGA,GAAG,IAAI,gBAAgB,EAAE;QACxBhL,IAAI,CAACsL,gBAAgB,CAAC,cAAc,EAAE,YAAY;UAC9C,IAAInL,KAAK,CAACqd,cAAc,EAAE;YACtBxd,IAAI,CAACiP,KAAK,CAACwO,SAAS,GAAG,IAAI;YAC3Btd,KAAK,CAACqd,cAAc,CAAC,CAAC;UAC1B;UACAE,WAAW,CAAC,CAAC;UACble,MAAM,CAAC8K,iBAAiB,GAAG,KAAK;QACjC,CAAC,CAAC;MACT;MACA,IAAIU,GAAG,IAAI,qBAAqB,EAAE;QAC9B6R,iCAAiC,CAAC7c,IAAI,EAAEyE,QAAQ,EAAE,EAAE,CAAC;MACzD;MACA,IAAIuG,GAAG,IAAI,sBAAsB,EAAE;QAC/B6R,iCAAiC,CAAC7c,IAAI,EAAEyE,QAAQ,EAAE,CAAC,CAAC;MACxD;MACA,IAAIuG,GAAG,IAAI,0BAA0B,EAAE;QACnC6R,iCAAiC,CAAC7c,IAAI,EAAEyE,QAAQ,EAAE,EAAE,CAAC;MACzD;MACA,IAAIuG,GAAG,IAAI,yBAAyB,EAAE;QAClC6R,iCAAiC,CAAC7c,IAAI,EAAEyE,QAAQ,EAAE,EAAE,CAAC;MACzD;MACA,IAAIuG,GAAG,IAAI,mBAAmB,EAAE;QAC5BhL,IAAI,CAACsL,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;UAClC9G,QAAQ,CAAC8G,CAAC,CAACmC,IAAI,CAAC;QACpB,CAAC,CAAC;MACN;MACA,IAAI1C,GAAG,IAAI,SAAS,EAAE;QAClBhL,IAAI,CAAC2d,OAAO,GAAG,UAAApS,CAAC,EAAI;UACpB,IAAIqS,KAAK,GAAG,CAACrS,CAAC,CAACsS,aAAa,IAAIre,MAAM,CAACqe,aAAa,EAAEC,OAAO,CAAC,MAAM,CAAC;UACrErZ,QAAQ,CAACmZ,KAAK,CAAC;QACnB,CAAC;MACL;MACI,IAAI1S,SAAS,IAAI,QAAQ,EAAE;QACvBlL,IAAI,CAACsL,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;UAClC9G,QAAQ,CAAC8G,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC;QAC5B,CAAC,CAAC;MACN,CAAC,MAAM,IAAIT,SAAS,IAAI,OAAO,EAAC;QAC5BlL,IAAI,CAACsL,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;UAClC9G,QAAQ,CAAC,MAAM,CAAC;QACpB,CAAC,CAAC;QACFzE,IAAI,CAACsL,gBAAgB,CAAC,MAAM,EAAE,UAACC,CAAC,EAAK;UACjC9G,QAAQ,CAAC,OAAO,CAAC;QACrB,CAAC,CAAC;MACN,CAAC,MAAM;QACH,IAAIyG,SAAS,IAAI,OAAO,EAAE;UACtB,IAAI6S,aAAa,GAAG,KAAK;UACzB,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAIzS,CAAC,EAAK;YAC3B,IAAIwS,aAAa,EAAE;YACnBA,aAAa,GAAG,IAAI;YACpB,IAAIE,IAAI,GAAG,EAAE;cAAErH,IAAI,GAAG5W,IAAI;YAC1B,OAAMie,IAAI,KAAK,EAAE,EAAE;cACf,IAAIrH,IAAI,CAAC3H,KAAK,CAACM,eAAe,KAAK,EAAE,EACjC0O,IAAI,GAAGrH,IAAI,CAAC3H,KAAK,CAACM,eAAe;cACrCqH,IAAI,GAAGA,IAAI,CAAC3T,UAAU;YAC1B;YACA,IAAIib,WAAW,GAAGC,IAAI,CAAC,CAAC,IAAI,EAAEF,IAAI,CAAC,CAAC,CAAC;YACrC,IAAI9d,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,IAAIlL,KAAK,CAAC+d,WAAW,CAAC7E,IAAI,CAAC,CAAC,KAAK,EAAE,EACtE6E,WAAW,GAAG/d,KAAK,CAAC+d,WAAW;YAEnCle,IAAI,CAACiP,KAAK,CAACM,eAAe,GAAG2O,WAAW;YACxC;YACA;YACAzG,UAAU,CAAC,YAAW;cAClBzX,IAAI,CAACiP,KAAK,CAACM,eAAe,GAAG0O,IAAI;cACjC;cACA;cACAF,aAAa,GAAG,KAAK;YACzB,CAAC,EAAE,GAAG,CAAC;UACX,CAAC;UACD,IAAI,EAAE5d,KAAK,CAACkL,cAAc,CAAC,iBAAiB,CAAC,IAAIlL,KAAK,CAACie,eAAe,CAAC,IAAIxB,gBAAgB,EAAE;YACzF5c,IAAI,CAACsL,gBAAgB,CAAC,YAAY,EAAE0S,eAAe,CAAC;YACpDhe,IAAI,CAACsL,gBAAgB,CAAC,WAAW,EAAE0S,eAAe,CAAC;UACvD;QACJ;QACA7d,KAAK,CAACyL,gBAAgB,GAAGzL,KAAK,CAACyL,gBAAgB,IAAI,CAAC,CAAC;QACrD,IAAI,OAAOzL,KAAK,CAACyL,gBAAgB,CAACV,SAAS,CAAC,IAAI,UAAU,EAAE;UACxDlL,IAAI,CAAC6L,mBAAmB,CAACX,SAAS,EAAE/K,KAAK,CAACyL,gBAAgB,CAACV,SAAS,CAAC,CAAC;QAC1E;QACA/K,KAAK,CAACyL,gBAAgB,CAACV,SAAS,CAAC,GAAG,UAACK,CAAC,EAAK;UACvCA,CAAC,CAACC,eAAe,CAAC,CAAC;UACnB/G,QAAQ,CAAC8G,CAAC,CAAC;QACf,CAAC;QACDvL,IAAI,CAACsL,gBAAgB,CAACJ,SAAS,EAAE/K,KAAK,CAACyL,gBAAgB,CAACV,SAAS,CAAC,CAAC;MACvE;IACJ;EACJ,CAAC;EA5FD,KAAK,IAAIxK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6c,MAAM,CAAC5c,MAAM,EAAED,CAAC,EAAE;IAAAqK,KAAA;EAAA;AA6F1C;AAEA,IAAMoT,IAAI,GAAG,SAAPA,IAAIA,CAAYE,CAAC,EAACC,EAAE,EAACC,EAAE,EAAC7L,CAAC,EAAE;EAC7B,IAAID,CAAC;IAAC2I,CAAC;IAAC7I,CAAC;IAACiM,CAAC;IAAClR,CAAC;IAACkF,CAAC;IAACtK,CAAC;IAACxH,CAAC,GAACJ,QAAQ;IAACme,CAAC,GAACC,IAAI,CAACC,KAAK;IAAC1J,CAAC,GAAC,OAAOsJ,EAAG,IAAE,QAAQ;EAChE,IAAG,OAAOF,CAAE,IAAE,QAAQ,IAAEA,CAAC,GAAC,CAAC,CAAC,IAAEA,CAAC,GAAC,CAAC,IAAE,OAAOC,EAAG,IAAE,QAAQ,IAAGA,EAAE,CAAC,CAAC,CAAC,IAAE,GAAG,IAAEA,EAAE,CAAC,CAAC,CAAC,IAAE,GAAI,IAAGC,EAAE,IAAE,CAACtJ,CAAE,EAAC,OAAO,IAAI;EACvG,IAAG,CAAC,IAAI,CAAC2J,KAAK,EAAC,IAAI,CAACA,KAAK,GAAC,UAACC,CAAC,EAAG;IAC3B,IAAIzR,CAAC,GAACyR,CAAC,CAACle,MAAM;MAAC8G,CAAC,GAAC,CAAC,CAAC;IACnB,IAAG2F,CAAC,GAAC,CAAC,EAAC;MAAA,IAAA0R,EAAA,EAAAC,GAAA;MACH,CAAAD,EAAA,GAAUD,CAAC,GAACA,CAAC,CAACvO,KAAK,CAAC,GAAG,CAAC,EAAAyO,GAAA,GAAAC,cAAA,CAAAF,EAAA,MAAvBrM,CAAC,GAAAsM,GAAA,KAAC3D,CAAC,GAAA2D,GAAA,KAACxM,CAAC,GAAAwM,GAAA,KAAC9J,CAAC,GAAA8J,GAAA,MAAiB3R,CAAC,GAACyR,CAAC,CAACle,MAAM;MACnC,IAAGyM,CAAC,GAAC,CAAC,IAAEA,CAAC,GAAC,CAAC,EAAC,OAAO,IAAI;MACvB3F,CAAC,CAACgL,CAAC,GAAC/R,CAAC,CAAC+R,CAAC,CAAC,CAAC,CAAC,IAAE,GAAG,GAACA,CAAC,CAAC9B,KAAK,CAAC,CAAC,CAAC,GAAC8B,CAAC,CAAC9B,KAAK,CAAC,CAAC,CAAC,CAAC,EAAClJ,CAAC,CAAC2T,CAAC,GAAC1a,CAAC,CAAC0a,CAAC,CAAC,EAAC3T,CAAC,CAAC8K,CAAC,GAAC7R,CAAC,CAAC6R,CAAC,CAAC,EAAC9K,CAAC,CAACwN,CAAC,GAACA,CAAC,GAACgK,UAAU,CAAChK,CAAC,CAAC,GAAC,CAAC,CAAC;IACnF,CAAC,MAAI;MACD,IAAG7H,CAAC,IAAE,CAAC,IAAEA,CAAC,IAAE,CAAC,IAAEA,CAAC,GAAC,CAAC,EAAC,OAAO,IAAI;MAC9B,IAAGA,CAAC,GAAC,CAAC,EAACyR,CAAC,GAAC,GAAG,GAACA,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,IAAEzR,CAAC,GAAC,CAAC,GAACyR,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,GAAC,EAAE,CAAC;MAC7DA,CAAC,GAACne,CAAC,CAACme,CAAC,CAAClO,KAAK,CAAC,CAAC,CAAC,EAAC,EAAE,CAAC;MAClB,IAAGvD,CAAC,IAAE,CAAC,IAAEA,CAAC,IAAE,CAAC,EAAC3F,CAAC,CAACgL,CAAC,GAACoM,CAAC,IAAE,EAAE,GAAC,GAAG,EAACpX,CAAC,CAAC2T,CAAC,GAACyD,CAAC,IAAE,EAAE,GAAC,GAAG,EAACpX,CAAC,CAAC8K,CAAC,GAACsM,CAAC,IAAE,CAAC,GAAC,GAAG,EAACpX,CAAC,CAACwN,CAAC,GAACwJ,CAAC,CAAC,CAACI,CAAC,GAAC,GAAG,IAAE,KAAK,CAAC,GAAC,IAAI,CAAC,KAC5EpX,CAAC,CAACgL,CAAC,GAACoM,CAAC,IAAE,EAAE,EAACpX,CAAC,CAAC2T,CAAC,GAACyD,CAAC,IAAE,CAAC,GAAC,GAAG,EAACpX,CAAC,CAAC8K,CAAC,GAACsM,CAAC,GAAC,GAAG,EAACpX,CAAC,CAACwN,CAAC,GAAC,CAAC,CAAC;IAChD;IAAC,OAAOxN,CAAC;EAAA,CAAC;EACdS,CAAC,GAACoW,EAAE,CAAC3d,MAAM,GAAC,CAAC,EAACuH,CAAC,GAAC+M,CAAC,GAACsJ,EAAE,CAAC5d,MAAM,GAAC,CAAC,GAAC,IAAI,GAAC4d,EAAE,IAAE,GAAG,GAAC,CAACrW,CAAC,GAAC,KAAK,GAACA,CAAC,EAACoF,CAAC,GAAC,IAAI,CAACsR,KAAK,CAACN,EAAE,CAAC,EAACE,CAAC,GAACH,CAAC,GAAC,CAAC,EAAC7L,CAAC,GAAC+L,EAAE,IAAEA,EAAE,IAAE,GAAG,GAAC,IAAI,CAACK,KAAK,CAACL,EAAE,CAAC,GAACC,CAAC,GAAC;IAAC/L,CAAC,EAAC,CAAC;IAAC2I,CAAC,EAAC,CAAC;IAAC7I,CAAC,EAAC,CAAC;IAAC0C,CAAC,EAAC,CAAC;EAAC,CAAC,GAAC;IAACxC,CAAC,EAAC,GAAG;IAAC2I,CAAC,EAAC,GAAG;IAAC7I,CAAC,EAAC,GAAG;IAAC0C,CAAC,EAAC,CAAC;EAAC,CAAC,EAACoJ,CAAC,GAACG,CAAC,GAACH,CAAC,GAAC,CAAC,CAAC,GAACA,CAAC,EAACG,CAAC,GAAC,CAAC,GAACH,CAAC;EACxK,IAAG,CAAC/Q,CAAC,IAAE,CAACkF,CAAC,EAAC,OAAO,IAAI;EACrB,IAAGE,CAAC,EAACD,CAAC,GAACgM,CAAC,CAACD,CAAC,GAAClR,CAAC,CAACmF,CAAC,GAAC4L,CAAC,GAAC7L,CAAC,CAACC,CAAC,CAAC,EAAC2I,CAAC,GAACqD,CAAC,CAACD,CAAC,GAAClR,CAAC,CAAC8N,CAAC,GAACiD,CAAC,GAAC7L,CAAC,CAAC4I,CAAC,CAAC,EAAC7I,CAAC,GAACkM,CAAC,CAACD,CAAC,GAAClR,CAAC,CAACiF,CAAC,GAAC8L,CAAC,GAAC7L,CAAC,CAACD,CAAC,CAAC,CAAC,KACnDE,CAAC,GAACgM,CAAC,CAAAC,IAAA,CAAAQ,GAAA,CAAEV,CAAC,GAAAE,IAAA,CAAAQ,GAAA,CAAC5R,CAAC,CAACmF,CAAC,EAAE,CAAC,IAAC4L,CAAC,GAAAK,IAAA,CAAAQ,GAAA,CAAC1M,CAAC,CAACC,CAAC,EAAE,CAAC,GAAG,GAAG,EAAC,EAAC2I,CAAC,GAACqD,CAAC,CAAAC,IAAA,CAAAQ,GAAA,CAAEV,CAAC,GAAAE,IAAA,CAAAQ,GAAA,CAAC5R,CAAC,CAAC8N,CAAC,EAAE,CAAC,IAACiD,CAAC,GAAAK,IAAA,CAAAQ,GAAA,CAAC1M,CAAC,CAAC4I,CAAC,EAAE,CAAC,GAAG,GAAG,EAAC,EAAC7I,CAAC,GAACkM,CAAC,CAAAC,IAAA,CAAAQ,GAAA,CAAEV,CAAC,GAAAE,IAAA,CAAAQ,GAAA,CAAC5R,CAAC,CAACiF,CAAC,EAAE,CAAC,IAAC8L,CAAC,GAAAK,IAAA,CAAAQ,GAAA,CAAC1M,CAAC,CAACD,CAAC,EAAE,CAAC,GAAG,GAAG,EAAC;EAC9F0C,CAAC,GAAC3H,CAAC,CAAC2H,CAAC,EAACzC,CAAC,GAACA,CAAC,CAACyC,CAAC,EAAC3H,CAAC,GAAC2H,CAAC,IAAE,CAAC,IAAEzC,CAAC,IAAE,CAAC,EAACyC,CAAC,GAAC3H,CAAC,GAAC2H,CAAC,GAAC,CAAC,GAACzC,CAAC,GAACA,CAAC,GAAC,CAAC,GAACyC,CAAC,GAACA,CAAC,GAACuJ,CAAC,GAAChM,CAAC,GAAC6L,CAAC,GAAC,CAAC;EAClD,IAAGnW,CAAC,EAAC,OAAM,KAAK,IAAEoF,CAAC,GAAC,IAAI,GAAC,GAAG,CAAC,GAACmF,CAAC,GAAC,GAAG,GAAC2I,CAAC,GAAC,GAAG,GAAC7I,CAAC,IAAEjF,CAAC,GAAC,GAAG,GAACmR,CAAC,CAACxJ,CAAC,GAAC,IAAI,CAAC,GAAC,IAAI,GAAC,EAAE,CAAC,GAAC,GAAG,CAAC,KACrE,OAAM,GAAG,GAAC,CAAC,UAAU,GAACxC,CAAC,GAAC,QAAQ,GAAC2I,CAAC,GAAC,KAAK,GAAC7I,CAAC,GAAC,GAAG,IAAEjF,CAAC,GAACmR,CAAC,CAACxJ,CAAC,GAAC,GAAG,CAAC,GAAC,CAAC,CAAC,EAAEjB,QAAQ,CAAC,EAAE,CAAC,CAACrD,KAAK,CAAC,CAAC,EAACrD,CAAC,GAAC7E,SAAS,GAAC,CAAC,CAAC,CAAC;AAC5G,CAAC;;AAED;AACA,SAAS0W,KAAKA,CAACnf,IAAI,EAAEG,KAAK,EAAE;EACxB,IAAIif,SAAS,GAAGjf,KAAK,CAAC,WAAW,CAAC,CAACmQ,KAAK,CAAC,GAAG,CAAC;EAC7C,IAAI+O,OAAO,GAAGtY,QAAQ,CAAC8Q,aAAa,CAAC,KAAK,CAAC;EAC3CwH,OAAO,CAACrI,YAAY,CAAC,OAAO,EAAE,WAAW,CAAC;EAC1CqI,OAAO,CAACpQ,KAAK,CAACqQ,OAAO,GACjB,uEAAuE,GACvE,mCAAmC;EACvCvY,QAAQ,CAACwY,IAAI,CAAClV,WAAW,CAACgV,OAAO,CAAC;EAClC,IAAIG,OAAO,GAAG,iBAAiB;EAAC,IAAAC,MAAA,YAAAA,OAAA,EACW;IACvC,IAAIC,OAAO,GAAG3Y,QAAQ,CAAC8Q,aAAa,CAAC,KAAK,CAAC;IAC3C6H,OAAO,CAAC1I,YAAY,CAAC,OAAO,EAAE,UAAU,CAAC;IACzC0I,OAAO,CAACzH,WAAW,GAAGmH,SAAS,CAAC1e,CAAC,CAAC;IAClC2e,OAAO,CAAChV,WAAW,CAACqV,OAAO,CAAC;IAC5B,IAAIlc,KAAK,GAAG9C,CAAC;IACb,IAAIP,KAAK,CAACqf,OAAO,CAAC,IACd,OAAOrf,KAAK,CAACqf,OAAO,CAAC,IAAI,UAAU,EAAE;MACrCE,OAAO,CAACpU,gBAAgB,CAAC,OAAO,EAAE,YAAM;QACpCnL,KAAK,CAACqf,OAAO,CAAC,CAAChc,KAAK,CAAC;MACzB,CAAC,CAAC;IACN;EACJ,CAAC;EAZD,KAAK,IAAI9C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0e,SAAS,CAACze,MAAM,EAAED,CAAC,EAAE;IAAA+e,MAAA;EAAA;EAazCzf,IAAI,CAACsL,gBAAgB,CAAC,OAAO,EAAE,YAAY;IACvC,IAAI+T,OAAO,CAACpQ,KAAK,CAACoC,OAAO,IAAI,MAAM,EAC/BgO,OAAO,CAACpQ,KAAK,CAACoC,OAAO,GAAG,EAAE,CAAC,KAE3BgO,OAAO,CAACpQ,KAAK,CAACoC,OAAO,GAAG,MAAM;EACtC,CAAC,CAAC;AACN;AAEA,IAAMsO,qBAAqB,GAAG;EAC1B/O,GAAG,EAAE,SAAAA,IAAUrQ,IAAI,EAAE;IACjB,IAAIqf,IAAI,GAAG,IAAI;IACf,OAAO,UAAU5U,GAAG,EAAEW,KAAK,EAAE;MACzB,IAAIiU,IAAI,CAACC,QAAQ,CAACtf,IAAI,CAAC,IAAIqf,IAAI,CAACC,QAAQ,CAACtf,IAAI,CAAC,CAACyK,GAAG,CAAC,EAAE;QACjD,OAAO4U,IAAI,CAACC,QAAQ,CAACtf,IAAI,CAAC,CAACyK,GAAG,CAAC,CAACW,KAAK,CAAC;MAC1C,CAAC,MAAM,OAAO,EAAE;IACpB,CAAC;EACL,CAAC;EACDkU,QAAQ,EAAE;IACN,MAAM,EAAE;MACJ,OAAO,EAAE,SAAAC,MAAArD,GAAG;QAAA,gCAAA3S,MAAA,CAA6B2S,GAAG;MAAA,CAAM;MAClD,OAAO,EAAE,SAAAsD,MAAAtD,GAAG;QAAA,gCAAA3S,MAAA,CAA6B2S,GAAG;MAAA,CAAM;MAClD,YAAY,EAAE,SAAAuD,WAAAvD,GAAG;QAAA,4BAAA3S,MAAA,CAAyB2S,GAAG;MAAA,CAAgC;MAC7E,YAAY,EAAE,SAAAwD,WAAAxD,GAAG;QAAA,wDAAA3S,MAAA,CAAqD2S,GAAG;MAAA,CAAI;MAC7E,cAAc,EAAE,SAAAyD,aAAAzD,GAAG;QAAA,4BAAA3S,MAAA,CAAyB2S,GAAG;MAAA,CAAO;MACtD,eAAe,EAAE,SAAA0D,cAAA1D,GAAG;QAAA,6BAAA3S,MAAA,CAA0B2S,GAAG;MAAA,CAAO;MACxD,eAAe,EAAE,SAAA2D,cAAA3D,GAAG;QAAA,6BAAA3S,MAAA,CAA0B2S,GAAG;MAAA,CAAO;MACxD,WAAW,EAAE,SAAA4D,UAAA5D,GAAG;QAAA,mBAAA3S,MAAA,CAAgB2S,GAAG;MAAA;IACvC,CAAC;IACD,IAAI,EAAE;MACF,KAAK,EAAE,SAAA6D,IAAA7D,GAAG;QAAA,gCAAA3S,MAAA,CAA6B2S,GAAG;MAAA,CAAM;MAChD,KAAK,EAAE,SAAA8D,IAAA9D,GAAG;QAAA,gCAAA3S,MAAA,CAA6B2S,GAAG;MAAA,CAAM;MAChD,UAAU,EAAE,SAAA+D,SAAA/D,GAAG;QAAA,4BAAA3S,MAAA,CAAyB2S,GAAG;MAAA,CAAgC;MAC3E,UAAU,EAAE,SAAAgE,SAAAhE,GAAG;QAAA,wDAAA3S,MAAA,CAAqD2S,GAAG;MAAA,CAAI;MAC3E,YAAY,EAAE,SAAAiE,WAAAjE,GAAG;QAAA,4BAAA3S,MAAA,CAAyB2S,GAAG;MAAA,CAAO;MACpD,aAAa,EAAE,SAAAkE,YAAAlE,GAAG;QAAA,6BAAA3S,MAAA,CAA0B2S,GAAG;MAAA,CAAO;MACtD,aAAa,EAAE,SAAAmE,YAAAnE,GAAG;QAAA,6BAAA3S,MAAA,CAA0B2S,GAAG;MAAA,CAAO;MACtD,SAAS,EAAE,SAAAoE,QAAApE,GAAG;QAAA,mBAAA3S,MAAA,CAAgB2S,GAAG;MAAA;IACrC,CAAC;IACD;IACA,yBAAyB,EAAE,CAAC,UAAU,EAAE,cAAc,EAAE,OAAO,EAAE,aAAa,EAAE,YAAY,EAAE,UAAU,CAAC;IACzG,iBAAiB,EAAE;MACf,cAAc,EAAE,SAAAqE,aAAArE,GAAG,EAAI;QACnB,IAAI,CAACA,GAAG,EAAE;UACN;QACJ,CAAC,MAAM,IAAI,OAAOA,GAAG,IAAI,QAAQ,IAAIA,GAAG,CAACnM,KAAK,CAAC,GAAG,CAAC,CAAC3P,MAAM,IAAI,CAAC,EAAE;UAC7D,uBAAAmJ,MAAA,CAAuB2S,GAAG;QAC9B,CAAC,MAAM;UACH,QAAQA,GAAG;YACP,KAAK,QAAQ;cACT,OAAO,SAAS;YACpB,KAAK,SAAS;cACV,OAAO,UAAU;YACrB,KAAK,QAAQ;YACb,KAAK,WAAW;cACZ,OAAO,aAAa;YACxB;cACI,UAAA3S,MAAA,CAAU2S,GAAG;UACrB;QACJ;MACJ,CAAC;MACD,OAAO,EAAE,SAAAxF,MAAAwF,GAAG,EAAI;QACZ,IAAI,CAACA,GAAG,EAAE;UACN;QACJ,CAAC,MAAM,IAAI,CAACvI,KAAK,CAACuI,GAAG,CAAC,EAAE;UACpBA,GAAG,GAAGwC,UAAU,CAACA,UAAU,CAACxC,GAAG,CAAC,GAAG,IAAI,CAAC,CAACsE,OAAO,CAAC,CAAC,CAAC;UACnD,UAAAjX,MAAA,CAAU2S,GAAG;QACjB,CAAC,MAAM;UACH;QACJ;MACJ,CAAC;MACD,UAAU,EAAE,SAAAuE,SAAAvE,GAAG,EAAI;QACf,IAAI,CAACA,GAAG,EAAE;UACN;QACJ;QAAE,IAAI,CAACvI,KAAK,CAACuI,GAAG,CAAC,EAAE;UACfA,GAAG,GAAGwC,UAAU,CAACA,UAAU,CAACxC,GAAG,CAAC,GAAG,IAAI,CAAC,CAACsE,OAAO,CAAC,CAAC,CAAC;UACnD,UAAAjX,MAAA,CAAU2S,GAAG;QACjB,CAAC,MAAM;UACH;QACJ;MACJ,CAAC;MACD,YAAY,EAAE,SAAAwE,WAAAxE,GAAG,EAAI;QACjB,QAAQA,GAAG;UACP,KAAK,SAAS;YACV;UACJ,KAAK,SAAS;YACV;UACJ;YACI;QACR;MACJ,CAAC;MACD,aAAa,EAAE,SAAAyE,YAAAzE,GAAG,EAAI;QAClB,IAAI,CAACA,GAAG,EAAE;QACVA,GAAG,GAAGnc,QAAQ,CAACmc,GAAG,CAAC;QACnB,IAAIvI,KAAK,CAACuI,GAAG,CAAC,EAAE;UAAE;QAAY,CAAC,MAC1B,IAAIA,GAAG,GAAG,CAAC,EAAE;UAAE;QAAiB,CAAC,MACjC;UAAE,UAAA3S,MAAA,CAAU2S,GAAG,GAAC,CAAC;QAAE;MAC5B,CAAC;MACD,UAAU,EAAE,SAAA0E,SAAA1E,GAAG,EAAI;QACf,IAAI,CAACA,GAAG,EAAE,kBAAkB,KACvB,UAAA3S,MAAA,CAAU2S,GAAG;MACtB;IACJ;EACJ;AACJ,CAAC;AAED,IAAM2E,eAAe,GAAG;EACpB,YAAY,EAAE;IACV,UAAU,EAAE,SAAAC,SAACC,IAAI,EAAEC,IAAI;MAAA,qBAAAzX,MAAA,CAAmBwX,IAAI,QAAAxX,MAAA,CAAKyX,IAAI;IAAA,CAAG;IAC1D,eAAe,EAAE,SAAAC,aAACD,IAAI;MAAA,gBAAAzX,MAAA,CAAcyX,IAAI;IAAA,CAAG;IAC3C,aAAa,EAAE,SAAAE,WAACF,IAAI;MAAA,cAAAzX,MAAA,CAAYyX,IAAI;IAAA,CAAG;IACvC,qBAAqB,EAAE,SAAAG,mBAACC,SAAS,EAAK;MAClC,IAAIlF,GAAG,GAAG,EAAE;MACZkF,SAAS,CAACnI,OAAO,CAAC,UAAC6H,QAAQ,EAAE3gB,CAAC,EAAK;QAC/B+b,GAAG,IAAI4E,QAAQ;QACf,IAAI3gB,CAAC,IAAKihB,SAAS,CAAChhB,MAAM,GAAC,CAAE,EAAE;UAAE8b,GAAG,IAAI,GAAG;QAAE,CAAC,MACzC;UAAEA,GAAG,IAAI,IAAI;QAAE;MACxB,CAAC,CAAC;MACF,qBAAA3S,MAAA,CAAqB2S,GAAG;IAC5B;EACJ;AAEJ,CAAC;AAED,SAASmF,WAAWA,CAAE3S,KAAK,EAAE;EACzB,IAAIiN,SAAS,GAAGnV,QAAQ,CAACC,cAAc,CAACxH,MAAM,CAAC2c,UAAU,CAAC;EAC1D,IAAGD,SAAS,IAAIA,SAAS,CAAC2F,UAAU,EAAC;IACjC3F,SAAS,CAAC2F,UAAU,CAACvC,OAAO,IAAIrQ,KAAK;EACzC,CAAC,MAAI;IACDiN,SAAS,GAAGnV,QAAQ,CAAC8Q,aAAa,CAAC,OAAO,CAAC;IAC3CqE,SAAS,CAAC7R,WAAW,CAACtD,QAAQ,CAACyV,cAAc,CAACvN,KAAK,CAAC,CAAC;IACrDlI,QAAQ,CAACqV,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC/R,WAAW,CAAC6R,SAAS,CAAC;EACnE;AACJ;AAEA,IAAI4F,cAAc,GAAG,CAAC;AAEtB,SAASpE,WAAWA,CAAA,EAAI;EACpB,IAAIle,MAAM,CAACgJ,cAAc,KAAKC,SAAS,EAAC;IACpC,IAAIsZ,CAAC,GAAGhb,QAAQ,CAACC,cAAc,CAACxH,MAAM,CAACgJ,cAAc,CAAC;IACtDhJ,MAAM,CAACgJ,cAAc,GAAGC,SAAS;IACjC,IAAIsZ,CAAC,EAAE;MACHhgB,OAAO,CAACigB,KAAK,CAAC,cAAc,CAAC;MAC7BD,CAAC,CAACvhB,KAAK,CAAC,CAAC;IACb;EACJ;AACJ;AAEA,SAASyhB,kBAAkBA,CAAEjiB,IAAI,EAAEG,KAAK,EAAE;EACtC,IAAI,CAACA,KAAK,CAACkL,cAAc,CAAC,cAAc,CAAC,IAAI,CAAClL,KAAK,CAAC+hB,YAAY,IAAI,CAAC/hB,KAAK,CAACgiB,eAAe,EAAE;IACxF,OAAO,EAAE;EACb;EACA,IAAI;IACA,IAAMC,gBAAgB,GAAGjhB,IAAI,CAACuG,KAAK,CAACvH,KAAK,CAACgiB,eAAe,CAAC;IAC1D,IAAG,CAACE,KAAK,CAACC,OAAO,CAACF,gBAAgB,CAAC,IAAKC,KAAK,CAACC,OAAO,CAACF,gBAAgB,CAAC,IAAIA,gBAAgB,CAACzhB,MAAM,IAAI,CAAE,EAAE,OAAO,EAAE;IACnHnB,MAAM,CAAC8K,iBAAiB,GAAG,IAAI;IAC/B,IAAIiY,kBAAkB,GAAG,EAAE;IAC3B,IAAIC,wBAAwB,GAAGpB,eAAe,CAAC,YAAY,CAAC;IAE5D,IAAIqB,kBAAkB,GAAGC,gBAAgB,GAAG,EAAE;IAC9C,IAAIC,SAAS,GAAGC,OAAO,GAAG,CAAC;IAE3BR,gBAAgB,CAAC5I,OAAO,CAAC,UAAUqJ,eAAe,EAAE;MAChD,IAAMC,YAAY,GAAG,WAAW,GAAG3iB,KAAK,CAACC,EAAE,GAAG,GAAG,GAAG0hB,cAAc,EAAE;MACpE;MACA,SAAAiB,GAAA,MAAAC,eAAA,GAAyBjW,MAAM,CAACkW,OAAO,CAACJ,eAAe,CAAC,EAAAE,GAAA,GAAAC,eAAA,CAAAriB,MAAA,EAAAoiB,GAAA,IAAE;QAArD,IAAAG,kBAAA,GAAAlE,cAAA,CAAAgE,eAAA,CAAAD,GAAA;UAAK/X,GAAG,GAAAkY,kBAAA;UAAEvX,KAAK,GAAAuX,kBAAA;QAChB,IAAIC,IAAI,GAAGxD,qBAAqB,CAAC/O,GAAG,CAAC,MAAM,CAAC,CAAC5F,GAAG,EAAEW,KAAK,CAAC;QACxD,IAAGX,GAAG,IAAI,OAAO,IAAIA,GAAG,IAAI,YAAY,EAAC;UACrC,IAAG2X,SAAS,IAAI,CAAC,EAAC;YACdF,kBAAkB,IAAIU,IAAI,CAACxS,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACvCgS,SAAS,IAAI,CAAC;UAClB,CAAC,MAAI;YACDF,kBAAkB,IAAIU,IAAI,CAACrhB,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;UACxD;QACJ,CAAC,MAAK2gB,kBAAkB,IAAIU,IAAI;QAChC,IAAIC,EAAE,GAAGzD,qBAAqB,CAAC/O,GAAG,CAAC,IAAI,CAAC,CAAC5F,GAAG,EAAEW,KAAK,CAAC;QACpD,IAAGX,GAAG,IAAI,KAAK,IAAIA,GAAG,IAAI,UAAU,EAAC;UACjC,IAAG4X,OAAO,IAAI,CAAC,EAAC;YACZF,gBAAgB,IAAIU,EAAE,CAACzS,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACnCiS,OAAO,IAAI,CAAC;UAChB,CAAC,MAAI;YACDF,gBAAgB,IAAIU,EAAE,CAACthB,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;UACpD;QACJ,CAAC,MAAK4gB,gBAAgB,IAAIU,EAAE;MAChC;MACA,IAAIC,WAAW,GAAGb,wBAAwB,CAAC,UAAU,CAAC,CAACM,YAAY,EAC/CN,wBAAwB,CAAC,eAAe,CAAC,CAACC,kBAAkB,CAAC,GAC7DD,wBAAwB,CAAC,aAAa,CAAC,CAACE,gBAAgB,CAC5D,CAAC;MAEjBd,WAAW,CAACyB,WAAW,CAAC;MACxB7jB,MAAM,CAAC8jB,oBAAoB,CAAC1iB,IAAI,CAACkiB,YAAY,CAAC;;MAE9C;MACA,IAAIS,qBAAqB,MAAAzZ,MAAA,CAAMgZ,YAAY,MAAG;MAC9CnD,qBAAqB,CAACE,QAAQ,CAAC,yBAAyB,CAAC,CAACrG,OAAO,CAAC,UAAUxO,GAAG,EAAE;QAC7EuY,qBAAqB,IAAK5D,qBAAqB,CAAC/O,GAAG,CAAC,iBAAiB,CAAC,CAAC5F,GAAG,EAAE6X,eAAe,CAAC7X,GAAG,CAAC,CAAC,GAAG,GAAI;MAC5G,CAAC,CAAC;MACFuX,kBAAkB,CAAC3hB,IAAI,CAAC2iB,qBAAqB,CAAC;IAClD,CAAC,CAAC;IACF,OAAOf,wBAAwB,CAAC,qBAAqB,CAAC,CAACD,kBAAkB,CAAC;EAC9E,CAAC,CAAC,OAAAiB,OAAA,EAAM;IACJ,OAAO,EAAE;EACb;AACJ;AAEA,SAASC,aAAaA,CAAEzjB,IAAI,EAAEoH,IAAI,EAAE;EAChC,IAAI,CAACA,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAAE,OAAO,EAAE;EACpD,IAAI;IACA,IAAIjL,EAAE,GAAG,EAAE,GAACgH,IAAI,CAACjH,KAAK,CAACC,EAAE;IACzB,IAAIsjB,UAAU,GAAGviB,IAAI,CAACuG,KAAK,CAACN,IAAI,CAACjH,KAAK,CAACwjB,OAAO,CAAC;IAC/C,IAAI9P,UAAU,GAAG6I,aAAa,CAACrO,cAAc,CAACrO,IAAI,EAAE0jB,UAAU,EAAEtc,IAAI,CAAC7G,IAAI,CAAC;IAC1E,IAAImjB,UAAU,CAACrY,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC6I,KAAK,CAACwP,UAAU,CAACjd,KAAK,CAAC,EAAE;MAChEoN,UAAU,IAAI,SAAS,GAAG6P,UAAU,CAACjd,KAAK,GAAG,KAAK;IACtD;IACA,IAAIid,UAAU,CAACrY,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC6I,KAAK,CAACwP,UAAU,CAAC/c,MAAM,CAAC,EAAE;MAClEkN,UAAU,IAAI,UAAU,GAAG6P,UAAU,CAAC/c,MAAM,GAAG,KAAK;IACxD;IACAkN,UAAU,GAAGA,UAAU,CAAC+P,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC,CAAC;IACzD,IAAIF,UAAU,CAACG,SAAS,EAAE;MACtBjC,WAAW,CAAC8B,UAAU,CAACG,SAAS,GAAG,aAAa,GAAGzjB,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,EAAE,CAAC+K,SAAS,CAAC,CAAC,CAAC,GAAG,KAAK,GAAG0I,UAAU,GAAG,IAAI,CAAC;IACjH,CAAC,MAAM;MACH+N,WAAW,CAAC,MAAM,GAAGxhB,EAAE,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,EAAE,CAAC+K,SAAS,CAAC,CAAC,CAAC,GAAG,WAAW,GAAG0I,UAAU,GAAG,IAAI,CAAC;IACzF;EACJ,CAAC,CAAC,OAAAiQ,QAAA,EAAM;IACJ;EACJ;AACJ;AACA;AACA,SAASC,iBAAiBA,CAAC/jB,IAAI,EAAEG,KAAK,EAAE;EACpC,IAAI6jB,eAAe,GAAG,EAAE;EACxB;EACA;EACA,IAAI7jB,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,IAAIlL,KAAK,CAACkL,cAAc,CAAC,cAAc,CAAC,EAAE;IAC7E,IAAI4Y,WAAW,GAAG9jB,KAAK,CAAC8jB,WAAW;IACnC,IAAIC,MAAM,GAAG/jB,KAAK,CAACgkB,YAAY;IAE/B,IAAID,MAAM,GAAG,CAAC,EAAE;MACZF,eAAe,IAAI,OAAO,GAAGE,MAAM,GAAG,GAAG;MACzCF,eAAe,IAAI,kBAAkB;MACrC;;MAEA,IAAIC,WAAW,IAAI,GAAG,EAAE;QACpB;MAAA,CACH,MAAM;QACH;QACD;MAAA;IAEP,CAAC,MAAM;MACHD,eAAe,IAAI,YAAY;MAC/B;IACJ;EACJ,CAAC,MACI;IACDA,eAAe,IAAI,YAAY;IACnC;EACA;;EAEA;EACA,IAAI7jB,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,IAAIlL,KAAK,CAACikB,QAAQ,EAAE;IACpD,IAAGjkB,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,EAAC;MAChC2Y,eAAe,IAAI,WAAW,GAAE7jB,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,GAAE,GAAG;IACzE,CAAC,MAAM;MACH2Y,eAAe,IAAI,oBAAoB;IAC3C;IACA;;IAEA,IAAI7jB,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAAE;MACjC,IAAI6I,KAAK,CAAC/T,KAAK,CAACkkB,OAAO,CAAC,EACpBL,eAAe,IAAI,OAAO,GAAG7jB,KAAK,CAACkkB,OAAO,GAAG,GAAG;MAChD;MAAA,KAEAL,eAAe,IAAI,OAAO,GAAG7jB,KAAK,CAACkkB,OAAO,GAAG,KAAK;MAClD;IACR;;IAEA,IAAIlkB,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,EAAE;MACpC,IAAI6I,KAAK,CAAC/T,KAAK,CAACmkB,UAAU,CAAC,EACvBN,eAAe,IAAI,UAAU,GAAG7jB,KAAK,CAACmkB,UAAU,GAAG,GAAG;MACtD;MAAA,KAEAN,eAAe,IAAI,UAAU,GAAG7jB,KAAK,CAACmkB,UAAU,GAAG,KAAK;MACxD;IACR;;IAEA,IAAInkB,KAAK,CAACkL,cAAc,CAAC,UAAU,CAAC,EAAE;MAClC,IAAI6I,KAAK,CAAC/T,KAAK,CAACokB,QAAQ,CAAC,EACrBP,eAAe,IAAI,QAAQ,GAAG7jB,KAAK,CAACokB,QAAQ,GAAG,GAAG;MAClD;MAAA,KAEAP,eAAe,IAAI,QAAQ,GAAG7jB,KAAK,CAACokB,QAAQ,GAAG,KAAK;MACpD;IACR;;IAEA,IAAIpkB,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,EAAE;MACnC,IAAI6I,KAAK,CAAC/T,KAAK,CAACqkB,SAAS,CAAC,EACtBR,eAAe,IAAI,SAAS,GAAG7jB,KAAK,CAACqkB,SAAS,GAAG,GAAG;MACpD;MAAA,KAEAR,eAAe,IAAI,SAAS,GAAG7jB,KAAK,CAACqkB,SAAS,GAAG,KAAK;MAC1D;IACJ;EACJ;EACA;EACA,OAAOR,eAAe;AAC1B;;AAEA;AACA,SAAS3G,+BAA+BA,CAACoH,EAAE,EAAC;EACxCA,EAAE,CAACjZ,eAAe,CAAC,CAAC;EACpB,IAAI;IACA,IAAIkZ,OAAO,GAAGD,EAAE,CAAC/Y,MAAM,CAACtL,EAAE;IAC1B,IAAIib,SAAS,GAAGoJ,EAAE,CAACpJ,SAAS;IAC5B,IAAIsJ,KAAK,GAAG5d,QAAQ,CAACC,cAAc,CAAC0d,OAAO,CAAC;IAC5C,IAAIxL,aAAa,GAAG,EAAE;IACtB,IAAGyL,KAAK,CAACzL,aAAa,EAAC;MACnBA,aAAa,GAAGyL,KAAK,CAACzL,aAAa;IACvC;IACA,IAAGyL,KAAK,CAAChZ,KAAK,CAAChL,MAAM,KAAG,CAAC,EAAC;MACtBgkB,KAAK,CAACzL,aAAa,GAAGyL,KAAK,CAAChZ,KAAK;MACjC;IACJ;IACA,IAAIiZ,WAAW,GAAGD,KAAK,CAACE,YAAY,CAAC,cAAc,CAAC;IACpD,IAAID,WAAW,EAAC;MACd,IAAIlX,IAAI,GAAGkX,WAAW,CAACtU,KAAK,CAAC,GAAG,CAAC;MACjC,IAAI3P,MAAM,GAAGL,QAAQ,CAACoN,IAAI,CAACgL,GAAG,CAAC,CAAC,CAAC;MACjC,IAAIK,YAAY,GAAG,IAAIF,MAAM,CAACnL,IAAI,CAACoD,IAAI,CAAC,EAAE,CAAC,CAAC;MAC5C,IAAIgU,cAAc,GAAGH,KAAK,CAACG,cAAc;MACzC,IAAIC,YAAY,GAAGJ,KAAK,CAACI,YAAY;MACrC,IAAIjM,SAAS,GAAG6L,KAAK,CAACE,YAAY,CAAC,WAAW,CAAC;MAC/C,IAAI7I,eAAe,GAAG1b,QAAQ,CAACqkB,KAAK,CAACE,YAAY,CAAC,iBAAiB,CAAC,CAAC;MACrE,IAAIlZ,KAAK,GAAGgZ,KAAK,CAAChZ,KAAK,CAAC7J,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC;MACvD;MACA,IAAInB,MAAM,EAAE;QACVgkB,KAAK,CAAC3N,YAAY,CAAC,WAAW,EAAErW,MAAM,CAAC;MACzC;MACA;MACA,IAAI,CAACoY,YAAY,CAACC,IAAI,CAACrN,KAAK,CAAC,EAAE;QAC7BgZ,KAAK,CAAChZ,KAAK,GAAGuN,aAAa;QAC3ByL,KAAK,CAACG,cAAc,GAAGA,cAAc,IAAGC,YAAY,GAACD,cAAc,CAAC,GAAC,CAAC;QACtEH,KAAK,CAACI,YAAY,GAAGA,YAAY,IAAGA,YAAY,GAAGD,cAAc,CAAC,GAAC,CAAC;QACpE;MACF;MACA;MACA,IAAGhM,SAAS,IAAIkD,eAAe,EAAC;QAC9ByI,EAAE,CAAC1H,cAAc,CAAC,CAAC;QACnB,IAAIiI,eAAe,GAAG,EAAE;QACxB,KAAI,IAAItkB,CAAC,GAAE,CAAC,EAACA,CAAC,GAACiL,KAAK,CAAChL,MAAM,EAACD,CAAC,EAAE,EAAC;UAC9B,IAAI4B,OAAO,GAAGqJ,KAAK,CAACjL,CAAC,CAAC;UACtBskB,eAAe,IAAI1iB,OAAO;UAC1B,IAAI2iB,MAAM,GAAG,CAAC;UACd,IAAID,eAAe,CAACrkB,MAAM,IAAIqkB,eAAe,CAACljB,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAACnB,MAAM,IAAIqb,eAAe,GAAGiJ,MAAM,CAAC,IAAI,CAAC,EAAE;YACpHD,eAAe,IAAIlM,SAAS;UAChC;QACF;QACA,IAAIkM,eAAe,CAACrkB,MAAM,CAAC,IAAImY,SAAS,EAAE;UACxCkM,eAAe,GAAGA,eAAe,CAAC7Z,SAAS,CAAC,CAAC,EAAE6Z,eAAe,CAACrkB,MAAM,GAAG,CAAC,CAAC;QAC5E;QACAgkB,KAAK,CAAChZ,KAAK,GAAGqZ,eAAe;QAC7B,IAAG3J,SAAS,IAAI,uBAAuB,EAAC;UACtC,IAAI6J,cAAc,GAAGJ,cAAc;UACnC,IAAKI,cAAc,IAAIlJ,eAAe,GAAG,CAAC,CAAC,KAAO,CAAC,EAAE;YACjD,IAAG2I,KAAK,CAACzL,aAAa,CAACvY,MAAM,GAAGqkB,eAAe,CAACrkB,MAAM,EAAC;cACnDukB,cAAc,IAAI,CAAC;YACvB,CAAC,MAAM;cACHA,cAAc,IAAI,CAAC;YACvB;UACJ;UACA,IAAGA,cAAc,GAAC,CAAC,EAAC;YAChBA,cAAc,GAAG,CAAC;UACtB;UACAP,KAAK,CAACzL,aAAa,GAAG8L,eAAe;UACrCL,KAAK,CAACnkB,KAAK,CAAC,CAAC;UACbmkB,KAAK,CAACG,cAAc,GAAGI,cAAc;UACrCP,KAAK,CAACI,YAAY,GAAGG,cAAc;QACrC;MACF;MACAP,KAAK,CAACzL,aAAa,GAAGyL,KAAK,CAAChZ,KAAK;IACnC;EACJ,CAAC,CAAC,OAAM9G,GAAG,EAAC;IACR9C,OAAO,CAACC,KAAK,CAAC6C,GAAG,CAAC;EACtB;AACJ;AACA;AACA,SAASyY,4BAA4BA,CAACmH,EAAE,EAAC;EACrCA,EAAE,CAACjZ,eAAe,CAAC,CAAC;EACpB,IAAG;IACC,IAAIkZ,OAAO,GAAGD,EAAE,CAAC/Y,MAAM,CAACtL,EAAE;IAC1B,IAAIukB,KAAK,GAAG5d,QAAQ,CAACC,cAAc,CAAC0d,OAAO,CAAC;IAC5C,IAAIxL,aAAa,GAAG,EAAE;IACtB,IAAGyL,KAAK,CAACzL,aAAa,EAAC;MACnBA,aAAa,GAAGyL,KAAK,CAACzL,aAAa;IACvC;IACA,IAAGyL,KAAK,CAAChZ,KAAK,CAAChL,MAAM,KAAG,CAAC,EAAC;MACtBgkB,KAAK,CAACzL,aAAa,GAAGyL,KAAK,CAAChZ,KAAK;MACjC;IACJ;IACA,IAAIiZ,WAAW,GAAGD,KAAK,CAACE,YAAY,CAAC,cAAc,CAAC;IACpD,IAAID,WAAW,EAAE;MACb,IAAIlX,IAAI,GAAGkX,WAAW,CAACtU,KAAK,CAAC,GAAG,CAAC;MACjC,IAAI3P,MAAM,GAAGL,QAAQ,CAACoN,IAAI,CAACgL,GAAG,CAAC,CAAC,CAAC;MACjC,IAAIC,WAAW,GAAGjL,IAAI,CAACoD,IAAI,CAAC,EAAE,CAAC;MAC/B,IAAIgU,cAAc,GAAGH,KAAK,CAACG,cAAc;MACzC,IAAIC,YAAY,GAAGJ,KAAK,CAACI,YAAY;MACrC,IAAMI,QAAQ,GAAGR,KAAK,CAAChZ,KAAK;MAC5B,IAAIhL,MAAM,EAAE;QACR,IAAIwkB,QAAQ,CAACxkB,MAAM,GAAGA,MAAM,EAAE;UAC1BgkB,KAAK,CAAChZ,KAAK,GAAGuN,aAAa;UAC3BuL,EAAE,CAAC1H,cAAc,CAAC,CAAC;UACnB4H,KAAK,CAACG,cAAc,GAAGA,cAAc,IAAGC,YAAY,GAACD,cAAc,CAAC,GAAC,CAAC;UACtEH,KAAK,CAACI,YAAY,GAAGA,YAAY,IAAGA,YAAY,GAAGD,cAAc,CAAC,GAAC,CAAC;UACpE;QACJ;MACJ;MACA,IAAIlM,SAAS,GAAGuM,QAAQ;MACxB,IAAIrM,SAAS,GAAG6L,KAAK,CAACE,YAAY,CAAC,WAAW,CAAC;MAC/C,IAAG/L,SAAS,EACZ;QACIF,SAAS,GAAGA,SAAS,CAAC9W,OAAO,CAAC,IAAI+W,MAAM,CAACC,SAAS,EAAE,GAAG,CAAC,EAAG,EAAE,CAAC;MAClE;MACA,IAAIH,WAAW,EAAE;QACb,IAAII,YAAY,GAAG,IAAIF,MAAM,CAACF,WAAW,CAAC;QAC1C,IAAI,CAACI,YAAY,CAACC,IAAI,CAACJ,SAAS,CAAC,EAAE;UAC/B6L,EAAE,CAAC1H,cAAc,CAAC,CAAC;UACnB4H,KAAK,CAAChZ,KAAK,GAAGuN,aAAa;UAC3ByL,KAAK,CAACG,cAAc,GAAGA,cAAc,IAAGC,YAAY,GAACD,cAAc,CAAC,GAAC,CAAC;UACtEH,KAAK,CAACI,YAAY,GAAGA,YAAY,IAAGA,YAAY,GAAGD,cAAc,CAAC,GAAC,CAAC;UACpE;QACJ;MACJ;MACA,IAAI9I,eAAe,GAAG1b,QAAQ,CAACqkB,KAAK,CAACE,YAAY,CAAC,iBAAiB,CAAC,CAAC;MACrE,IAAI/L,SAAS,IAAIkD,eAAe,EAAE;QAC9ByI,EAAE,CAAC1H,cAAc,CAAC,CAAC;QACnB,IAAIiI,eAAe,GAAG,EAAE;QACxB,KAAK,IAAIxhB,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGoV,SAAS,CAACjY,MAAM,EAAE6C,KAAK,EAAE,EAAE;UACnD,IAAIlB,OAAO,GAAGsW,SAAS,CAACpV,KAAK,CAAC;UAC9BwhB,eAAe,IAAI1iB,OAAO;UAC1B,IAAI2iB,MAAM,GAAG,CAAC;UACd,IAAID,eAAe,CAACrkB,MAAM,IAAIqkB,eAAe,CAACljB,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAACnB,MAAM,IAAIqb,eAAe,GAAGiJ,MAAM,CAAC,IAAI,CAAC,EAAE;YACpHD,eAAe,IAAIlM,SAAS;UAChC;QACJ;QACA,IAAIkM,eAAe,CAACA,eAAe,CAACrkB,MAAM,GAAG,CAAC,CAAC,IAAImY,SAAS,EAAE;UAC1DkM,eAAe,GAAGA,eAAe,CAAC7Z,SAAS,CAAC,CAAC,EAAE6Z,eAAe,CAACrkB,MAAM,GAAG,CAAC,CAAC;QAC9E;QACAgkB,KAAK,CAAChZ,KAAK,GAAGqZ,eAAe;QAC7B,IAAIE,cAAc,GAAGJ,cAAc;QACnC,IAAKI,cAAc,IAAIlJ,eAAe,GAAG,CAAC,CAAC,KAAO,CAAC,EAAE;UACjD,IAAG2I,KAAK,CAACzL,aAAa,CAACvY,MAAM,GAAGqkB,eAAe,CAACrkB,MAAM,EAAC;YACnDukB,cAAc,IAAI,CAAC;UACvB,CAAC,MAAM;YACHA,cAAc,IAAI,CAAC;UACvB;QACJ;QACA,IAAGA,cAAc,GAAC,CAAC,EAAC;UAChBA,cAAc,GAAG,CAAC;QACtB;QACAP,KAAK,CAACzL,aAAa,GAAG8L,eAAe;QACrCL,KAAK,CAACnkB,KAAK,CAAC,CAAC;QACbmkB,KAAK,CAACG,cAAc,GAAGI,cAAc;QACrCP,KAAK,CAACI,YAAY,GAAGG,cAAc;QACnC;MACJ,CAAC,MAAM;QACHP,KAAK,CAACzL,aAAa,GAAGN,SAAS;MACnC;IACJ;EACJ,CAAC,CAAC,OAAM/T,GAAG,EAAC;IACR9C,OAAO,CAACC,KAAK,CAAC6C,GAAG,CAAC;EACtB;AACJ;AAEA,SAASugB,aAAaA,CAAChe,IAAI,EAAEpH,IAAI,EAAEqlB,WAAW,EAAE;EAC5C,IAAI9kB,IAAI,GAAG6G,IAAI,CAAC7G,IAAI;EACpB,IAAIJ,KAAK,GAAGiH,IAAI,CAACjH,KAAK;EACtB,IAAI0T,UAAU,GAAG,EAAE;EACnB7T,IAAI,CAACgX,YAAY,CAAC,IAAI,EAAC7W,KAAK,CAACC,EAAE,CAAC;EAChC;EACA,IAAGgH,IAAI,CAACjH,KAAK,CAACmlB,gBAAgB,EAAC;IAC3B,IAAI;MACA,IAAMC,UAAU,GAAG,IAAIC,cAAc,CAAC,UAAAvC,OAAO,EAAI;QAC7CA,OAAO,CAACzJ,OAAO,CAAC,UAAAiM,KAAK,EAAI;UACrB,IAAG;YACC,IAAIC,OAAO,GAAG;cACVza,KAAK,EAAE,cAAc;cACrBtE,MAAM,EAAE8e,KAAK,CAAC/Z,MAAM,CAACia;YACzB,CAAC;YACD,IAAGD,OAAO,CAAC/e,MAAM,EAAC;cACd7B,OAAO,CAAC8gB,kBAAkB,CAAC,cAAc,EAAEzkB,IAAI,CAACC,SAAS,CAACskB,OAAO,CAAC,CAAC;YACvE;UACJ,CAAC,CAAC,OAAM7gB,GAAG,EAAC,CAAC;UACb,OAAO,KAAK;QAChB,CAAC,CAAC;MACN,CAAC,CAAC;MACF0gB,UAAU,CAACM,OAAO,CAAC7lB,IAAI,CAAC;IAC5B,CAAC,CAAC,OAAM6E,GAAG,EAAC,CAAC;EACjB;EACA,IAAItE,IAAI,IAAI,gBAAgB,EAAE;IAC1BsT,UAAU,IAAE,kBAAkB;EAClC;EACA,IAAI7T,IAAI,CAACsZ,SAAS,IAAItZ,IAAI,CAACsZ,SAAS,CAAC3Y,MAAM,GAAG,CAAC,EAC3CX,IAAI,CAACsZ,SAAS,CAACC,GAAG,CAAChZ,IAAI,CAAC,MAExBP,IAAI,CAACoZ,SAAS,GAAG7Y,IAAI;EAEzBsT,UAAU,IAAI6I,aAAa,CAACvJ,kBAAkB,CAAChT,KAAK,CAAC;;EAGrD;EACA;EACA;;EAEA0T,UAAU,IAAE6I,aAAa,CAAChJ,OAAO,CAACtM,IAAI,CAAC;;EAEvC;EACAyM,UAAU,IAAE6I,aAAa,CAAC3H,SAAS,CAAC5U,KAAK,CAAC;EAC1C0T,UAAU,IAAE6I,aAAa,CAACxH,aAAa,CAAClV,IAAI,EAAEG,KAAK,EAAEI,IAAI,CAAC;EAC1DsT,UAAU,IAAI6I,aAAa,CAACtH,gBAAgB,CAACpV,IAAI,EAAEG,KAAK,EAAEI,IAAI,CAAC;;EAE/D;;EAEAsT,UAAU,IAAE6I,aAAa,CAAChH,WAAW,CAACvV,KAAK,CAAC;EAC5C0T,UAAU,IAAE6I,aAAa,CAACzG,SAAS,CAACjW,IAAI,EAAEO,IAAI,EAAEJ,KAAK,CAAC;EAEtDuc,aAAa,CAAClG,QAAQ,CAACjW,IAAI,EAACJ,KAAK,EAACH,IAAI,CAAC;EACvC6T,UAAU,IAAE6I,aAAa,CAACzD,iBAAiB,CAAC9Y,KAAK,EAAEH,IAAI,EAAEO,IAAI,CAAC;EAC9Dmc,aAAa,CAACvD,sBAAsB,CAAChZ,KAAK,EAACH,IAAI,CAAC;EAEhD6T,UAAU,IAAI6I,aAAa,CAACrO,cAAc,CAACrO,IAAI,EAACG,KAAK,EAACI,IAAI,CAAC;EAC3DP,IAAI,GAAG0c,aAAa,CAACd,iBAAiB,CAAC5b,IAAI,EAACG,KAAK,CAAC;EAClD0T,UAAU,IAAE6I,aAAa,CAAChD,YAAY,CAACvZ,KAAK,EAAEH,IAAI,CAAC;EACnD6T,UAAU,IAAE6I,aAAa,CAAC7C,sBAAsB,CAAC1Z,KAAK,CAAC;EACvDuc,aAAa,CAACT,gBAAgB,CAACjc,IAAI,EAAEoH,IAAI,CAAC;EAE1C,IAAIie,WAAW,EAAE;IAAE;IACfrI,eAAe,CAACzc,IAAI,EAAEJ,KAAK,EAAEH,IAAI,CAAC;EACtC;EAEA,OAAO6T,UAAU;AACrB;;AAGA;AACA;AACA,IAAIiS,QAAQ,GAAG,SAAXA,QAAQA,CAAI9lB,IAAI,EAAK;EACrB,IAAII,EAAE,GAAGJ,IAAI,CAACI,EAAE;EAChB,IAAI,CAACA,EAAE,IAAI2lB,WAAW,CAAC3lB,EAAE,CAAC,EACtB;EAEJ2lB,WAAW,CAAC3lB,EAAE,CAAC,GAAG,IAAI4lB,gBAAgB,CAAC,UAAUC,IAAI,EAAEH,QAAQ,EAAE;IAC7D,IAAIG,IAAI,IAAIA,IAAI,CAAC,CAAC,CAAC,CAACva,MAAM,EAAE;MACxB,IAAIA,MAAM,GAAGua,IAAI,CAAC,CAAC,CAAC,CAACva,MAAM;MAC3B,IAAItL,GAAE,GAAGsL,MAAM,CAACtL,EAAE;MAClB,IAAIA,GAAE,EAAE;QACJ,IAAIgH,IAAI,GAAGC,OAAO,CAACjH,GAAE,CAAC;QAEtB,IAAIgH,IAAI,IAAIA,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,IAAI,OAAOjE,IAAI,CAACjH,KAAK,CAAC+lB,WAAW,IAAI,UAAU,EAAE;UACjG9e,IAAI,CAACjH,KAAK,CAAC+lB,WAAW,CAAC,CAAC;QAC5B;MACJ;IACJ;IAEAJ,QAAQ,CAACK,UAAU,CAAC,CAAC;EACzB,CAAC,CAAC;EAEDJ,WAAW,CAAC3lB,EAAE,CAAC,CAAEylB,OAAO,CAAC7lB,IAAI,EAAE;IAC5BomB,UAAU,EAAE;EAChB,CAAC,CAAC;AACN,CAAC;;AAED,qCAAqC;AACrC,IAAIhiB,EAAE,GAAG,SAALA,EAAEA,CAAIpE,IAAI,EAAEoH,IAAI,EAAK;EACrB,IAAIA,IAAI,CAACjH,KAAK,CAACkmB,QAAQ,IAAI,OAAOjf,IAAI,CAACjH,KAAK,CAACkmB,QAAQ,IAAI,UAAU,EAAE;IACjEjf,IAAI,CAACjH,KAAK,CAACkmB,QAAQ,CAAC,CAAC;EACzB;AACJ,CAAC;AAED7mB,MAAM,CAAC8mB,cAAc,GAAG;EACpBC,aAAa,EAAE;AACnB,CAAC;;AAED;AACA;AACA;AACA,IAAIC,UAAU,GAAG,SAAbA,UAAUA,CAAYpf,IAAI,EAAEpH,IAAI,EAAE;EAClC,IACIoH,IAAI,CAAC7G,IAAI,IAAI,cAAc,IAC3B6G,IAAI,CAAC7G,IAAI,IAAI,gBAAgB,IAC7B6G,IAAI,CAAC7G,IAAI,IAAI,sBAAsB,IACnC6G,IAAI,CAAC7G,IAAI,IAAI,YAAY,IACzB6G,IAAI,CAAC7G,IAAI,IAAI,UAAU,EACzB;IACE,IAAI6G,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,EAAE;MAC1C,IAAIob,WAAW,GAAGrf,IAAI,CAACjH,KAAK,CAACsmB,WAAW,CAACpN,IAAI,CAAC,CAAC;MAE/C,IAAIoN,WAAW,EAAE;QACb,IAAIC,cAAc,GAAGtf,IAAI,CAACjH,KAAK,CAACumB,cAAc,GAAGtf,IAAI,CAACjH,KAAK,CAACumB,cAAc,GAAG,KAAK;QAElF1mB,IAAI,CAACsZ,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;QAEhC,IAAIoN,WAAW,GAAG5f,QAAQ,CAAC8Q,aAAa,CAAC,KAAK,CAAC;QAC/C8O,WAAW,CAACvd,SAAS,GAAG,OAAO,GAAGqd,WAAW,GAAG,QAAQ;QACxDE,WAAW,CAACrN,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;QACxCoN,WAAW,CAACrN,SAAS,CAACC,GAAG,CAAC,iBAAiB,GAAGmN,cAAc,CAAC;QAE7D,IAAIE,IAAI,GAAG,EAAE;QACb,IAAIxf,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC6I,KAAK,CAAC9M,IAAI,CAACjH,KAAK,CAAC0mB,eAAe,CAAC,EAAE;UACpFD,IAAI,GAAGxf,IAAI,CAACjH,KAAK,CAAC0mB,eAAe;QACrC;QAEAF,WAAW,CAAC1X,KAAK,CAACI,QAAQ,GAAGuX,IAAI,GAAG,IAAI;QAExC5mB,IAAI,CAACqK,WAAW,CAACsc,WAAW,CAAC;MACjC;IACJ;EACJ;AACJ,CAAC;AACD,IAAIG,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAY1f,IAAI,EAAES,aAAa,EAAEE,WAAW,EAAC;EAC7D,IAAI/H,IAAI,GAAG,IAAI;EACf,IAAI+mB,OAAO,GAAG,IAAI;EAClB,IAAIC,aAAa,GAAE,EAAE;EACrB,QAAO5f,IAAI,CAAC7G,IAAI;IACZ,KAAK,aAAa;MACdP,IAAI,GAAG+G,QAAQ,CAAC8Q,aAAa,CAAC,OAAO,CAAC;MACtCoP,MAAM,GAAGlgB,QAAQ,CAAC8Q,aAAa,CAAC,QAAQ,CAAC;MACzC,IAAGzQ,IAAI,CAACjH,KAAK,CAAC8mB,MAAM,EAAC;QACjBA,MAAM,CAACjQ,YAAY,CAAC,KAAK,EAAC5P,IAAI,CAACjH,KAAK,CAAC8mB,MAAM,CAAC;QAC5CA,MAAM,CAACjQ,YAAY,CAAC,MAAM,EAAC,WAAW,CAAC;MAC3C;MACAhX,IAAI,CAACqK,WAAW,CAAC4c,MAAM,CAAC;MACxB,IAAG7f,IAAI,CAACjH,KAAK,CAAC+mB,QAAQ,EAAE;QACpBlnB,IAAI,CAACmnB,IAAI,GAAG,IAAI;MACpB;MACAnnB,IAAI,CAAConB,QAAQ,GAAG,IAAI;MACpBpnB,IAAI,CAACqnB,KAAK,GAAG,IAAI;MACjBrnB,IAAI,CAACsnB,WAAW,GAAG,IAAI;MACvB;IACJ,KAAK,SAAS;MACVtnB,IAAI,GAAG+G,QAAQ,CAAC8Q,aAAa,CAAC,QAAQ,CAAC;MAEvC7X,IAAI,CAACiP,KAAK,CAACsY,MAAM,GAAG,MAAM;MAC1B;MACA;MACA,IAAIngB,IAAI,CAACjH,KAAK,CAACqnB,KAAK,IAAI,OAAOpgB,IAAI,CAACjH,KAAK,CAACqnB,KAAK,KAAK,QAAQ,EAAC;QACzDxnB,IAAI,CAACwnB,KAAK,GAAGpgB,IAAI,CAACjH,KAAK,CAACqnB,KAAK;MACjC;MACA;IACJ,KAAK,WAAW;MACZxnB,IAAI,GAAG+G,QAAQ,CAAC8Q,aAAa,CAAC,KAAK,CAAC;MACpCmP,aAAa,GAAG,EAAE;MAClBA,aAAa,IAAI,WAAW;MAC5BA,aAAa,IAAI,YAAY;MAC7BA,aAAa,IAAI,gBAAgB;MACjCA,aAAa,IAAI,iBAAiB;MAClCA,aAAa,IAAI,kBAAkB;MACnCA,aAAa,IAAI,wBAAwB;MACzC;MACA;MACA;MACA;MACA;MACA;MACAhnB,IAAI,CAACgX,YAAY,CAAC,KAAK,EAAE,EAAE,CAAC;MAC5B;IACJ,KAAK,UAAU;MACXhX,IAAI,GAAG+G,QAAQ,CAAC8Q,aAAa,CAAC,OAAO,CAAC;MACtC7X,IAAI,CAACgX,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC;MACrC,IAAI5P,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,IAAIjE,IAAI,CAACjH,KAAK,CAACsnB,OAAO,IAAI,IAAI,EAAE;QACpEznB,IAAI,CAACynB,OAAO,GAAG,IAAI;MACvB,CAAC,MAAM;QACHznB,IAAI,CAACynB,OAAO,GAAG,KAAK;MACxB;MAEA,IAAIrgB,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,OAAO,CAAC,IAAIjE,IAAI,CAACjH,KAAK,CAACunB,KAAK,IAAI,EAAE,IAAI7f,aAAa,EAAE;QAC/Ekf,OAAO,GAAGhgB,QAAQ,CAAC8Q,aAAa,CAAC,OAAO,CAAC;QACzCkP,OAAO,CAAC/P,YAAY,CAAC,KAAK,EAAE5P,IAAI,CAACjH,KAAK,CAACC,EAAE,CAAC;QAC1C2mB,OAAO,CAAC3d,SAAS,GAAGhC,IAAI,CAACjH,KAAK,CAACunB,KAAK;QACpCX,OAAO,CAAC9X,KAAK,CAAC+F,OAAO,GAAG,WAAW;QACnC+R,OAAO,CAACzN,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;QAEpC,OAAOnS,IAAI,CAACjH,KAAK,CAACunB,KAAK;MAC3B;MACA;IACJ,KAAK,UAAU;MACXV,aAAa,GAAG,EAAE;MAClB,IAAI5f,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,IAAIjE,IAAI,CAACjH,KAAK,CAACkb,SAAS,IAAI,WAAW,EAAE;QAC/Erb,IAAI,GAAG+G,QAAQ,CAAC8Q,aAAa,CAAC,UAAU,CAAC;QACzCmP,aAAa,IAAI,cAAc;QAC/BA,aAAa,IAAI,cAAc;QAC/BA,aAAa,IAAI,eAAe;QAChC;;QAEA;QACA;QACA;MACJ,CAAC,MAAM;QACHhnB,IAAI,GAAG+G,QAAQ,CAAC8Q,aAAa,CAAC,OAAO,CAAC;MAC1C;MAEA7X,IAAI,CAAC2L,KAAK,GAAGvE,IAAI,CAACjH,KAAK,CAAC+X,IAAI,IAAI,EAAE;MAElC,IAAI9Q,IAAI,CAACjH,KAAK,CAACkY,aAAa,EAAE;QAC1B2O,aAAa,IAAI,mBAAmB,GAAG5f,IAAI,CAACjH,KAAK,CAACkY,aAAa,GAAG,GAAG;QACrE;MACJ;;MAEA,IAAIjR,IAAI,CAACjH,KAAK,CAACunB,KAAK,EAAE;QAElB;QACA,IAAIC,SAAS,GAAG3nB,IAAI;QAEpBgnB,aAAa,IAAI,aAAa;QAC9B;QACAA,aAAa,IAAI5B,aAAa,CAAChe,IAAI,EAAEugB,SAAS,EAAE,IAAI,CAAC;QAErDA,SAAS,CAAC3Q,YAAY,CAAC,IAAI,EAAE5P,IAAI,CAACjH,KAAK,CAACC,EAAE,GAAG,QAAQ,CAAC;QAGtD,IAAIsS,CAAC,GAAG3L,QAAQ,CAAC8Q,aAAa,CAAC,OAAO,CAAC;QAEvC,IAAI+P,WAAW,GAAG,EAAE;QACpBlV,CAAC,CAACsE,YAAY,CAAC,KAAK,EAAE5P,IAAI,CAACjH,KAAK,CAACC,EAAE,GAAG,QAAQ,CAAC;QAE/CsS,CAAC,CAACtJ,SAAS,GAAGhC,IAAI,CAACjH,KAAK,CAACunB,KAAK;QAC9BhV,CAAC,CAAC4G,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;QAE9BqO,WAAW,IAAI,oBAAoB;QACnCA,WAAW,IAAI,aAAa;QAC5BA,WAAW,IAAI,wBAAwB;QACvCA,WAAW,IAAI,iBAAiB;QAChCA,WAAW,IAAI,cAAc;QAC7BA,WAAW,IAAI,iEAAiE;;QAEhF;QACA;QACA;QACA;QACA;QACA;;QAEA,IAAIxgB,IAAI,CAACjH,KAAK,CAACkY,aAAa,EAAE;UAC1BuP,WAAW,IAAI,kBAAkB,GAAGxgB,IAAI,CAACjH,KAAK,CAACkY,aAAa,GAAG,GAAG;UAClE;QACJ;;QAEA3F,CAAC,CAACsE,YAAY,CAAC,OAAO,EAAC4Q,WAAW,CAAC;QACnCD,SAAS,CAAC3Q,YAAY,CAAC,OAAO,EAACgQ,aAAa,CAAC;QAE7ChnB,IAAI,GAAG+G,QAAQ,CAAC8Q,aAAa,CAAC,KAAK,CAAC;QACpCmP,aAAa,GAAG,EAAE;QAClBhnB,IAAI,CAACsZ,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;QACjCvZ,IAAI,CAACqK,WAAW,CAACqI,CAAC,CAAC;QACnB1S,IAAI,CAACqK,WAAW,CAACsd,SAAS,CAAC;QAE3BvgB,IAAI,CAACjH,KAAK,CAAC8O,KAAK,CAACY,QAAQ,GAAG,UAAU;QACtCzI,IAAI,CAACjH,KAAK,CAAC8O,KAAK,CAAC4Y,QAAQ;QACzBb,aAAa,IAAI5B,aAAa,CAAChe,IAAI,EAAEpH,IAAI,EAAE,IAAI,CAAC;QAChD,OAAOoH,IAAI,CAACjH,KAAK,CAACunB,KAAK;MAC3B,CAAC,MAAM,IAAItgB,IAAI,CAACjH,KAAK,CAAC4b,IAAI,EAAE;QACxB/b,IAAI,CAAC8nB,WAAW,GAAG1gB,IAAI,CAACjH,KAAK,CAAC4b,IAAI,IAAI,EAAE;MAC5C;MACA;IACJ,KAAK,aAAa;MACd/b,IAAI,GAAG+G,QAAQ,CAAC8Q,aAAa,CAAC,KAAK,CAAC;MACpCmP,aAAa,GAAG,EAAE;MAClBA,aAAa,IAAI,qBAAqB;MACtCA,aAAa,IAAI,+BAA+B;MAChDA,aAAa,IAAI,wBAAwB;MACzCA,aAAa,IAAI,yBAAyB;MAC1CA,aAAa,IAAI,iCAAiC;MAClDA,aAAa,IAAI,SAAS,GAAG5f,IAAI,CAACjH,KAAK,CAACsG,KAAK,GAAG,GAAG;MACnDugB,aAAa,IAAI,UAAU,GAAG5f,IAAI,CAACjH,KAAK,CAACwG,MAAM,GAAG,GAAG;MACrDqgB,aAAa,IAAI,2BAA2B;MAC5CA,aAAa,IAAI,uCAAuC;MACxDA,aAAa,IAAI,sCAAsC;MACvD9K,SAAS,GAAGnV,QAAQ,CAAC8Q,aAAa,CAAC,OAAO,CAAC;MAC3CqE,SAAS,CAAC7R,WAAW,CAACtD,QAAQ,CAACyV,cAAc,CAAC,sGAAsG,CAAC,CAAC;MACtJzV,QAAQ,CAACqV,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC/R,WAAW,CAAC6R,SAAS,CAAC;MAC/D;IACJ,KAAK,oBAAoB;MACrB;MACA;MACA;MACA,IAAI9U,IAAI,CAACjH,KAAK,CAAC4nB,MAAM,IAAItf,SAAS,IAAI,CAACkU,iBAAiB,EAAE;QACtD,IAAIqL,eAAe,GAAGC,2BAA2B,CAAC7gB,IAAI,EAAEA,IAAI,CAAC3G,QAAQ,EAAE,CAAC,CAAC,GAAG,EAAE;QAC9E,IAAI,CAACyT,KAAK,CAAC8T,eAAe,CAAC,EAAE;UACzB9L,SAAS,GAAGnV,QAAQ,CAAC8Q,aAAa,CAAC,OAAO,CAAC;UAC3CqE,SAAS,CAAC7R,WAAW,CAACtD,QAAQ,CAACyV,cAAc,CAAC,+CAA+C,GAAGwL,eAAe,GAAG,oCAAoC,GAAGA,eAAe,GAAG,SAAS,CAAC,CAAC;UACtLjhB,QAAQ,CAACqV,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC/R,WAAW,CAAC6R,SAAS,CAAC;UAC/DS,iBAAiB,GAAG,IAAI;QAC5B;MACJ;IACJ;IACA;MACI3c,IAAI,GAAG+G,QAAQ,CAAC8Q,aAAa,CAACzQ,IAAI,CAAC8gB,MAAM,IAAI,KAAK,CAAC,CAAC,CAAC;MACrDlB,aAAa,GAAG,EAAE;EAE1B;EACAR,UAAU,CAACpf,IAAI,EAACpH,IAAI,CAAC;EAGrBmoB,kBAAkB,CAACtgB,aAAa,EAAEE,WAAW,EAAE/H,IAAI,EAAE+mB,OAAO,CAAC;;EAE7D;EACAC,aAAa,IAAI5B,aAAa,CAAChe,IAAI,EAAEpH,IAAI,EAAE,IAAI,CAAC;;EAEhD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,OAAO;IAACA,IAAI,EAAJA,IAAI;IAAC+mB,OAAO,EAAPA,OAAO;IAACC,aAAa,EAAbA;EAAa,CAAC;AACvC,CAAC;AACD,IAAImB,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAYtgB,aAAa,EAAEE,WAAW,EAAE/H,IAAI,EAAE+mB,OAAO,EAAE;EAEzE,IAAIlf,aAAa,EAAE;IACf,IAAIoC,cAAc,GAAGlC,WAAW,GAAGhB,QAAQ,CAACC,cAAc,CAACe,WAAW,CAAC5H,KAAK,CAACC,EAAE,CAAC,GAAG,IAAI;IAEvF,IAAI6J,cAAc,IAAIA,cAAc,IAAIxB,SAAS,EAAE;MAC/C,IAAIZ,aAAa,IAAIoC,cAAc,EAAE;QAAE;QACnC,IAAI8c,OAAO,EAAE;UACTlf,aAAa,CAACgC,YAAY,CAACkd,OAAO,EAAElf,aAAa,CAACqC,UAAU,CAAC,CAAC,CAAC,CAAC;QACpE;QACArC,aAAa,CAACgC,YAAY,CAAC7J,IAAI,EAAE6H,aAAa,CAACqC,UAAU,CAAC,CAAC,CAAC,CAAC;MACjE,CAAC,MAAM;QAAE;QACL,IAAIC,kBAAkB,GAAGF,cAAc,CAACG,WAAW;QAEnDvC,aAAa,CAACgC,YAAY,CAAC7J,IAAI,EAAEmK,kBAAkB,CAAC;QACpD,IAAI4c,OAAO,EAAE;UACTlf,aAAa,CAACgC,YAAY,CAACkd,OAAO,EAAE5c,kBAAkB,CAAC;QAC3D;MACJ;IACJ,CAAC,MAAM;MACHtC,aAAa,CAACwC,WAAW,CAACrK,IAAI,CAAC;MAC/B,IAAI+mB,OAAO,EAAE;QACTlf,aAAa,CAACwC,WAAW,CAAC0c,OAAO,CAAC;MACtC;IACJ;EACJ;AACJ,CAAC;AACD,IAAIqB,SAAS,GAAG,SAAZA,SAASA,CAAYhhB,IAAI,EAAEpH,IAAI,EAAE;EACjC,QAAOoH,IAAI,CAAC7G,IAAI;IAChB,KAAK,sBAAsB;MACvB,IAAI6G,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC6I,KAAK,CAAC9M,IAAI,CAACjH,KAAK,CAACkoB,UAAU,CAAC,EACxEroB,IAAI,CAACqoB,UAAU,GAAGjhB,IAAI,CAACjH,KAAK,CAACkoB,UAAU;MAC3C;IACJ,KAAK,UAAU;MACX,IAAIjhB,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC6I,KAAK,CAAC9M,IAAI,CAACjH,KAAK,CAACmoB,SAAS,CAAC,EACtEtoB,IAAI,CAACsoB,SAAS,GAAGlhB,IAAI,CAACjH,KAAK,CAACmoB,SAAS;MACzC;IACJ,KAAK,YAAY;MACb,IAAIlhB,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC6I,KAAK,CAAC9M,IAAI,CAACjH,KAAK,CAACkoB,UAAU,CAAC,EACxEroB,IAAI,CAACqoB,UAAU,GAAGjhB,IAAI,CAACjH,KAAK,CAACkoB,UAAU;MAE3C,IAAIjhB,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC6I,KAAK,CAAC9M,IAAI,CAACjH,KAAK,CAACmoB,SAAS,CAAC,EACtEtoB,IAAI,CAACsoB,SAAS,GAAGlhB,IAAI,CAACjH,KAAK,CAACmoB,SAAS;EAC7C;AACJ,CAAC;AACD,IAAIC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAYnhB,IAAI,EAAES,aAAa,EAAEE,WAAW,EAAED,SAAS,EAAEM,WAAW,EAAE;EACtF,IAAG,CAAChB,IAAI,CAACjH,KAAK,CAACC,EAAE,EAAC;IACdgH,IAAI,CAACjH,KAAK,CAACC,EAAE,GAAGZ,MAAM,CAACsM,aAAa,EAAE;IACtC;EACJ;;EACA,IAAI9L,IAAI,GAAG+G,QAAQ,CAACC,cAAc,CAACI,IAAI,CAACjH,KAAK,CAACC,EAAE,CAAC;EACjD,IAAI2mB,OAAO,GAAG,IAAI,CAAC,CAAC;EACpB,IAAIyB,WAAW,GAAG,KAAK;EACvB,IAAIxB,aAAa,GAAE,EAAE;EAErB,IAAI5f,IAAI,CAACjH,KAAK,CAACsH,CAAC,IAAI,KAAK,IAAIL,IAAI,CAACjH,KAAK,CAAC6a,CAAC,IAAI,KAAK,EAAE;IAChD5T,IAAI,GAAGqhB,iBAAiB,CAACrhB,IAAI,EAAES,aAAa,CAAC;EACjD;EAEA,IAAI,CAAC7H,IAAI,EAAE;IACP,IAAIsC,OAAO,GAAGwkB,gBAAgB,CAAC1f,IAAI,EAAES,aAAa,EAAEE,WAAW,CAAC;IAChEygB,WAAW,GAAG,IAAI;IAClBxoB,IAAI,GAAGsC,OAAO,CAACtC,IAAI;IACnB+mB,OAAO,GAAGzkB,OAAO,CAACykB,OAAO;IACzBC,aAAa,IAAE1kB,OAAO,CAAC0kB,aAAa;IACpC,IAAG5f,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,OAAO,CAAC,IAAIjE,IAAI,CAACjH,KAAK,CAACK,KAAK,EACrDhB,MAAM,CAACgJ,cAAc,GAAGpB,IAAI,CAACjH,KAAK,CAACC,EAAE;EAE7C,CAAC,MAAM,IAAIgI,WAAW,EAAE;IACpB4e,aAAa,IAAI5B,aAAa,CAAChe,IAAI,EAAEpH,IAAI,EAAE,KAAK,CAAC;EACrD;EAEAooB,SAAS,CAACpoB,IAAI,EAACoH,IAAI,CAAC;EACpB,IAAG,CAACU,SAAS,EAAEzC,kBAAkB,CAAC+B,IAAI,CAAC;EACvC4f,aAAa,IAAIjD,iBAAiB,CAAC/jB,IAAI,EAAEoH,IAAI,CAACjH,KAAK,CAAC;EACpD6mB,aAAa,IAAI/E,kBAAkB,CAACjiB,IAAI,EAAEoH,IAAI,CAACjH,KAAK,CAAC;EACrDsjB,aAAa,CAACzjB,IAAI,EAAEoH,IAAI,CAAC;EACzBpH,IAAI,CAACgX,YAAY,CAAC,OAAO,EAACgQ,aAAa,CAAC,CAAC,CAAC;EAC1C,OAAO;IAAChnB,IAAI,EAAJA,IAAI;IAACwoB,WAAW,EAAXA;EAAW,CAAC;AAC7B,CAAC;AACD,IAAIE,uBAAuB,GAAG,SAA1BA,uBAAuBA,CAAaF,WAAW,EAAEphB,IAAI,EAAEpH,IAAI,EAAE2oB,YAAY,EAAE;EAE3E,IAAIH,WAAW,EAAE;IACb,IAAGphB,IAAI,CAACiE,cAAc,EACtB,IAAIjE,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,IAAI,OAAOjE,IAAI,CAACjH,KAAK,CAAC+lB,WAAW,IAAI,UAAU,EAAE;MAAE;MAC3F,IAAI,CAACyC,YAAY,EAAE;QACf;QACA7C,QAAQ,CAAC9lB,IAAI,CAAC;QACdA,IAAI,CAACgX,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC;MACzC;IACJ;IACA;;IAEA;IACA;IACA;IACA;IACA5S,EAAE,CAACpE,IAAI,EAAEoH,IAAI,CAAC;EAClB;AACJ,CAAC;AAED,SAAS1B,UAAUA,CAAA,EAAI;EACnB,IAAIuP,CAAC,GAAGsG,SAAS,CAACC,SAAS,CAACrQ,SAAS,CAACoQ,SAAS,CAACC,SAAS,CAACxY,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;EACjF,OAAO1C,QAAQ,CAAC2U,CAAC,CAAC9J,SAAS,CAAC,CAAC,EAAE8J,CAAC,CAACjS,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE;AACzD;AAEA,IAAI4lB,UAAU,GAAG,SAAbA,UAAUA,CAAIxhB,IAAI,EAACpH,IAAI,EAAEgI,WAAW,EAAG;EACvC;EACI,IAAGZ,IAAI,CAACjH,KAAK,CAAC2F,SAAS,IAAG,QAAQ,EAAC;IAC/B;IACA;IACAsB,IAAI,CAAC3G,QAAQ,GAAC,EAAE;IAChBT,IAAI,CAACoJ,SAAS,GAAG,EAAE;IACnB,KAAI,IAAI1I,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC0G,IAAI,CAACjH,KAAK,CAACwH,SAAS,CAAChH,MAAM,EAACD,CAAC,EAAE,EAC7C;MACI0G,IAAI,CAAC3G,QAAQ,CAACG,IAAI,CAAC0E,IAAI,CAAC0I,uBAAuB,CAAC5G,IAAI,EAAC1G,CAAC,CAAC,CAAC;IAE5D;IACA2E,kBAAkB,CAAC+B,IAAI,CAAC;IACxB,KAAI,IAAI1G,GAAC,GAAC,CAAC,EAACA,GAAC,GAAC0G,IAAI,CAACjH,KAAK,CAACwH,SAAS,CAAChH,MAAM,EAACD,GAAC,EAAE,EAAC;MAC1C,IAAIuH,iBAAiB;MACrB,IAAGvC,UAAU,CAAC,CAAC,EAAE;QACbuC,iBAAiB,GAAG;UAACC,CAAC,EAAG,EAAE;UAAEC,CAAC,EAAE;QAAE,CAAC;MACvC;MACAnI,IAAI,CAACqK,WAAW,CAACjF,WAAW,CAAC;QAACgC,IAAI,EAACA,IAAI,CAAC3G,QAAQ,CAACC,GAAC,CAAC;QAAEsH,WAAW,EAAEA;MAAY,CAAC,CAAC,CAAC;IAAA;IACjFrC,yBAAyB,CAACsC,iBAAiB,CAAC;IAC5C;IACJ;EACJ;EACA;EAAA,KACK,IAAGb,IAAI,CAACjH,KAAK,CAAC2F,SAAS,EAAC;IACzB;IAAA,IAAAkH,SAAA,GAAAC,0BAAA,CACa7F,IAAI,CAACjH,KAAK,CAAC2F,SAAS;MAAAoH,KAAA;IAAA;MAAjC,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GACA;QAAA,IADQ3M,GAAC,GAAAwM,KAAA,CAAAvB,KAAA;QAEL;QACA5J,OAAO,CAAC8mB,IAAI,CAAC,iBAAiB,CAAC;QAC/B,IAAI1f,OAAO,GAAG/B,IAAI,CAAC3G,QAAQ,CAACC,GAAC,CAAC;QAC9B,IAAIooB,QAAQ,GAAG/hB,QAAQ,CAACC,cAAc,CAACmC,OAAO,CAAChJ,KAAK,CAACC,EAAE,CAAC;QACxD,IAAG0oB,QAAQ,EAAC;UAER,IAAIC,YAAY,GAAGzjB,IAAI,CAAC0I,uBAAuB,CAAC5G,IAAI,EAAC1G,GAAC,CAAC;UACvDqoB,YAAY,CAAC1c,OAAO,GAAGlD,OAAO,CAACkD,OAAO;UACtCjF,IAAI,CAAC3G,QAAQ,CAACC,GAAC,CAAC,GAAGqoB,YAAY;UAC/B1jB,kBAAkB,CAAC+B,IAAI,CAAC;UACxB,IAAIa,iBAAiB;UACrB,IAAGvC,UAAU,CAAC,CAAC,EAAE;YACbuC,iBAAiB,GAAG;cAACC,CAAC,EAAG,EAAE;cAAEC,CAAC,EAAE;YAAE,CAAC;UACvC;UACA,IAAI6gB,QAAQ,GAAG5jB,WAAW,CAAC;YAACgC,IAAI,EAAC2hB,YAAY;YAAE/gB,WAAW,EAAGA,WAAW;YAAEC,iBAAiB,EAAjBA;UAAiB,CAAC,CAAC;UAC7FtC,yBAAyB,CAACsC,iBAAiB,CAAC;UAC5C;UACA;UACA;UACAjI,IAAI,CAACipB,YAAY,CAACD,QAAQ,EAACF,QAAQ,CAAC;QAExC;QACA/mB,OAAO,CAACmnB,OAAO,CAAC,iBAAiB,CAAC;MAC1C;IAAC,SAAArkB,GAAA;MAAAmI,SAAA,CAAAzB,CAAA,CAAA1G,GAAA;IAAA;MAAAmI,SAAA,CAAAM,CAAA;IAAA;EACD;EACAlG,IAAI,CAACjH,KAAK,CAAC2F,SAAS,GAAG2C,SAAS;AACxC,CAAC;AACD,IAAIrD,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAA6G;EAAA,IAAA+jB,IAAA,GAAAjgB,SAAA,CAAAvI,MAAA,QAAAuI,SAAA,QAAAT,SAAA,GAAAS,SAAA,MAAJ,CAAC,CAAC;IAA7F9B,IAAI,GAAA+hB,IAAA,CAAJ/hB,IAAI;IAAES,aAAa,GAAAshB,IAAA,CAAbthB,aAAa;IAAEE,WAAW,GAAAohB,IAAA,CAAXphB,WAAW;IAAED,SAAS,GAAAqhB,IAAA,CAATrhB,SAAS;IAAEM,WAAW,GAAA+gB,IAAA,CAAX/gB,WAAW;IAAEJ,WAAW,GAAAmhB,IAAA,CAAXnhB,WAAW;IAAEC,iBAAiB,GAAAkhB,IAAA,CAAjBlhB,iBAAiB;EACjHb,IAAI,CAACuM,KAAK,GAAGvM,IAAI,CAACuM,KAAK,IAAI,CAAC,CAAC;EAC7B,IAAGvM,IAAI,CAACjH,KAAK,CAACoH,QAAQ,EAAC;IACnBH,IAAI,CAACjH,KAAK,CAACwH,SAAS,GAAI,OAAOP,IAAI,CAACjH,KAAK,CAACoH,QAAQ,IAAI,QAAQ,GAAIpG,IAAI,CAACuG,KAAK,CAACN,IAAI,CAACjH,KAAK,CAACoH,QAAQ,CAAC,GAAGH,IAAI,CAACjH,KAAK,CAACoH,QAAQ;IACvH,IAAG,CAACH,IAAI,CAACjH,KAAK,CAACuN,IAAI,EAAC;MAChBtG,IAAI,CAACjH,KAAK,CAACuN,IAAI,GAAGvM,IAAI,CAACuG,KAAK,CAACN,IAAI,CAACjH,KAAK,CAACipB,QAAQ,CAAC;IACrD;EACJ;EACA,IAAGC,OAAA,CAAOphB,iBAAiB,KAAI,QAAQ,EAAE;IACrCA,iBAAiB,CAACC,CAAC,GAAGD,iBAAiB,CAACC,CAAC,IAAI,EAAE;IAC/CD,iBAAiB,CAACE,CAAC,GAAGF,iBAAiB,CAACE,CAAC,IAAI,EAAE;IAC/C,IAAGf,IAAI,CAACjH,KAAK,CAACwG,MAAM,IAAI,cAAc,EAAE;MACpCsB,iBAAiB,CAACC,CAAC,CAACtH,IAAI,CAACwG,IAAI,CAAC;IAClC;IACA,IAAGA,IAAI,CAACjH,KAAK,CAACsG,KAAK,IAAI,cAAc,EAAE;MACnCwB,iBAAiB,CAACE,CAAC,CAACvH,IAAI,CAACwG,IAAI,CAAC;IAClC;EACJ;EAEA,IAAAkiB,iBAAA,GAAyBf,gBAAgB,CAACnhB,IAAI,EAAES,aAAa,EAAEE,WAAW,EAAED,SAAS,EAAEM,WAAW,CAAC;IAA9FpI,IAAI,GAAAspB,iBAAA,CAAJtpB,IAAI;IAACwoB,WAAW,GAAAc,iBAAA,CAAXd,WAAW;EACrB,IAAIphB,IAAI,IAAIA,IAAI,CAACiE,cAAc,CAAC,OAAO,CAAC,IAAIjE,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,QAAQ,CAAC,EAAC;IAC5EjE,IAAI,CAACjH,KAAK,CAACopB,MAAM,GAAGniB,IAAI,CAACjH,KAAK,CAACopB,MAAM,CAACznB,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAACsJ,WAAW,CAAC,CAAC;IAC7FpL,IAAI,CAACgX,YAAY,CAAC,QAAQ,EAAE5P,IAAI,CAACjH,KAAK,CAACopB,MAAM,CAAC;EAClD;EACA;EACA,IAAGniB,IAAI,CAACjH,KAAK,CAACoH,QAAQ,IAAIa,WAAW,EAAE;IACnCwgB,UAAU,CAACxhB,IAAI,EAAEpH,IAAI,EAAEgI,WAAW,CAAC;EACvC,CAAC,MAAM,IAAI,CAACF,SAAS,EAAG;IACpB;IACA,IAAIV,IAAI,CAACjH,KAAK,CAACwH,SAAS,EAAE;MACtBrC,IAAI,CAACmI,cAAc,CAACrG,IAAI,CAAC;MACzB/B,kBAAkB,CAAC+B,IAAI,CAAC;IAC5B;IACD,IAAIA,IAAI,CAACiE,cAAc,CAAC,UAAU,CAAC,IAAIjE,IAAI,CAAC3G,QAAQ,CAACE,MAAM,GAAG,CAAC,EAAE;MAC7D6E,sBAAsB,CAAC4B,IAAI,CAAC;MAC5BoiB,wBAAwB,CAACpiB,IAAI,EAAEY,WAAW,CAAC;MAC1C,KAAK,IAAItH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0G,IAAI,CAAC3G,QAAQ,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;QAC3C,IAAI0G,IAAI,CAAC3G,QAAQ,CAACC,CAAC,CAAC,EAAE;UAClB0G,IAAI,CAAC3G,QAAQ,CAACC,CAAC,CAAC,CAAC6C,MAAM,GAAG6D,IAAI;UAC9B,IAAI1G,CAAC,IAAI,CAAC,EAAE;YACR0E,WAAW,CAAC;cAACgC,IAAI,EAACA,IAAI,CAAC3G,QAAQ,CAACC,CAAC,CAAC;cAAEmH,aAAa,EAAC7H,IAAI;cAAE+H,WAAW,EAACX,IAAI,CAAC3G,QAAQ,CAACC,CAAC,GAAG,CAAC,CAAC;cAAEoH,SAAS,EAACM,WAAW;cAAEA,WAAW,EAAXA,WAAW;cAAEJ,WAAW,EAAXA,WAAW;cAAEC,iBAAiB,EAAjBA;YAAiB,CAAC,CAAC;UAClK,CAAC,MAAM;YACH7C,WAAW,CAAC;cAACgC,IAAI,EAACA,IAAI,CAAC3G,QAAQ,CAACC,CAAC,CAAC;cAAEmH,aAAa,EAAC7H,IAAI;cAAE+H,WAAW,EAACX,IAAI;cAAEU,SAAS,EAACM,WAAW;cAAEA,WAAW,EAAXA,WAAW;cAAEJ,WAAW,EAAXA,WAAW;cAAEC,iBAAiB,EAAjBA;YAAiB,CAAC,CAAC;UAClJ;QACJ;MACJ;IAEJ;IACAb,IAAI,CAACuM,KAAK,GAAGvM,IAAI,CAACuM,KAAK,IAAI,CAAC,CAAC;IAC7BvM,IAAI,CAACuM,KAAK,CAAC8V,cAAc,GAAGvV,KAAK,CAAC5T,QAAQ,CAAC8G,IAAI,CAACjH,KAAK,CAACwG,MAAM,CAAC,CAAC,GAAGS,IAAI,CAACuM,KAAK,CAAC8V,cAAc,IAAI,CAAC,GAAGnpB,QAAQ,CAAC8G,IAAI,CAACjH,KAAK,CAACwG,MAAM,CAAC;IAC7HS,IAAI,CAACuM,KAAK,CAAC+V,aAAa,GAAGxV,KAAK,CAAC5T,QAAQ,CAAC8G,IAAI,CAACjH,KAAK,CAACsG,KAAK,CAAC,CAAC,GAAGW,IAAI,CAACuM,KAAK,CAAC+V,aAAa,IAAI,CAAC,GAAGppB,QAAQ,CAAC8G,IAAI,CAACjH,KAAK,CAACsG,KAAK,CAAC;EAC7H,CAAC,MACI;IACD+iB,wBAAwB,CAACpiB,IAAI,EAAEY,WAAW,CAAC;EAC/C;EACA0gB,uBAAuB,CAACF,WAAW,EAAEphB,IAAI,EAAEpH,IAAI,CAAC;EAEhD,OAAOA,IAAI;AACf,CAAC;AAED,IAAIwF,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAI4B,IAAI,EAAK;EACnCA,IAAI,CAACuM,KAAK,GAAGvM,IAAI,CAACuM,KAAK,IAAI,CAAC,CAAC;EAC7B,IAAIvM,IAAI,CAAC7G,IAAI,IAAI,gBAAgB,EAAE;IAC/B6G,IAAI,CAACuM,KAAK,CAACS,4BAA4B,GAAGhN,IAAI,CAACuM,KAAK,CAACU,eAAe,IAAI,cAAc;IACtFjN,IAAI,CAACuM,KAAK,CAACG,2BAA2B,GAAG1M,IAAI,CAACuM,KAAK,CAACM,cAAc,IAAI,cAAc;IACpF;IACA,KAAK,IAAIvT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0G,IAAI,CAAC3G,QAAQ,CAACE,MAAM,EAAE,EAAED,CAAC,EAAE;MAC3C,IAAI0G,IAAI,CAAC3G,QAAQ,CAACC,CAAC,CAAC,CAACP,KAAK,CAACwG,MAAM,IAAI,cAAc,EAC/CS,IAAI,CAACuM,KAAK,CAACS,4BAA4B,GAAG,KAAK;MACnD,IAAIhN,IAAI,CAAC3G,QAAQ,CAACC,CAAC,CAAC,CAACP,KAAK,CAACsG,KAAK,IAAI,cAAc,EAC9CW,IAAI,CAACuM,KAAK,CAACG,2BAA2B,GAAG,KAAK;MAClD,IAAI,CAAC1M,IAAI,CAACuM,KAAK,CAACG,2BAA2B,IAAI,CAAC1M,IAAI,CAACuM,KAAK,CAACS,4BAA4B,EACnF;IACR;EACJ;AACJ,CAAC;AAED,IAAIoV,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAIpiB,IAAI,EAACuiB,eAAe,EAAI;EACpD,IAAGA,eAAe,IAAIviB,IAAI,CAAC7G,IAAI,IAAI,gBAAgB,KAAK6G,IAAI,CAACuM,KAAK,CAACM,cAAc,IAAI,cAAc,IAAK7M,IAAI,CAACuM,KAAK,CAACU,eAAe,IAAI,cAAc,CAAE,IAAIjN,IAAI,CAAC3G,QAAQ,CAACE,MAAM,GAAG,CAAC,EAAE;IAChLgpB,eAAe,CAAC/oB,IAAI,CAACwG,IAAI,CAACjH,KAAK,CAACC,EAAE,CAAC;IACnCZ,MAAM,CAAC6H,OAAO,CAACD,IAAI,CAACjH,KAAK,CAACC,EAAE,CAAC,GAAGZ,MAAM,CAAC6H,OAAO,CAACD,IAAI,CAACjH,KAAK,CAACC,EAAE,CAAC,IAAIgH,IAAI;EACzE;AACJ,CAAC;AAED,IAAIwiB,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,KAAK,EAAI;EAC9B,OAAOvpB,QAAQ,CAACupB,KAAK,CAAC1e,SAAS,CAAC,CAAC,EAAC0e,KAAK,CAAClpB,MAAM,GAAC,CAAC,CAAC,CAAC;AACtD,CAAC;AACD,IAAI8E,WAAW,GAAG,SAAdA,WAAWA,CAAIqkB,IAAI,EAAI;EACvB,OAAMA,IAAI,CAACnpB,MAAM,GAAC,CAAC,EAAC;IAChB,IAAIP,EAAE,GAAG0pB,IAAI,CAACpR,GAAG,CAAC,CAAC;IAEnB,IAAI1Y,IAAI,GAAG+G,QAAQ,CAACC,cAAc,CAAC5G,EAAE,CAAC;IACtC,IAAG,CAACJ,IAAI,EACJ;IACJ,IAAIkK,UAAU,GAAGlK,IAAI,CAACS,QAAQ;IAC9B,IAAIoU,SAAS,GAAG,CAAC;IACjB,IAAIF,QAAQ,GAAG,CAAC;IAChB,KAAK,IAAIjU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwJ,UAAU,CAACvJ,MAAM,EAAE,EAAED,CAAC,EAAE;MACpC,IAAIuO,KAAK,GAAG/E,UAAU,CAACxJ,CAAC,CAAC,CAACqpB,YAAY,IAAIvqB,MAAM,CAACwqB,gBAAgB,CAAC9f,UAAU,CAACxJ,CAAC,CAAC,CAAC;MAChF,IAAGuO,KAAK,CAACoC,OAAO,IAAI,MAAM,EAAE;QACxBwD,SAAS,GAAGA,SAAS,GAAG3K,UAAU,CAACxJ,CAAC,CAAC,CAACkG,YAAY,GAAGiO,SAAS,GAAI3K,UAAU,CAACxJ,CAAC,CAAC,CAACkG,YAAY,GAAGgjB,iBAAiB,CAAC3a,KAAK,CAACgb,SAAS,CAAC,GAAGL,iBAAiB,CAAC3a,KAAK,CAACib,YAAY,CAAE;QAC1KvV,QAAQ,GAAGA,QAAQ,GAAGzK,UAAU,CAACxJ,CAAC,CAAC,CAACgG,WAAW,GAAGiO,QAAQ,GAAGzK,UAAU,CAACxJ,CAAC,CAAC,CAACgG,WAAW;MAC1F;IACR;IACA,IAAIU,IAAI,GAAG5H,MAAM,CAAC6H,OAAO,CAACjH,EAAE,CAAC;IAC7B,IAAGgH,IAAI,IAAIA,IAAI,CAACuM,KAAK,IAAIvM,IAAI,CAACuM,KAAK,CAACU,eAAe,IAAI,cAAc,EAAG;MACpErU,IAAI,CAACiP,KAAK,CAACtI,MAAM,GAAGkO,SAAS,GAAG,IAAI;IACxC;IACA,IAAGzN,IAAI,IAAIA,IAAI,CAACuM,KAAK,IAAIvM,IAAI,CAACuM,KAAK,CAACM,cAAc,IAAI,cAAc,EAAE;MAClEjU,IAAI,CAACiP,KAAK,CAACxI,KAAK,GAAGkO,QAAQ,GAAG,IAAI;IACtC;EAEJ;AACJ,CAAC;AACD,IAAIpP,uBAAuB,GAAG,SAA1BA,uBAAuBA,CAAI6B,IAAI,EAAEpH,IAAI,EAAK;EAC1C,IAAGoH,IAAI,IAAIA,IAAI,CAAC7G,IAAI,IAAI,gBAAgB,IAAK6G,IAAI,CAACuM,KAAK,KAAKvM,IAAI,CAACuM,KAAK,CAACM,cAAc,IAAI,cAAc,IAAK7M,IAAI,CAACuM,KAAK,CAACU,eAAe,IAAI,cAAc,CAAG,IAAIjN,IAAI,CAAC3G,QAAQ,CAACE,MAAM,GAAG,CAAC,EAAE;IACrL,IAAIwpB,aAAa,GAAG/iB,IAAI,CAAC3G,QAAQ,CAAC,CAAC,CAAC,CAACkT,KAAK,CAAC8V,cAAc;IACzD,IAAIW,YAAY,GAAGhjB,IAAI,CAAC3G,QAAQ,CAAC,CAAC,CAAC,CAACkT,KAAK,CAAC+V,aAAa;IACvD,KAAK,IAAIhpB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0G,IAAI,CAAC3G,QAAQ,CAACE,MAAM,EAAE,EAAED,CAAC,EAAE;MAC3C,IAAI0G,IAAI,CAACuM,KAAK,IAAIvM,IAAI,CAACuM,KAAK,CAACU,eAAe,IAAI,cAAc,EAAE;QAC5D8V,aAAa,GAAGA,aAAa,GAAG/iB,IAAI,CAAC3G,QAAQ,CAACC,CAAC,CAAC,CAACiT,KAAK,CAAC8V,cAAc,GAAGU,aAAa,GAAG/iB,IAAI,CAAC3G,QAAQ,CAACC,CAAC,CAAC,CAACiT,KAAK,CAAC8V,cAAc;MACjI;MACA,IAAIriB,IAAI,CAACuM,KAAK,IAAIvM,IAAI,CAACuM,KAAK,CAACM,cAAc,IAAI,cAAc,EAAE;QAC3DmW,YAAY,GAAGA,YAAY,GAAGhjB,IAAI,CAAC3G,QAAQ,CAACC,CAAC,CAAC,CAACiT,KAAK,CAAC+V,aAAa,GAAGU,YAAY,GAAGhjB,IAAI,CAAC3G,QAAQ,CAACC,CAAC,CAAC,CAACiT,KAAK,CAAC+V,aAAa;MAC5H;IACJ;IACA,IAAGtiB,IAAI,CAACuM,KAAK,IAAIvM,IAAI,CAACuM,KAAK,CAACU,eAAe,IAAI,cAAc,EAAG;MAC5DrU,IAAI,CAACiP,KAAK,CAACtI,MAAM,GAAGwjB,aAAa,GAAG,IAAI;MACxC/iB,IAAI,CAACuM,KAAK,CAAC8V,cAAc,GAAGU,aAAa;IAC7C;IACA,IAAG/iB,IAAI,CAACuM,KAAK,IAAIvM,IAAI,CAACuM,KAAK,CAACM,cAAc,IAAI,cAAc,EAAE;MAC1DjU,IAAI,CAACiP,KAAK,CAACxI,KAAK,GAAG2jB,YAAY,GAAG,IAAI;MACtChjB,IAAI,CAACuM,KAAK,CAAC+V,aAAa,GAAGU,YAAY;IAC3C;EACJ;AACJ,CAAC;;AAED;AACA,IAAI3B,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIrhB,IAAI,EAAES,aAAa,EAAK;EAC7C,IAAIwiB,QAAQ,GAAG,CAAC;EAChB,KAAK,IAAI3pB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmH,aAAa,CAACqC,UAAU,CAACvJ,MAAM,EAAED,CAAC,EAAE,EAAE;IACtD2pB,QAAQ,IAAIxiB,aAAa,CAACqC,UAAU,CAACxJ,CAAC,CAAC,CAACgG,WAAW;EACvD;EACAU,IAAI,CAACjH,KAAK,CAACsH,CAAC,GAAG4iB,QAAQ;EACvB,OAAOjjB,IAAI;AACf,CAAC;AAED,SAASzB,yBAAyBA,CAAEsC,iBAAiB,EAAE;EACnD;EACA;EACA,IAAG,CAACA,iBAAiB,EAAE;IACnB;EACJ;EACA;EACA;EACA,KAAI,IAAIR,CAAC,GAAGQ,iBAAiB,CAACC,CAAC,EAAExH,CAAC,GAAE,CAAC,EAAG+G,CAAC,IAAI/G,CAAC,GAAG+G,CAAC,CAAC9G,MAAM,EAAG,EAAED,CAAC,EAAE;IAC7D,IAAG+G,CAAC,CAAC/G,CAAC,CAAC,IAAI+G,CAAC,CAAC/G,CAAC,CAAC,CAACP,KAAK,IAAIsH,CAAC,CAAC/G,CAAC,CAAC,CAACP,KAAK,CAACC,EAAE,EAAC;MACnC,IAAIkqB,GAAG,GAAGvjB,QAAQ,CAACC,cAAc,CAACS,CAAC,CAAC/G,CAAC,CAAC,CAACP,KAAK,CAACC,EAAE,CAAC;MAChD,IAAKkqB,GAAG,IAAIA,GAAG,CAACziB,aAAa,IACrByiB,GAAG,CAACziB,aAAa,CAACA;MAClB;MACA;MAAA,GACGyiB,GAAG,CAACziB,aAAa,CAACA,aAAa,CAACoH,KAAK,IACrCqb,GAAG,CAACziB,aAAa,CAACA,aAAa,CAACoH,KAAK,CAACsb,aAAa,IAAI,QAAQ,IAC/DD,GAAG,CAACziB,aAAa,CAACoH,KAAK,CAAC,WAAW,CAAC,IAAI,GAAG,IAC3Cqb,GAAG,CAACziB,aAAa,CAACoH,KAAK,CAAC,aAAa,CAAC,IAAI;MAC7C;MACA;MACA;MAAA,GACGqb,GAAG,CAACziB,aAAa,CAACjB,YACpB,EACH;QACF0jB,GAAG,CAACrb,KAAK,CAACtI,MAAM,GAAG2jB,GAAG,CAACziB,aAAa,CAACjB,YAAY,GAAG,IAAI;QACxD;MACJ;IACJ;EACJ;;EACA,KAAI,IAAIa,CAAC,GAAGQ,iBAAiB,CAACE,CAAC,EAAEzH,CAAC,GAAE,CAAC,EAAG+G,CAAC,IAAI/G,CAAC,GAAG+G,CAAC,CAAC9G,MAAM,EAAG,EAAED,CAAC,EAAE;IAC7D,IAAG+G,CAAC,CAAC/G,CAAC,CAAC,IAAI+G,CAAC,CAAC/G,CAAC,CAAC,CAACP,KAAK,IAAIsH,CAAC,CAAC/G,CAAC,CAAC,CAACP,KAAK,CAACC,EAAE,EAAC;MACnC,IAAIkqB,GAAG,GAAGvjB,QAAQ,CAACC,cAAc,CAACS,CAAC,CAAC/G,CAAC,CAAC,CAACP,KAAK,CAACC,EAAE,CAAC;MAChD,IAAKkqB,GAAG,IAAIA,GAAG,CAACziB,aAAa,IACrByiB,GAAG,CAACziB,aAAa,CAACA,aAAa,IAC5ByiB,GAAG,CAACziB,aAAa,CAACA,aAAa,CAACoH;MACnC;MACA;MAAA,GACGqb,GAAG,CAACziB,aAAa,CAACA,aAAa,CAACoH,KAAK,CAACsb,aAAa,IAAI,KAAK,IAC5DD,GAAG,CAACziB,aAAa,CAACoH,KAAK,CAAC,WAAW,CAAC,IAAI,GAAG,IAC3Cqb,GAAG,CAACziB,aAAa,CAACoH,KAAK,CAAC,aAAa,CAAC,IAAI;MAC7C;MACA;MACA;MAAA,GACGqb,GAAG,CAACziB,aAAa,CAACnB,WACpB,EACH;QACF4jB,GAAG,CAACrb,KAAK,CAACxI,KAAK,GAAG6jB,GAAG,CAACziB,aAAa,CAACnB,WAAW,GAAG,IAAI;QACtD;MACJ;IACJ;EACJ;AACJ;;AAEA,IAAIuhB,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAAYuC,IAAI,EAAE/pB,QAAQ,EAAEgG,KAAK,EAAE;EAC9D;EACA,IAAIhG,QAAQ,CAACE,MAAM,IAAI,CAAC,EAAE;IACtB6pB,IAAI,CAACrqB,KAAK,CAACsP,aAAa,GAAG,IAAI;IAC/B,OAAO+a,IAAI,CAACrqB,KAAK,CAACsG,KAAK;EAC3B;EACA,KAAI,IAAI/F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,QAAQ,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;IACrC;IACA+F,KAAK,GAAGiY,IAAI,CAAC+L,GAAG,CAACxC,2BAA2B,CAACxnB,QAAQ,CAACC,CAAC,CAAC,EAAED,QAAQ,CAACC,CAAC,CAAC,CAACD,QAAQ,EAAEgG,KAAK,CAAC,EAAEA,KAAK,CAAC;EAClG;EACA+jB,IAAI,CAACrqB,KAAK,CAAC4nB,MAAM,GAAG,IAAI;EACxB,OAAOthB,KAAK;AAChB,CAAC;AAEDrI,MAAM,CAACC,OAAO,GAAG;EACb+G,WAAW,EAAXA,WAAW;EACXC,kBAAkB,EAAlBA,kBAAkB;EAClBC,IAAI,EAAJA,IAAI;EACJC,uBAAuB,EAAvBA,uBAAuB;EACvBC,sBAAsB,EAAtBA,sBAAsB;EACtBC,WAAW,EAAXA,WAAW;EACXC,UAAU,EAAVA,UAAU;EACVC,yBAAyB,EAAzBA;AACJ,CAAC;;;;;;;;;;AC93CD,IAAAR,QAAA,GAAqB5G,mBAAO,CAAC,gCAAU,CAAC;EAAjCmsB,UAAU,GAAAvlB,QAAA,CAAVulB,UAAU;AAEjB,SAASpb,WAAWA,CAACM,KAAK,EAAE;EACxB,IAAIA,KAAK,CAACjP,MAAM,GAAG,CAAC,EAClB,OAAOiP,KAAK;EAEd,IAAIA,KAAK,CAAC5M,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI4M,KAAK,CAAC5M,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAC7D,OAAO4M,KAAK;EAEd,IAAImB,KAAK,GAAGzQ,QAAQ,CAACsP,KAAK,CAACzE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;EAC/C4F,KAAK,GAAG,CAACA,KAAK,GAAG,GAAG,EAAEgQ,OAAO,CAAC,CAAC,CAAC;EAEhC,IAAI4J,QAAQ,GAAG/a,KAAK,CAACzE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;EACpC,IAAIyf,SAAS,GAAG,OAAO,GAAGC,eAAe,CAACF,QAAQ,CAAC,GAAG,GAAG,GAAG5Z,KAAK,GAAG,GAAG;EAEvE,OAAO6Z,SAAS;AACpB;AAEA,IAAItkB,kBAAkB,GAAG,CAAC,CAAC;AAE3B,SAASqU,GAAGA,CAAChP,KAAK,EAAE;EAClB,OAAOA,KAAK,CAAC7J,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;AAChC;AAEA,SAAS8Y,EAAEA,CAACjP,KAAK,EAAE;EACjB,OAAOA,KAAK,GAAGA,KAAK,GAAG,EAAE,GAAG,EAAE;AAChC;AAEA,SAASuP,kBAAkBA,CAACtL,KAAK,EAAE;EACjCA,KAAK,GAAG+K,GAAG,CAACC,EAAE,CAAChL,KAAK,CAAC,CAAC;EAEtB,IAAIwC,MAAM;EACV,IAAIrB,KAAK,GAAG,MAAM;EAElB,IAAInB,KAAK,CAACjP,MAAM,IAAI,CAAC,EAAE;IACrBoQ,KAAK,GAAG2Z,UAAU,CAAC9a,KAAK,CAACzE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC4V,OAAO,CAAC,CAAC,CAAC;IACpDnR,KAAK,GAAGA,KAAK,CAACzE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;EAC/B,CAAC,MAAM;IACLyE,KAAK,GAAGA,KAAK,CAACzE,SAAS,CAAC,CAAC,EAAEyE,KAAK,CAACjP,MAAM,CAAC;EAC1C;EAEAiP,KAAK,GAAGib,eAAe,CAAClQ,GAAG,CAAC/K,KAAK,CAAC,CAAC;EACnCwC,MAAM,GAAGxC,KAAK,CAACU,KAAK,CAAC,GAAG,CAAC;EAEzB,OAAO;IACLmC,CAAC,EAAEnS,QAAQ,CAACqa,GAAG,CAACvI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3BgJ,CAAC,EAAE9a,QAAQ,CAACqa,GAAG,CAACvI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3BG,CAAC,EAAEjS,QAAQ,CAACqa,GAAG,CAACvI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B6C,CAAC,EAAEgK,UAAU,CAAClO,KAAK;EACrB,CAAC;AACH;AAEA,SAAS6Y,iBAAiBA,CAAEC,KAAK,EAAE;EAAE,OAAOvpB,QAAQ,CAACupB,KAAK,CAAC1e,SAAS,CAAC,CAAC,EAAC0e,KAAK,CAAClpB,MAAM,GAAC,CAAC,CAAC,CAAC;AAAC;AAAC;AAEzF,SAAS2U,eAAeA,CAAEtV,IAAI,EAAE;EAC9B,IAAG,CAACA,IAAI,EAAE,OAAO,CAAC;EAClB,IAAIkK,UAAU,GAAGlK,IAAI,CAACS,QAAQ;EAC9B,IAAIoU,SAAS,GAAG,CAAC;EACjB,KAAK,IAAInU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwJ,UAAU,CAACvJ,MAAM,EAAE,EAAED,CAAC,EAAE;IACpC,IAAIuO,KAAK,GAAG/E,UAAU,CAACxJ,CAAC,CAAC,CAACqpB,YAAY,IAAIvqB,MAAM,CAACwqB,gBAAgB,CAAC9f,UAAU,CAACxJ,CAAC,CAAC,CAAC;IAChFmU,SAAS,GAAGA,SAAS,GAAG3K,UAAU,CAACxJ,CAAC,CAAC,CAACkG,YAAY,GAAGiO,SAAS,GAAI3K,UAAU,CAACxJ,CAAC,CAAC,CAACkG,YAAY,GAAGgjB,iBAAiB,CAAC3a,KAAK,CAACgb,SAAS,CAAC,GAAGL,iBAAiB,CAAC3a,KAAK,CAACib,YAAY,CAAE;EAClL;EACA,OAAOrV,SAAS;AAClB;AAEA,SAASgW,eAAeA,CAACC,GAAG,EAAE;EAC5B,IAAIrY,CAAC,GAAGnS,QAAQ,CAACwqB,GAAG,CAAC3f,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;EACzC,IAAIiQ,CAAC,GAAG9a,QAAQ,CAACwqB,GAAG,CAAC3f,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;EACzC,IAAIoH,CAAC,GAAGjS,QAAQ,CAACwqB,GAAG,CAAC3f,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;EAEzC,OAAOsH,CAAC,GAAG,GAAG,GAAG2I,CAAC,GAAG,GAAG,GAAG7I,CAAC;AAC9B;AAEA,IAAMoB,KAAK,GAAG;EACZoX,SAAS,EAAG,CAAC,CAAC;EACdC,aAAa,EAAG,CAAC,CAAC;EAClBC,YAAY,EAAG;IACb1qB,IAAI,EAAE,gBAAgB;IACtBJ,KAAK,EAAE;MACH,GAAG,EAAE4G,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACkkB,YAAY;MACpD,GAAG,EAAEnkB,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACmkB;IAC5C;EACF;AACF,CAAC;AAED,SAAShlB,kBAAkBA,CAAC/F,EAAE,EAAGoG,SAAS,EAAC;EACvC,IAAI4kB,SAAS,GAAGhlB,YAAY,CAACI,SAAS,EAAE,IAAI,CAAC;EAC7C,IAAG4kB,SAAS,EACZ;IACE,IAAIpgB,GAAG,GAAG,YAAY;MAChB,SAASqgB,EAAEA,CAAA,EAAG;QACV,OAAO3M,IAAI,CAAC4M,KAAK,CAAC,CAAC,CAAC,GAAG5M,IAAI,CAAC6M,MAAM,CAAC,CAAC,IAAI,OAAO,CAAC,CAC3CvX,QAAQ,CAAC,EAAE,CAAC,CACZ7I,SAAS,CAAC,CAAC,CAAC;MACrB;MACA,OAAOkgB,EAAE,CAAC,CAAC,GAAGA,EAAE,CAAC,CAAC,GAAG,GAAG,GAAGA,EAAE,CAAC,CAAC,GAAG,GAAG,GAAGA,EAAE,CAAC,CAAC,GAAG,GAAG,GAC9CA,EAAE,CAAC,CAAC,GAAG,GAAG,GAAGA,EAAE,CAAC,CAAC,GAAGA,EAAE,CAAC,CAAC,GAAGA,EAAE,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IACL1X,KAAK,CAACoX,SAAS,CAAC/f,GAAG,CAAC,GAAGjE,QAAQ,CAACC,cAAc,CAAC5G,EAAE,CAAC;IAClDuT,KAAK,CAACqX,aAAa,CAAChgB,GAAG,CAAC,GAAGxL,MAAM,CAAC6H,OAAO,CAACjH,EAAE,CAAC;IAC7C,OAAO4K,GAAG;EACd;EACA,OAAO,UAAU;AACnB;AAEA,SAAS5E,YAAYA,CAAEI,SAAS,EAAE;EAC9B,IAAGA,SAAS,EAAC;IACX,IAAI4kB,SAAS,GAAGzX,KAAK,CAACoX,SAAS,CAACvkB,SAAS,CAAC;IAC1C,IAAG4kB,SAAS,EACV,OAAOA,SAAS,CAAC,KACd,OAAO3iB,SAAS;EACzB;EACA,OAAO1B,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;AAC3C;AAEA,SAASX,aAAaA,CAACG,SAAS,EAAEY,IAAI,EAAE;EACtC,IAAI5H,MAAM,CAAC6H,OAAO,IAAI,CAAC7H,MAAM,CAAC6H,OAAO,CAACmkB,OAAO,EAAE;IAC7ChsB,MAAM,CAAC6H,OAAO,CAACmkB,OAAO,GAAG7X,KAAK,CAACsX,YAAY;EAC7C;EACA,IAAIzkB,SAAS,EAAE;IACb,IAAIilB,aAAa,GAAG9X,KAAK,CAACqX,aAAa,CAACxkB,SAAS,CAAC;IAClD,IAAIilB,aAAa,EAAE;MACjBA,aAAa,CAAChrB,QAAQ,GAAGgrB,aAAa,CAAChrB,QAAQ,IAAI,EAAE;MACrDgrB,aAAa,CAAChrB,QAAQ,CAACG,IAAI,CAACwG,IAAI,CAAC;MACjCqkB,aAAa,CAACtiB,OAAO,GAAG,IAAI;MAC5B,OAAOsiB,aAAa;IACtB;EACF;EAEA,IAAI9X,KAAK,CAACsX,YAAY,CAACxqB,QAAQ,EAAE;IAC/BkT,KAAK,CAACsX,YAAY,CAAC9hB,OAAO,GAAG,IAAI;EACnC;EACAwK,KAAK,CAACsX,YAAY,CAACxqB,QAAQ,GAAGkT,KAAK,CAACsX,YAAY,CAACxqB,QAAQ,IAAI,EAAE;EAC/DkT,KAAK,CAACsX,YAAY,CAACxqB,QAAQ,CAACG,IAAI,CAACwG,IAAI,CAAC;EACtC,OAAOuM,KAAK,CAACsX,YAAY;AAC3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA7sB,MAAM,CAACC,OAAO,GAAG;EACbiR,WAAW,EAAXA,WAAW;EACXqL,GAAG,EAAHA,GAAG;EACHC,EAAE,EAAFA,EAAE;EACFM,kBAAkB,EAAlBA,kBAAkB;EAClB/U,kBAAkB,EAAlBA,kBAAkB;EAClBE,aAAa,EAAbA,aAAa;EACbD,YAAY,EAAZA,YAAY;EACZkP,eAAe,EAAfA,eAAe;EACfhP,kBAAkB,EAAlBA;AACJ,CAAC;;;;;;;;;;;AC/KD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMolB,QAAQ,GAAGntB,mBAAO,CAAC,qCAAY,CAAC;AACtC,IAAMotB,IAAI,GAAG,IAAID,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;;AAEzC;AACA,IAAME,cAAc,GAAG;EACrBC,KAAK,EAAE;IACLvK,IAAI,EAAE,OAAO;IACb7iB,OAAO,EAAEqtB;EACX,CAAC;EACDC,cAAc,EAAE;IACdzK,IAAI,EAAE,YAAY;IAClB7iB,OAAO,EAAEutB;EACX,CAAC;EACDC,MAAM,EAAE;IACN3K,IAAI,EAAE,QAAQ;IACd7iB,OAAO,EAAEytB;EACX;AACF,CAAC;AAED,IAAMC,iBAAiB,GAAGP,cAAc,CAACC,KAAK;AAE9C,SAASK,aAAaA,CAACE,MAAM,EAAEC,IAAI,EAAEC,SAAS,EAAE;EAC9C,IAAI1qB,GAAG,GAAG+pB,IAAI,CAAC/pB,GAAG,CAAC;IACjBxB,EAAE,EAAEisB,IAAI;IACRE,YAAY,EAAE,EAAE/sB,MAAM,CAACgtB;EACzB,CAAC,CAAC;EACF,OAAO5qB,GAAG;AACZ;AAEA,SAASoqB,gBAAgBA,CAACI,MAAM,EAAEC,IAAI,EAAEC,SAAS,EAAE;EACjD,IAAIlB,SAAS,GAAGO,IAAI,CAACc,YAAY,CAAC,CAAC;EACnC,IAAI7qB,GAAG;EAEP,IAAI0qB,SAAS,IAAI,CAAC,EAAE;IAClB1qB,GAAG,GAAG+pB,IAAI,CAAC/pB,GAAG,CAAC;MACbxB,EAAE,EAAEisB,IAAI;MACRva,YAAY,EAAEtS,MAAM,CAACktB,QAAQ;MAC7BpZ,UAAU,EAAE,KAAK;MACjBqZ,cAAc,EAAE,GAAG;MACnBJ,YAAY,EAAE,EAAE/sB,MAAM,CAACgtB;IACzB,CAAC,CAAC;IACFpB,SAAS,GAAGA,SAAS,CAACwB,MAAM,CAAChrB,GAAG,CAAC;IAEjCA,GAAG,GAAG+pB,IAAI,CAAC/pB,GAAG,CAAC;MACbxB,EAAE,EAAEgsB,MAAM;MACVO,cAAc,EAAE,CAAC,GAAG,GAAGntB,MAAM,CAACktB,QAAQ;MACtCpZ,UAAU,EAAE;IACd,CAAC,CAAC;IACF8X,SAAS,GAAGA,SAAS,CAACwB,MAAM,CAAChrB,GAAG,CAAC;IAEjC,OAAOwpB,SAAS;EAClB;EAEA5rB,MAAM,CAACgtB,MAAM,EAAE;EACf5qB,GAAG,GAAG+pB,IAAI,CAAC/pB,GAAG,CAAC;IACbxB,EAAE,EAAEgsB,MAAM;IACVta,YAAY,EAAE,CAAC;IACf6a,cAAc,EAAEntB,MAAM,CAACktB,QAAQ;IAC/BpZ,UAAU,EAAE,KAAK;IACjBiZ,YAAY,EAAE,EAAE/sB,MAAM,CAACgtB;EACzB,CAAC,CAAC;EACFpB,SAAS,GAAGA,SAAS,CAACwB,MAAM,CAAChrB,GAAG,CAAC;EAEjCA,GAAG,GAAG+pB,IAAI,CAAC/pB,GAAG,CAAC;IACbxB,EAAE,EAAEisB,IAAI;IACRE,YAAY,EAAE/sB,MAAM,CAACgtB,MAAM,GAAC,CAAC;IAC7BG,cAAc,EAAE,GAAG;IACnB7a,YAAY,EAAE,CAAC,GAAG,GAAGtS,MAAM,CAACktB,QAAQ;IACpCpZ,UAAU,EAAE;EACd,CAAC,CAAC;EACF8X,SAAS,GAAGA,SAAS,CAACwB,MAAM,CAAChrB,GAAG,CAAC;EAEjC,OAAOwpB,SAAS;AAClB;AAEA,SAASU,YAAYA,CAACM,MAAM,EAAEC,IAAI,EAAEC,SAAS,EAAE;EAC7C,IAAIlB,SAAS,GAAGO,IAAI,CAACc,YAAY,CAAC,CAAC;EACnC,IAAI7qB,GAAG;EACP,IAAI0qB,SAAS,IAAI,CAAC,EAAE;IAClB1qB,GAAG,GAAG+pB,IAAI,CAAC/pB,GAAG,CAAC;MACbxB,EAAE,EAAEisB,IAAI;MACRlX,UAAU,EAAE,SAAS;MACrBtD,YAAY,EAAErS,MAAM,CAACqtB,OAAO;MAC5BvZ,UAAU,EAAE,KAAK;MACjBwZ,cAAc,EAAE,GAAG;MACnBP,YAAY,EAAE,EAAE/sB,MAAM,CAACgtB;IACzB,CAAC,CAAC;IACFpB,SAAS,GAAGA,SAAS,CAACwB,MAAM,CAAChrB,GAAG,CAAC;IACjCA,GAAG,GAAG+pB,IAAI,CAAC/pB,GAAG,CAAC;MACbxB,EAAE,EAAEgsB,MAAM;MACVva,YAAY,EAAE,GAAG;MACjBsD,UAAU,EAAE,SAAS;MACrB7B,UAAU,EAAE,KAAK;MACjBwZ,cAAc,EAAG,CAAC,EAAE,GAAGttB,MAAM,CAACqtB,OAAO,GAAI;IAC3C,CAAC,CAAC;IACFzB,SAAS,GAAGA,SAAS,CAACwB,MAAM,CAAChrB,GAAG,CAAC;EACnC;EAEA,IAAI0qB,SAAS,IAAI,CAAC,CAAC,EAAE;IACnB9sB,MAAM,CAACgtB,MAAM,EAAE;IACf5qB,GAAG,GAAG+pB,IAAI,CAAC/pB,GAAG,CAAC;MACbxB,EAAE,EAAEgsB,MAAM;MACVva,YAAY,EAAE,GAAG;MACjByB,UAAU,EAAE,KAAK;MACjBwZ,cAAc,EAAEttB,MAAM,CAACqtB,OAAO;MAC9BN,YAAY,EAAE,EAAE/sB,MAAM,CAACgtB;IACzB,CAAC,CAAC;IACFpB,SAAS,GAAGA,SAAS,CAACwB,MAAM,CAAChrB,GAAG,CAAC;IAEjCA,GAAG,GAAG+pB,IAAI,CAAC/pB,GAAG,CAAC;MACbxB,EAAE,EAAEisB,IAAI;MACRlX,UAAU,EAAE,SAAS;MACrBtD,YAAY,EAAG,CAAC,EAAE,GAAGrS,MAAM,CAACqtB,OAAO,GAAI,EAAE;MACzCvZ,UAAU,EAAE,KAAK;MACjBwZ,cAAc,EAAE,GAAG;MACnBP,YAAY,EAAE/sB,MAAM,CAACgtB,MAAM,GAAG;IAChC,CAAC,CAAC;IACFpB,SAAS,GAAGA,SAAS,CAACwB,MAAM,CAAChrB,GAAG,CAAC;EACnC;EAEA,OAAOwpB,SAAS;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS2B,YAAYA,CAACC,UAAU,EAAEC,QAAQ,EAAEX,SAAS,EAAEY,QAAQ,EAAE;EAC/D,IAAI,CAACA,QAAQ,EACXA,QAAQ,GAAGf,iBAAiB;EAE9B,IAAI9C,OAAA,CAAO6D,QAAQ,MAAK,QAAQ,IAAI,OAAOA,QAAQ,CAACzuB,OAAO,KAAK,UAAU,EACxE,OAAOyuB,QAAQ,CAACzuB,OAAO,CAACuuB,UAAU,EAAEC,QAAQ,EAAEX,SAAS,CAAC,CAAC,KAEzDvqB,OAAO,CAACyF,GAAG,CAAC,IAAIkC,KAAK,CAAC,6CAA6C,GACjEwjB,QAAQ,CAAC,CAAC;AAChB;AAEA9uB,oBAAoB,GAAGwtB,cAAc;AACrCxtB,2BAA2B,GAAG2uB,YAAY;;;;;;;;;;;;;;;;AC3K1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAM/tB,KAAK,GAAIT,8DAAyB;AAExC8U,MAAM,CAAC+Z,SAAS,CAACR,MAAM,GAAG,UAASlf,IAAI,EAAE;EACvC,OAAO,IAAI,CAAC5D,MAAM,CAAC4D,IAAI,CAAC;AAC1B,CAAC;AAED2U,KAAK,CAAC+K,SAAS,CAACR,MAAM,GAAG,UAASlf,IAAI,EAAE;EACtC,IAAI,CAAC9M,IAAI,CAAC8M,IAAI,CAAC;EACf,OAAO,IAAI;AACb,CAAC;AAED,IAAIpO,WAAW;AACf,IAAIE,KAAwB,EAC1BF,EAAsE,KACnE,IAAIE,IAAoB,EAC3BF,WAAW,GAAGf,mBAAO,CAAC,mEAA2B,CAAC,CAAC,KAEnDe,EAAmD;AAAA,IAE/CosB,QAAQ;EACZ,SAAAA,SAAYvrB,KAAK,EAAEM,QAAQ,EAAE;IAAA6sB,eAAA,OAAA5B,QAAA;IAC3B,IAAI,CAACvrB,KAAK,GAAGA,KAAK,IAAI,CAAC,CAAC;IACxB,IAAI,CAACM,QAAQ,GAAGA,QAAQ,IAAI,EAAE;IAE9BjB,MAAM,CAAC+tB,OAAO,GAAG,UAAU9rB,MAAM,EAAE;MACjCiB,OAAO,CAACb,OAAO,CACb,IAAI,CAACH,GAAG,CAACD,MAAM,CAAC,EAChB,IACF,CAAC;IACH,CAAC,CAAC+rB,IAAI,CAAC,IAAI,CAAC;IAEZ,IAAI,CAAChpB,KAAK,GAAG,CAAC,CAAC;IAEf,IAAI,IAAI,CAACrE,KAAK,CAACC,EAAE,EAAE;MACjB,IAAI,CAACoE,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAACrE,KAAK,CAACC,EAAE;IAClC,CAAC,MAAM;MACL,IAAI,CAACD,KAAK,CAACC,EAAE,GAAG,IAAI,CAACA,EAAE,CAAC,IAAI,CAAC;IAC/B;IAEA,IAAI,IAAI,CAACD,KAAK,CAACgpB,IAAI,EAAE;MACnB,IAAI,CAAChpB,KAAK,CAACgpB,IAAI,CAAC,IAAI,CAAC;IACvB;EACF;EAACsE,YAAA,CAAA/B,QAAA;IAAA1gB,GAAA;IAAAW,KAAA,EAED,SAAA+hB,gBAAA,EAAkB;MAChB,OAAO,IAAI,CAACjtB,QAAQ,CAACmQ,GAAG,CAAC,UAAStN,KAAK,EAAE;QACvC,OAAOA,KAAK,CAACqqB,MAAM,CAAC,CAAC;MACvB,CAAC,CAAC;IACJ;EAAC;IAAA3iB,GAAA;IAAAW,KAAA,EAED,SAAAiiB,YAAYjsB,GAAG,EAAEksB,QAAQ,EAAE;MACzB,IAAIptB,QAAQ,GAAGkB,GAAG,CAAClB,QAAQ;MAE3B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,QAAQ,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;QACxC,IAAID,QAAQ,CAACC,CAAC,CAAC,CAACotB,WAAW,IAAIrtB,QAAQ,CAACC,CAAC,CAAC,CAACotB,WAAW,IAAID,QAAQ,EAAE;UAClE,IAAI,CAACE,aAAa,CAACntB,IAAI,CAACH,QAAQ,CAACC,CAAC,CAAC,CAAC;QACtC;QAEA,IAAID,QAAQ,CAACC,CAAC,CAAC,CAACD,QAAQ,IAAIA,QAAQ,CAACC,CAAC,CAAC,CAACD,QAAQ,CAACE,MAAM,EACrD,IAAI,CAACitB,WAAW,CAACntB,QAAQ,CAACC,CAAC,CAAC,EAAEmtB,QAAQ,CAAC;MAC3C;MAEA;IACF;EAAC;IAAA7iB,GAAA;IAAAW,KAAA,EAED,SAAAqiB,KAAKH,QAAQ,EAAElsB,GAAG,EAAE;MAClB,IAAI,CAACosB,aAAa,GAAG,EAAE;MAEvB,IAAI,CAACpsB,GAAG,EACN,IAAI,CAACisB,WAAW,CAAC,IAAI,CAACK,MAAM,EAAEJ,QAAQ,CAAC,CAAC,KAExC,IAAI,CAACD,WAAW,CAACjsB,GAAG,EAAEksB,QAAQ,CAAC;MAEjC,OAAO,IAAI,CAACE,aAAa;IAC3B;EAAC;IAAA/iB,GAAA;IAAAW,KAAA,EAED,SAAAvL,GAAGkhB,IAAI,EAAE;MACP,IAAI,CAAC,IAAI,CAAC9c,KAAK,CAAC8c,IAAI,CAAC,EAAE;QACrB9hB,MAAM,CAAC0uB,IAAI,EAAE;QACb,IAAI,CAAC1pB,KAAK,CAAC8c,IAAI,CAAC,GAAG9hB,MAAM,CAAC0uB,IAAI;MAChC;MAEA,OAAO,IAAI,CAAC1pB,KAAK,CAAC8c,IAAI,CAAC;IACzB;EAAC;IAAAtW,GAAA;IAAAW,KAAA,EAED,SAAAwiB,OAAOC,GAAG,EAAE;MACV,IAAI,CAAC,IAAI,CAAC5pB,KAAK,EACb,IAAI,CAACA,KAAK,GAAG,CAAC,CAAC;MAEjB,KAAK,IAAI9D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0tB,GAAG,CAACztB,MAAM,EAAED,CAAC,EAAE,EAAE;QACnC,IAAI,CAAC,IAAI,CAAC8D,KAAK,CAAC4pB,GAAG,CAAC1tB,CAAC,CAAC,CAAC,EAAE;UACvBlB,MAAM,CAAC0uB,IAAI,EAAE;UACb,IAAI,CAAC1pB,KAAK,CAAC4pB,GAAG,CAAC1tB,CAAC,CAAC,CAAC,GAAGlB,MAAM,CAAC0uB,IAAI,GAAG,EAAE;QACvC;MACF;IACF;EAAC;IAAAljB,GAAA;IAAAW,KAAA,EAED,SAAA0iB,mBAAmB1iB,KAAK,EAAE;MACxBA,KAAK,GAAGA,KAAK,CAAC3I,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG2I,KAAK,CAAC7J,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG6J,KAAK;MACvEA,KAAK,GAAGA,KAAK,CAAC3I,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG2I,KAAK,CAAC7J,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG6J,KAAK;MACvEA,KAAK,GAAGA,KAAK,CAAC3I,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG2I,KAAK,CAAC7J,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG6J,KAAK;MACvEA,KAAK,GAAGA,KAAK,CAAC3I,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG2I,KAAK,CAAC7J,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG6J,KAAK;MAEvE,OAAOA,KAAK;IACd;EAAC;IAAAX,GAAA;IAAAW,KAAA,EAED,SAAAnK,cAAcC,MAAM,EAAE;MACpB,IAAIG,GAAG,GAAG,+BAA+B,GAAGH,MAAM,CAACrB,EAAE,GAAG,GAAG;MAC3D,IAAIyB,OAAO;MAEX,IAAIJ,MAAM,CAAC6sB,KAAK,EAAE;QAChB1sB,GAAG,GAAG,sDAAsD,GAAG,IAAI,CAACysB,kBAAkB,CAClF5sB,MAAM,CAACyW,IAAI,CAAC,GAAG,KAAK,IAAIzW,MAAM,CAACuf,QAAQ,IAAI,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,GAC7D,kBAAkB;MACtB,CAAC,MAAM,IAAIvf,MAAM,IAAIsL,MAAM,CAACD,IAAI,CAACrL,MAAM,CAAC,CAACd,MAAM,EAAE;QAC/C,OAAOc,MAAM,CAACrB,EAAE;QAEhBqB,MAAM,CAACS,IAAI,GAAG,MAAM;QACpBL,OAAO,GAAGvC,WAAW,CAAC,cAAc,EAAEmC,MAAM,EAAE,KAAK,CAAC,CAACI,OAAO;QAE5DD,GAAG,IAAIC,OAAO,GAAG,GAAG;MACtB;MAEA,OAAOD,GAAG;IACZ;EAAC;IAAAoJ,GAAA;IAAAW,KAAA,EAED,SAAA8gB,aAAA,EAAe;MACb,IAAIjtB,KAAwB,EAC1B,EAAU;MACZ,OAAO,EAAE;IACX;EAAC;IAAAwL,GAAA;IAAAW,KAAA,EAED,SAAA4iB,UAAU9sB,MAAM,EAAE;MAChB,IAAIsL,MAAM,CAACD,IAAI,CAACrL,MAAM,CAAC,CAACd,MAAM,EAC5B,OAAOrB,WAAW,CAAC,cAAc,EAAEmC,MAAM,EAAE,KAAK,CAAC;IACrD;EAAC;IAAAuJ,GAAA;IAAAW,KAAA,EAED,SAAA/J,IAAIH,MAAM,EAAE;MACV,IAAIjC,KAAwB,EAC1B,EAAkC,KAC/B,IAAIA,IAAoB,EAC3B,OAAO,IAAI,CAAC+uB,SAAS,CAAC9sB,MAAM,CAAC;MAC/B,OAAOA,MAAM;IACf;EAAC;IAAAuJ,GAAA;IAAAW,KAAA,EAED,SAAAtB,YAAYjK,EAAE,EAAEouB,GAAG,EAAEhrB,KAAK,EAAEirB,EAAE,EAAExF,YAAY,EAAE;MAC5C,IAAIyF,WAAW;MACf,IAAI,CAACzF,YAAY,EAAE;QACjBA,YAAY,GAAG,KAAK;MACtB;MAEA,IAAIwF,EAAE,EAAE;QACNC,WAAW,GAAG,GAAG,GAAGlvB,MAAM,CAACmvB,UAAU;QACrCnvB,MAAM,CAACovB,UAAU,CAACF,WAAW,CAAC,GAAGD,EAAE;QACnCjvB,MAAM,CAACmvB,UAAU,EAAE;MACrB;MAEAH,GAAG,GAAIhvB,KAAwB,GAAIgvB,GAAG,GAAGrtB,CAAmB;MAE5D,IAAIutB,WAAW,EACbhsB,OAAO,CAACoB,eAAe,CAAC1D,EAAE,EAAEouB,GAAG,EAAEhrB,KAAK,EAAEkrB,WAAW,EAAEzF,YAAY,CAAC,CAAC,KAEnEvmB,OAAO,CAACoB,eAAe,CAAC1D,EAAE,EAAEouB,GAAG,EAAEhrB,KAAK,EAAE,IAAI,EAAEylB,YAAY,CAAC;IAC/D;EAAC;IAAAje,GAAA;IAAAW,KAAA,EAED,SAAAkjB,QAAQL,GAAG,EAAE;MACX,IAAIhvB,IAAwB,EAC1B,OAAOgvB,GAAG;MAEZ,OAAOrtB,IAAI,CAACC,SAAS,CAACotB,GAAG,CAAC;IAC5B;EAAC;IAAAxjB,GAAA;IAAAW,KAAA,EAED,SAAAmjB,YAAY3uB,KAAK,EAAE;MACjB,IAAI,CAACA,KAAK,GAAGnB,KAAK,CAAC,IAAI,CAACmB,KAAK,EAAEA,KAAK,CAAC;MACrC,IAAM4uB,cAAc,GAAG,IAAI,CAACd,MAAM,CAACzpB,KAAK,CAACpE,EAAE;MAC3C,IAAM6tB,MAAM,GAAG,IAAI,CAACN,MAAM,CAAC,CAAC;MAC5B,KAAK,IAAIjtB,CAAC,GAAC,CAAC,EAAEA,CAAC,GAACutB,MAAM,CAACxtB,QAAQ,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;QAC3C,IAAIA,CAAC,IAAE,CAAC,EAAE,IAAI,CAACuoB,YAAY,CAAC8F,cAAc,EAAEd,MAAM,CAACxtB,QAAQ,CAACC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,KAC9D,IAAI,CAAC2J,WAAW,CAAC0kB,cAAc,EAAEd,MAAM,CAACxtB,QAAQ,CAACC,CAAC,CAAC,EAAEA,CAAC,CAAC;MAC9D;MACA,IAAI,CAACutB,MAAM,CAACzpB,KAAK,CAACpE,EAAE,GAAG2uB,cAAc;IACvC;EAAC;IAAA/jB,GAAA;IAAAW,KAAA,EAED,SAAAhI,WAAWvD,EAAE,EAAE;MACb,IAAIV,IAAI,IAAI,KAAK,EACf,OAAOgD,OAAO,CAACiB,UAAU,CAACvD,EAAE,CAAC;MAC/B,OAAO,+BAA+B,GAAGA,EAAE,GACzC,kEAAkE;IACtE;EAAC;IAAA4K,GAAA;IAAAW,KAAA,EAED,SAAAqjB,eAAe5uB,EAAE,EAAE;MACjB,IAAIV,IAAI,IAAI,KAAK,EACf,OAAOgD,OAAO,CAACssB,cAAc,CAAC5uB,EAAE,CAAC;MACnC,OAAO,+BAA+B,GAAGA,EAAE,GACzC,4BAA4B;IAChC;EAAC;IAAA4K,GAAA;IAAAW,KAAA,EAED,SAAAsd,aAAa7oB,EAAE,EAAEouB,GAAG,EAAEhrB,KAAK,EAAEirB,EAAE,EAAE;MAC/B,IAAI,CAACpkB,WAAW,CAACjK,EAAE,EAAEouB,GAAG,EAAEhrB,KAAK,EAAEirB,EAAE,EAAE,IAAI,CAAC;IAC5C;EAAC;EAAA,OAAA/C,QAAA;AAAA;AAGHttB,MAAM,CAACC,OAAO,GAAGqtB,QAAQ;;;;;;;;;;ACnOzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASuD,UAAUA,CAAC7nB,IAAI,EAAE;EACxB,IAAIjH,KAAK,GAAGiH,IAAI,CAACjH,KAAK;EACtB,IAAIwB,GAAG,GAAG;IACRwG,CAAC,EAAEhI,KAAK,CAACgI,CAAC,GAAG,CAAC;IACdD,CAAC,EAAE/H,KAAK,CAAC+H,CAAC,GAAG,CAAC;IACdzB,KAAK,EAAEtG,KAAK,CAACgI,CAAC,GAAG;EACnB,CAAC;EAEDf,IAAI,CAAC3G,QAAQ,CAAC+Y,OAAO,CAAC,UAAAlW,KAAK,EAAI;IAC7BA,KAAK,CAACnD,KAAK,CAACgI,CAAC,GAAG7E,KAAK,CAACnD,KAAK,CAACsG,KAAK;IACjCnD,KAAK,CAACnD,KAAK,CAAC+H,CAAC,GAAG5E,KAAK,CAACnD,KAAK,CAACwG,MAAM;EACpC,CAAC,CAAC;EAEF,OAAOhF,GAAG;AACZ;;AAEA;AACA;AACA;AACA;AACA,SAASutB,mBAAmBA,CAACC,MAAM,EAAEC,KAAK,EAAE;EAC1C,KAAK,IAAI1uB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyuB,MAAM,CAACxuB,MAAM,EAAED,CAAC,EAAE,EAAE;IACtC,IAAI2uB,SAAS,GAAGF,MAAM,CAACzuB,CAAC,CAAC,CAACP,KAAK;IAE/B,IAAIkvB,SAAS,CAACD,KAAK,CAAC,IAAKC,SAAS,CAACD,KAAK,CAAC,IAAI,cAAe,EAAE;MAC5D,OAAO,IAAI;IACb;EACF;EACA,OAAO,KAAK;AACd;;AAEA;AACA;AACA;AACA,SAASE,cAAcA,CAAC/uB,IAAI,EAAE4uB,MAAM,EAAE;EACpC,IAAI5uB,IAAI,IAAI,cAAc,EAAE;IAC1B,OAAO,KAAK;EACd;EAEA,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyuB,MAAM,CAACxuB,MAAM,EAAED,CAAC,EAAE,EAAE;IACtC,IAAI4C,KAAK,GAAG6rB,MAAM,CAACzuB,CAAC,CAAC,CAACP,KAAK;IAE3B,IAAImD,KAAK,CAAC4gB,MAAM,IAAIjF,UAAU,CAAC3b,KAAK,CAAC4gB,MAAM,CAAC,GAAG,CAAC,EAAE;MAChD,OAAO,IAAI;IACb;EACF;EACA,OAAO,KAAK;AACd;AAEA,SAASqL,qBAAqBA,CAACnoB,IAAI,EAAE;EACnC,IAAIooB,OAAO,GAAGP,UAAU,CAAC7nB,IAAI,CAAC;EAC9B,IAAI3G,QAAQ,GAAG2G,IAAI,CAAC3G,QAAQ;EAE5BA,QAAQ,CAAC+Y,OAAO,CAAC,UAAAiW,MAAM,EAAI;IACzB,IAAInsB,KAAK,GAAG9D,MAAM,CAAC6H,OAAO,CAACooB,MAAM,CAACtvB,KAAK,CAACC,EAAE,CAAC,IAAIqvB,MAAM;IACrD,IAAItvB,KAAK,GAAGmD,KAAK,CAACnD,KAAK;IACvB,IAAIuvB,EAAE,GAAG,CAAC;MAAEC,EAAE,GAAG,CAAC;MAAEC,EAAE,GAAG,CAAC;MAAEC,EAAE,GAAE,CAAC;IACjC,IAAGzoB,IAAI,CAACjH,KAAK,IAAIiH,IAAI,CAACjH,KAAK,CAACkL,cAAc,CAAC,SAAS,CAAC,EAAE;MACrD,IAAI2J,OAAO,GAAG5N,IAAI,CAACjH,KAAK,CAAC6U,OAAO,CAAC1E,KAAK,CAAC,GAAG,CAAC;MAC3Cof,EAAE,GAAG1a,OAAO,CAAC,CAAC,CAAC;MACf4a,EAAE,GAAG5a,OAAO,CAAC,CAAC,CAAC;MACf2a,EAAE,GAAG3a,OAAO,CAAC,CAAC,CAAC;MACf6a,EAAE,GAAG7a,OAAO,CAAC,CAAC,CAAC;IACjB;IACA7U,KAAK,CAACikB,QAAQ,GAAG,IAAI;IACrBjkB,KAAK,CAACkkB,OAAO,GAAGuL,EAAE;IAClBzvB,KAAK,CAACmkB,UAAU,GAAG,MAAM;IACzBnkB,KAAK,CAACokB,QAAQ,GAAGmL,EAAE;IACnBvvB,KAAK,CAACqkB,SAAS,GAAG,MAAM;IAExB,IAAGrkB,KAAK,CAACkL,cAAc,CAAC,iBAAiB,CAAC,IAAIlL,KAAK,CAAC2vB,eAAe,EAAC;MAClE3vB,KAAK,CAACokB,QAAQ,GAAG,CAAC;MAClBpkB,KAAK,CAACqkB,SAAS,GAAG,MAAM;IAC1B;IACA,IAAGrkB,KAAK,CAACkL,cAAc,CAAC,kBAAkB,CAAC,IAAIlL,KAAK,CAAC4vB,gBAAgB,EAAC;MACpE5vB,KAAK,CAACokB,QAAQ,GAAG,MAAM;MACvBpkB,KAAK,CAACqkB,SAAS,GAAGmL,EAAE;IACtB;IAEA,IAAGxvB,KAAK,CAACkL,cAAc,CAAC,mBAAmB,CAAC,IAAIlL,KAAK,CAAC6vB,iBAAiB,EAAC;MACtE7vB,KAAK,CAACkkB,OAAO,GAAG,MAAM;MACtBlkB,KAAK,CAACmkB,UAAU,GAAGuL,EAAE;IACvB;EACF,CAAC,CAAC;AACJ;AAEA,SAASI,mBAAmBA,CAAC7oB,IAAI,EAAE;EACjC,IAAIooB,OAAO,GAAGP,UAAU,CAAC7nB,IAAI,CAAC;EAC9B,IAAIwM,WAAW,GAAGxM,IAAI,CAACjH,KAAK;EAC5B,IAAIM,QAAQ,GAAG2G,IAAI,CAAC3G,QAAQ;EAC5B,IAAIyvB,YAAY,GAAItc,WAAW,CAAC2C,WAAW,KAAK,UAAU,GAAI,KAAK,GAAG,IAAI;EAE1E,IAAI0N,WAAW,GAAIiM,YAAY,GAAI,GAAG,GAAG,GAAG;EAC5C,IAAIC,YAAY,GAAID,YAAY,GAAI,GAAG,GAAG,GAAG;EAE7C,IAAIE,SAAS,GAAGd,cAAc,CAACloB,IAAI,CAAC7G,IAAI,EAAEE,QAAQ,CAAC;EACnD,IAAI4vB,cAAc,GAAGnB,mBAAmB,CAACzuB,QAAQ,EAAEwjB,WAAW,CAAC;EAE/D,IAAImM,SAAS,IAAIC,cAAc,EAAE;IAC/B;IACA;EACF;;EAEA;EACA5vB,QAAQ,CAAC+Y,OAAO,CAAC,UAAAiW,MAAM,EAAI;IACzB,IAAInsB,KAAK,GAAG9D,MAAM,CAAC6H,OAAO,CAACooB,MAAM,CAACtvB,KAAK,CAACC,EAAE,CAAC,IAAIqvB,MAAM;IACrD,IAAItvB,KAAK,GAAGmD,KAAK,CAACnD,KAAK;IAEvB,IAAIA,KAAK,CAACkL,cAAc,CAAC,aAAa,CAAC,EACrC,OAAOlL,KAAK,CAAC,aAAa,CAAC;IAC7B,IAAIA,KAAK,CAACkL,cAAc,CAAC,cAAc,CAAC,EACtC,OAAOlL,KAAK,CAAC,cAAc,CAAC;EAChC,CAAC,CAAC;EACF;;EAEA,IAAGkwB,cAAc,IAAID,SAAS,EAAC;IAC7B,IAAIE,KAAK,GAAG,IAAI;IAChB;IACA7vB,QAAQ,CAAC+Y,OAAO,CAAC,UAAAiW,MAAM,EAAI;MACzB,IAAInsB,KAAK,GAAG9D,MAAM,CAAC6H,OAAO,CAACooB,MAAM,CAACtvB,KAAK,CAACC,EAAE,CAAC,IAAIqvB,MAAM;MACrD,IAAItvB,KAAK,GAAGmD,KAAK,CAACnD,KAAK;MAEvB,IAAGA,KAAK,CAACkL,cAAc,CAAC4Y,WAAW,CAAC,IAAI9jB,KAAK,CAAC8jB,WAAW,CAAC,IAAI,cAAc,EAAC;QAC3E9jB,KAAK,CAAC,aAAa,CAAC,GAAG8jB,WAAW;QAElC,IAAGqM,KAAK,EAAC;UACPnwB,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC;UACzBmwB,KAAK,GAAG,KAAK;QACf,CAAC,MAAI;UACHnwB,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC;QAC3B;MACF,CAAC,MAAI;QACH,IAAGA,KAAK,CAACkL,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC6I,KAAK,CAAC/T,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAC;UAC3D,IAAI+jB,MAAM,GAAGjF,UAAU,CAAC9e,KAAK,CAAC,QAAQ,CAAC,CAAC;UAExC,IAAG+jB,MAAM,GAAG,CAAC,EAAC;YACZ/jB,KAAK,CAAC,aAAa,CAAC,GAAG8jB,WAAW;YAClC9jB,KAAK,CAAC,cAAc,CAAC,GAAG+jB,MAAM;UAChC;QACF;MACF;IACF,CAAC,CAAC;IACF;EACF;AACF,CAAC,CAAC;;AAEF,SAAS7e,kBAAkBA,CAAC+B,IAAI,EAAE;EAChC,IAAIA,IAAI,CAAC7G,IAAI,IAAI,cAAc,EAAE;IAC/B0vB,mBAAmB,CAAC7oB,IAAI,CAAC;EAC3B,CAAC,MAAM,IAAIA,IAAI,CAAC7G,IAAI,IAAI,YAAY,IAAI6G,IAAI,CAAC7G,IAAI,IAAI,UAAU,EAAE;IAC/D6G,IAAI,CAACjH,KAAK,CAACoW,WAAW,GAAG,UAAU;IACnC0Z,mBAAmB,CAAC7oB,IAAI,CAAC;EAC3B,CAAC,MAAM,IAAIA,IAAI,CAAC7G,IAAI,IAAI,sBAAsB,EAAE;IAC9C6G,IAAI,CAACjH,KAAK,CAACoW,WAAW,GAAG,YAAY;IACrC0Z,mBAAmB,CAAC7oB,IAAI,CAAC;EAC3B,CAAC,MAAM,IAAIA,IAAI,CAAC7G,IAAI,IAAI,gBAAgB,EAAE;IACxCgvB,qBAAqB,CAACnoB,IAAI,CAAC;EAC7B,CAAC,MAAM;IACL;EAAA;EAGF,OAAOA,IAAI;AACb;AAEAhJ,MAAM,CAACC,OAAO,GAAG;EACfgH,kBAAkB,EAAlBA;AACF,CAAC;;;;;;;;;;ACpMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASkrB,GAAGA,CAAA,EAAG;EACb,IAAI/wB,KAAqB,EAAE,EAE1B,MAAM,IAAIA,IAAqB,EAAE;IAChC,OAAOjB,mBAAO,CAAC,gCAAO,CAAC;EACzB,CAAC,MAAM,EAEN;AACH;AAEAH,MAAM,CAACC,OAAO,GAAGkyB,GAAG,CAAC,CAAC;;;;;;;;;;ACnCtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIjxB,WAAW,GAAGf,qFAAqC;AAEvD8jB,KAAK,CAAC+K,SAAS,CAACoD,OAAO,GAAG,YAAY;EACpC,OAAO,IAAI,CAACC,MAAM,CAAC,UAAUC,IAAI,EAAEC,GAAG,EAAE;IACtC,IAAIC,IAAI,GAAG,EAAE,CAAC9mB,MAAM,CAAC6mB,GAAG,CAAC,CAACE,IAAI,CAACxO,KAAK,CAACC,OAAO,CAAC;IAC7C,OAAOoO,IAAI,CAAC5mB,MAAM,CAAC8mB,IAAI,GAAGD,GAAG,CAACH,OAAO,CAAC,CAAC,GAAGG,GAAG,CAAC;EAChD,CAAC,EAAE,EAAE,CAAC;AACR,CAAC;AAEDvyB,MAAM,CAACC,OAAO,GAAG,UAAUkC,IAAI,EAAEJ,KAAK,EAAEM,QAAQ,EAAEO,QAAQ,EAAE8vB,KAAK,EAAE;EACjE;EACA;EACA;EACA;EACA;;EAEA,IAAI,CAAC3wB,KAAK,EACRA,KAAK,GAAG,CAAC,CAAC;EAEZ,IAAI,OAAOI,IAAI,KAAK,QAAQ,EAAE;IAC5B;;IAEA,IAAIoB,GAAG,GAAG;MACRxB,KAAK,EAAEA,KAAK;MACZI,IAAI,EAAEA,IAAI;MACVE,QAAQ,EAAEA;IACZ,CAAC;IACD,IAAGO,QAAQ,EAAC;MACVW,GAAG,CAACX,QAAQ,GAAGA,QAAQ;IACzB;IACA,IAAG8vB,KAAK,EAAC;MACPnvB,GAAG,CAACmvB,KAAK,GAAGA,KAAK;IACnB;IAEAtxB,MAAM,CAAC6H,OAAO,CAAClH,KAAK,CAACC,EAAE,CAAC,GAAGuB,GAAG;IAC9BnC,MAAM,CAACuxB,iBAAiB,CAAC5wB,KAAK,CAACC,EAAE,CAAC,GAAG,IAAI;IACzC,OAAOuB,GAAG;EACZ,CAAC,MAAM;IACL,OAAO,IAAIpB,IAAI,CAACJ,KAAK,EAAEM,QAAQ,CAAC;EAClC;AACF,CAAC;;;;;;;;;;ACjED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEArC,MAAM,CAACC,OAAO,GAAG;EACf2yB,MAAM,EAAG,SAAAA,OAACC,EAAE,EAAExsB,QAAQ,EAAK;IACzB,IAAI,CAACwsB,EAAE,EAAE;MACP;IACF;IACA,IAAGA,EAAE,CAACtD,MAAM,EAAE;MACZ,IAAI,OAAOjrB,OAAO,KAAK,WAAW,EAChC,MAAM,IAAIgH,KAAK,CAAC,sBAAsB,CAAC;MAEzC,IAAIlK,IAAwB,EAC1B,OAAOkD,OAAO,CAACsG,MAAM,CAACioB,EAAE,CAACtD,MAAM,EAAE,IAAI,CAAC,CAAC,KACpC,EAMJ;IACH;IAEA,IAAGsD,EAAE,CAACpvB,OAAO,EAAE;MACba,OAAO,CAACb,OAAO,CAACovB,EAAE,CAACpvB,OAAO,EAAE,IAAI,CAAC;IACnC;IACA,IAAGovB,EAAE,CAACntB,eAAe,EAAE;MACrBpB,OAAO,CAACoB,eAAe,CAACmtB,EAAE,CAACntB,eAAe,CAAC8D,QAAQ,EAAEzG,IAAI,CAACC,SAAS,CAAC6vB,EAAE,CAACntB,eAAe,CAAC0qB,GAAG,CAAC,EAAEyC,EAAE,CAACntB,eAAe,CAACN,KAAK,EAAE,IAAI,CAAC;IAC9H;EACF;AACF,CAAC;;;;;;;;;;;ACpDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS0tB,UAAUA,CAAC9pB,IAAI,EAAE;EACxB,IAAIjH,KAAK,GAAGiH,IAAI,CAACjH,KAAK;EACtB,IAAIivB,KAAK,GAAG;IACVjnB,CAAC,EAAEhI,KAAK,CAACgI,CAAC;IACVD,CAAC,EAAE/H,KAAK,CAAC+H,CAAC;IACVT,CAAC,EAAEtH,KAAK,CAACsH,CAAC;IACVuT,CAAC,EAAE7a,KAAK,CAAC6a,CAAC;IACVlF,OAAO,EAAE3V,KAAK,CAAC2V,OAAO;IACtBd,OAAO,EAAE7U,KAAK,CAAC6U,OAAO;IACtBuB,WAAW,EAAEpW,KAAK,CAACoW,WAAW;IAC9BlE,MAAM,EAAElS,KAAK,CAACkS,MAAM,GAAGlS,KAAK,CAACkS,MAAM,CAAC/B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG;EAC1D,CAAC;EACD9Q,MAAM,CAACuxB,iBAAiB,CAAC5wB,KAAK,CAACC,EAAE,CAAC,GAAGgvB,KAAK;AAC5C;AAEA,SAAS+B,UAAUA,CAAC/pB,IAAI,EAAE;EACxB,IAAIjH,KAAK,GAAGiH,IAAI,CAACjH,KAAK;EACtB,IAAIivB,KAAK,GAAG;IACVjnB,CAAC,EAAEhI,KAAK,CAACgI,CAAC;IACVD,CAAC,EAAE/H,KAAK,CAAC+H,CAAC;IACVT,CAAC,EAAEtH,KAAK,CAACsH,CAAC;IACVuT,CAAC,EAAE7a,KAAK,CAAC6a;EACX,CAAC;EACD,IAAIoW,WAAW,GAAG5xB,MAAM,CAACuxB,iBAAiB,CAAC5wB,KAAK,CAACC,EAAE,CAAC;EACpD,IAAIixB,OAAO,GAAG,KAAK;EACnB,IAAI,CAACD,WAAW,EACd,OAAOhC,KAAK;EACd,KAAK,IAAIpkB,GAAG,IAAIokB,KAAK,EAAE;IACrB,IAAIgC,WAAW,CAACpmB,GAAG,CAAC,IAAIokB,KAAK,CAACpkB,GAAG,CAAC,EAAE;MAClCokB,KAAK,CAAChvB,EAAE,GAAGD,KAAK,CAACC,EAAE;MACnBixB,OAAO,GAAG,IAAI;IAChB;EACF;EACA,IAAIA,OAAO,EACT,OAAOjC,KAAK;EACd,OAAO,IAAI;AACb;AAEA,SAAStwB,KAAKA,CAAA,EAAG;EACf,IAAI0c,SAAS,GAAGD,SAAS,CAACC,SAAS;EACnC,IAAI,CAACA,SAAS,EACZ,OAAOzZ,OAAO,CAACC,KAAK,CAAC,IAAI0H,KAAK,CAAC,mBAAmB,CAAC,CAAC;EACtD,IAAI8R,SAAS,CAACzE,QAAQ,CAAC,SAAS,CAAC,IAAIyE,SAAS,CAACzE,QAAQ,CAAC,SAAS,CAAC,EAChE,OAAO,SAAS;EAClB,IAAI,CAACyE,SAAS,CAACzE,QAAQ,CAAC,QAAQ,CAAC,IAAIyE,SAAS,CAACzE,QAAQ,CAAC,MAAM,CAAC,KAAK,CAACyE,SAAS,CAACzE,QAAQ,CAAC,SAAS,CAAC,EAChG,OAAO,KAAK;EACd,OAAO,KAAK;AACd;AAEA,SAASxM,kBAAkBA,CAACnD,IAAI,EAAE;EAChC,IAAI,CAACA,IAAI,EACP;EAEF,OAAO5H,MAAM,CAAC6H,OAAO,CAACD,IAAI,CAACjH,KAAK,CAACC,EAAE,CAAC;EACpC,OAAOZ,MAAM,CAACuxB,iBAAiB,CAAC3pB,IAAI,CAACjH,KAAK,CAACC,EAAE,CAAC;EAE9C,IAAG2lB,WAAW,CAAC3e,IAAI,CAACjH,KAAK,CAACC,EAAE,CAAC,EAC3B,OAAOZ,MAAM,CAACumB,WAAW,CAAC3e,IAAI,CAACjH,KAAK,CAACC,EAAE,CAAC;EAE1CgH,IAAI,CAAC3G,QAAQ,CAAC+Y,OAAO,CAACjP,kBAAkB,CAAC;AAC3C;;AAEA;AACA,SAASrL,KAAKA,CAACoyB,CAAC,EAAE7S,CAAC,EAAC;EAClB;EACA,IAAG,QAAQ,KAAA4K,OAAA,CAAWiI,CAAC,GAAE,OAAOA,CAAC;EACjC;EACA,IAAG,QAAQ,KAAAjI,OAAA,CAAW5K,CAAC,KAAI,IAAI,KAAIA,CAAC,EAAEA,CAAC,GAAE,IAAI8S,OAAO,CAAC,CAAC;EACtD,IAAInkB,CAAC,GAAEqR,CAAC,CAAC+S,GAAG,CAACF,CAAC,CAAC;EACf,IAAG,WAAW,KAAI,OAAOlkB,CAAC,EAAE,OAAOA,CAAC;EACpC;EACA,IAAI2U,CAAC,GAAEhV,MAAM,CAAC0kB,cAAc,CAACH,CAAC,CAAC,CAACI,WAAW;EAC3C;EACA,QAAO3P,CAAC;IACN;IACA,KAAKtO,OAAO;IACZ,KAAK/J,KAAK;IACV,KAAKioB,QAAQ;IACb,KAAKC,MAAM;IACX,KAAKC,OAAO;IACZ,KAAKxe,MAAM;IACX,KAAKye,MAAM;IACX,KAAKP,OAAO;IACZ,KAAKQ,OAAO;MACV3kB,CAAC,GAAEkkB,CAAC;MACJ;IACF;IACA,KAAKjP,KAAK;MACR5D,CAAC,CAAC/c,GAAG,CAAC4vB,CAAC,EAAElkB,CAAC,GAAEkkB,CAAC,CAAC3gB,KAAK,CAAC,CAAC,CAAC,CAAC;MACvB;MACAvD,CAAC,CAACoM,OAAO,CAAC,UAASwY,CAAC,EAACtxB,CAAC,EAAC;QACrB,IAAG,QAAQ,KAAA2oB,OAAA,CAAW2I,CAAC,GAAE5kB,CAAC,CAAC1M,CAAC,CAAC,GAAExB,KAAK,CAAC8yB,CAAC,EAAEvT,CAAC,CAAC;MAC5C,CAAC,CAAC;MACF;IACF,KAAKwT,WAAW;MACdxT,CAAC,CAAC/c,GAAG,CAAC4vB,CAAC,EAAElkB,CAAC,GAAEkkB,CAAC,CAAC3gB,KAAK,CAAC,CAAC,CAAC,CAAC;MACvB;IACF,KAAKuhB,QAAQ;MACXzT,CAAC,CAAC/c,GAAG,CAAC4vB,CAAC,EAAElkB,CAAC,GAAE,IAAK2U,CAAC,CAAE7iB,KAAK,CAACoyB,CAAC,CAACa,MAAM,EAAE1T,CAAC,CAAC,EAAE6S,CAAC,CAACc,UAAU,EAAEd,CAAC,CAACe,UAAU,CAAC,CAAC;MACpE;IACF,KAAKC,GAAG;IACR,KAAKC,GAAG;MACN9T,CAAC,CAAC/c,GAAG,CAAC4vB,CAAC,EAAElkB,CAAC,GAAE,IAAK2U,CAAC,CAAE7iB,KAAK,CAACmjB,KAAK,CAACc,IAAI,CAACmO,CAAC,CAACrO,OAAO,CAAC,CAAC,CAAC,EAAExE,CAAC,CAAC,CAAC,CAAC;MACvD;IACF,KAAK+T,SAAS;IACd,KAAKC,UAAU;IACf,KAAKC,iBAAiB;IACtB,KAAKC,UAAU;IACf,KAAKC,WAAW;IAChB,KAAKC,UAAU;IACf,KAAKC,WAAW;IAChB,KAAKC,YAAY;IACjB,KAAKC,YAAY;MACfvU,CAAC,CAAC/c,GAAG,CAAC4vB,CAAC,EAAElkB,CAAC,GAAE,IAAK2U,CAAC,CAAE7iB,KAAK,CAACoyB,CAAC,CAACa,MAAM,EAAE1T,CAAC,CAAC,EAAE6S,CAAC,CAACc,UAAU,EAAEd,CAAC,CAAC3wB,MAAM,CAAC,CAAC;MAChE;IACF;IACA,KAAKsyB,IAAI;IACT,KAAKpa,MAAM;MACT4F,CAAC,CAAC/c,GAAG,CAAC4vB,CAAC,EAAElkB,CAAC,GAAE,IAAK2U,CAAC,CAAEuP,CAAC,CAAC,CAAC;MACvB;IACF;IACA;MACE7S,CAAC,CAAC/c,GAAG,CAAC4vB,CAAC,EAAElkB,CAAC,GAAEL,MAAM,CAACmmB,MAAM,CAAC,IAAKnR,CAAC,CAAE,CAAC,EAAEuP,CAAC,CAAC,CAAC;MACxC;MACA,KAAIvP,CAAC,IAAI3U,CAAC,EAAE,IAAG,QAAQ,KAAAic,OAAA,CAAWjc,CAAC,CAAC2U,CAAC,CAAC,GAAE3U,CAAC,CAAC2U,CAAC,CAAC,GAAE7iB,KAAK,CAACkO,CAAC,CAAC2U,CAAC,CAAC,EAAEtD,CAAC,CAAC;EAChE;EACA,OAAOrR,CAAC;AACV;AAEA,SAASpO,KAAKA,CAAA,EAAG;EACf,IAAI2C,GAAG,GAAG,CAAC,CAAC;IACRjB,CAAC,GAAG,CAAC;IACLyyB,EAAE,GAAGjqB,SAAS,CAACvI,MAAM;IACrBqK,GAAG;EACP,OAAOtK,CAAC,GAAGyyB,EAAE,EAAEzyB,CAAC,EAAE,EAAE;IAChB,KAAKsK,GAAG,IAAI9B,SAAS,CAACxI,CAAC,CAAC,EAAE;MACtB,IAAIwI,SAAS,CAACxI,CAAC,CAAC,CAAC2K,cAAc,CAACL,GAAG,CAAC,EAAE;QAClCrJ,GAAG,CAACqJ,GAAG,CAAC,GAAG9B,SAAS,CAACxI,CAAC,CAAC,CAACsK,GAAG,CAAC;MAChC;IACJ;EACJ;EACA,OAAOrJ,GAAG;AACZ;AAAC;AAEDvD,MAAM,CAACC,OAAO,GAAG;EACf8yB,UAAU,EAAVA,UAAU;EACVD,UAAU,EAAVA,UAAU;EACVpyB,KAAK,EAALA,KAAK;EACLE,KAAK,EAALA,KAAK;EACLuL,kBAAkB,EAAlBA,kBAAkB;EAClBrL,KAAK,EAALA;AACF,CAAC;;;;;;;;;;ACjLD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,SAASk0B,gBAAgBA,CAAA,EAAI;EACzB,IAAIC,IAAI,GAAInqB,SAAS,CAACvI,MAAM,KAAK,CAAC,GAAG,CAACuI,SAAS,CAAC,CAAC,CAAC,CAAC,GAAGmZ,KAAK,CAACiR,KAAK,CAAC,IAAI,EAClEpqB,SAAS,CAAE;EACf,IAAIqqB,KAAK,GAAGF,IAAI,CAAC,CAAC,CAAC;EACnB,IAAIG,YAAY,GAAGH,IAAI,CAAC1iB,KAAK,CAAC,CAAC,CAAC;EAChC,IAAI8iB,QAAQ;EACZ,IAAIC,QAAQ;EAEZ,IAAIl0B,MAAM,CAACm0B,cAAc,IAAIn0B,MAAM,CAACm0B,cAAc,CAAC3wB,OAAO,CAACuwB,KAAK,CAAC,IAAI,CAAC,CAAC,IAAIF,IAAI,CAAC,CAAC,CAAC,IAAI,UAAU,IAAIvuB,OAAO,IAAIA,OAAO,CAAC8uB,gBAAgB,EAAE;IACrI,OAAO9uB,OAAO,CAAC8uB,gBAAgB,CAACP,IAAI,CAAC,CAAC,CAAC,CAAC;EAC5C;EAEA,IAAI7zB,MAAM,CAACq0B,oBAAoB,IAAIr0B,MAAM,CAACq0B,oBAAoB,CAAC7wB,OAAO,CAACuwB,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE;IACjF,IAAIO,UAAU,GAAGP,KAAK;IACtB,IAAIO,UAAU,CAACC,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAC3BD,UAAU,GAAGP,KAAK,CAACpoB,SAAS,CAAC,CAAC,EAAEooB,KAAK,CAAC5yB,MAAM,GAAG,CAAC,CAAC;IACrDnB,MAAM,CAACovB,UAAU,CAACkF,UAAU,CAAC,CAACR,KAAK,CAAC,IAAI,EAAEE,YAAY,CAAC;EAC3D,CAAC,MAAM,IAAIh0B,MAAM,CAACw0B,gBAAgB,IAAKT,KAAK,IAAI/zB,MAAM,CAACw0B,gBAAgB,CAACT,KAAM,EAAE;IAC5EE,QAAQ,GAAGQ,WAAW,CAAC,CAAC;IACxBP,QAAQ,GAAGD,QAAQ,GAAGj0B,MAAM,CAACw0B,gBAAgB,CAACE,SAAS;IAEvD,IAAIR,QAAQ,IAAI,GAAG,EAAE;MACjBl0B,MAAM,CAACovB,UAAU,CAAC2E,KAAK,CAAC,CAACD,KAAK,CAAC,IAAI,EAAEE,YAAY,CAAC;MAClDh0B,MAAM,CAACw0B,gBAAgB,CAACE,SAAS,GAAGT,QAAQ;IAChD,CAAC,MAAM;MACH1xB,OAAO,CAAC8B,IAAI,CAAC,qBAAqB,EAAE0vB,KAAK,CAAC;MAC1CxxB,OAAO,CAAC8B,IAAI,CAAC,WAAW,EAAE6vB,QAAQ,CAAC;IACvC;EACJ,CAAC,MAAM;IACHl0B,MAAM,CAACovB,UAAU,CAAC2E,KAAK,CAAC,CAACD,KAAK,CAAC,IAAI,EAAEE,YAAY,CAAC;IAClDh0B,MAAM,CAACw0B,gBAAgB,GAAG;MACtBE,SAAS,EAAG,IAAIjB,IAAI,CAAC,CAAC,CAAEkB,OAAO,CAAC,CAAC;MACjCZ,KAAK,EAAEA;IACX,CAAC;EACL;AACJ;AAAC;AAEDn1B,MAAM,CAACC,OAAO,GAAG;EACbgL,MAAM,EAAG+pB;AACb,CAAC;;;;;;;;;;ACpDD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEC;AACD;AACA;AACA;AACA;AACA;AACAh1B,kBAAkB,GAAG,UAACqwB,EAAE,EAAK;EAC5B;EACA,IAAG,OAAOjvB,MAAM,CAACmvB,UAAU,KAAK,WAAW,IAAInvB,MAAM,CAACmvB,UAAU,KAAK,IAAI,EAAE;IAC1E,IAAID,WAAW,GAAG,GAAG,GAAGlvB,MAAM,CAACmvB,UAAU;IACzC,IAAIyF,GAAG,CAACxU,IAAI,EAAC;MACZ8O,WAAW,GAAG0F,GAAG,CAACxU,IAAI,GAAG,GAAG,GAAG8O,WAAW;IAC3C,CAAC,MAAM,IAAIlvB,MAAM,CAAC60B,SAAS,IAAI70B,MAAM,CAAC60B,SAAS,CAACC,OAAO,EAAC;MACvD5F,WAAW,GAAGlvB,MAAM,CAAC60B,SAAS,CAACC,OAAO,GAAG,GAAG,GAAG5F,WAAW;IAC3D;IACAlvB,MAAM,CAACovB,UAAU,CAACF,WAAW,CAAC,GAAGD,EAAE;IACnCjvB,MAAM,CAACmvB,UAAU,EAAE;IACnB;IACA,OAAOD,WAAW;EACnB,CAAC,MAAM;IACN,MAAM,IAAIhlB,KAAK,CAAC,sEAAsE,CAAC;EACxF;AACD,CAAC;;;;;;;;;;AC/CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAtL,MAAM,CAACC,OAAO,GAAG;EAChBQ,cAAc,EAAGN,mBAAO,CAAC,gEAAkB;AAC5C,CAAC;;;;;;;;;;AC3BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMG,OAAO,GAAG;EACf61B,MAAM,EAAGh2B,mBAAO,CAAC,+CAAU;AAC5B,CAAC;AAGD,IAAIiB,KAAwB,EAAE,EAE7B,MACI,IAAIA,IAAoB,EAAE;EAC9Bd,OAAO,CAACiB,GAAG,GAAGpB,mBAAO,CAAC,yCAAO,CAAC;AAC/B,CAAC,MACI,EAEJ;AAGDH,MAAM,CAACC,OAAO,GAAGK,OAAO;;;;;;;;;;ACzCxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAN,MAAM,CAACC,OAAO,GAAG;EAChBiB,WAAW,EAAGf,mBAAO,CAAC,uDAAe;AACtC,CAAC;;;;;;;;;;;;;;;;;;AC3BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA8jB,KAAK,CAAC+K,SAAS,CAACoH,MAAM,GAAI,YAAY;EACpC;EACA,IAAI5zB,IAAI,GAAGyhB,KAAK,CAAC+K,SAAS,CAACxsB,IAAI;IAC7B6I,MAAM,GAAG4Y,KAAK,CAAC+K,SAAS,CAAC3jB,MAAM;EAEjC,OAAO,UAAUgrB,KAAK,EAAE;IACtB,IAAIC,GAAG,GAAG,IAAI,CAAC/zB,MAAM,KAAK,CAAC;MAAE;MAC3B8zB,KAAK,GAAGA,KAAK,IAAI,CAAC,CAAC,CAAC;;IAEtB;IACAA,KAAK,GAAG,CAAEA,KAAK,GAAGC,GAAG,GAAIA,GAAG,IAAIA,GAAG;;IAEnC;IACA9zB,IAAI,CAAC0yB,KAAK,CAAC,IAAI,EAAE7pB,MAAM,CAACkrB,IAAI,CAAC,IAAI,EAAE,CAAC,EAAEF,KAAK,CAAC,CAAC;IAC7C,OAAO,IAAI;EACb,CAAC;AACH,CAAC,CAAE,CAAC;AAEJ,SAASG,aAAaA,CAACC,EAAE,EAAE;EACzB,IAAIC,QAAQ,GAAG,CAAC,CAAC;EACjB,KAAK,IAAIp0B,CAAC,IAAIm0B,EAAE,EAAE;IAChB,IAAI,CAACA,EAAE,CAACxpB,cAAc,CAAC3K,CAAC,CAAC,EAAE;IAC3B,IAAI2oB,OAAA,CAAQwL,EAAE,CAACn0B,CAAC,CAAC,KAAK,QAAQ,EAAE;MAC9B,IAAIq0B,UAAU,GAAGH,aAAa,CAACC,EAAE,CAACn0B,CAAC,CAAC,CAAC;MACrC,KAAK,IAAI+G,CAAC,IAAIstB,UAAU,EAAE;QACxB,IAAI,CAACA,UAAU,CAAC1pB,cAAc,CAAC5D,CAAC,CAAC,EAAE;QACnC,IAAI,OAAOstB,UAAU,CAACttB,CAAC,CAAC,KAAK,WAAW,EACtCqtB,QAAQ,CAACrtB,CAAC,CAAC,GAAGstB,UAAU,CAACttB,CAAC,CAAC;MAC/B;IACF,CAAC,MAAM;MACLqtB,QAAQ,CAACp0B,CAAC,CAAC,GAAGm0B,EAAE,CAACn0B,CAAC,CAAC;IACrB;EACF;EAEA,OAAOo0B,QAAQ;AACjB;AAEA,SAASxlB,WAAWA,CAACM,KAAK,EAAE;EAC1B,IAAIA,KAAK,CAACjP,MAAM,GAAG,CAAC,EAClB,OAAOiP,KAAK;EAEd,IAAIA,KAAK,CAAC5M,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI4M,KAAK,CAAC5M,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAC7D,OAAO4M,KAAK;EAEd,IAAImB,KAAK,GAAGzQ,QAAQ,CAACsP,KAAK,CAACzE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;EAC/C4F,KAAK,GAAG,CAACA,KAAK,GAAG,GAAG,EAAEgQ,OAAO,CAAC,CAAC,CAAC;EAEhC,IAAI4J,QAAQ,GAAG/a,KAAK,CAACzE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;EACpC,IAAIyf,SAAS,GAAG,OAAO,GAAGC,eAAe,CAACF,QAAQ,CAAC,GAAG,GAAG,GAAG5Z,KAAK,GAAG,GAAG;EAEvE,OAAO6Z,SAAS;AAClB;AAEA,SAASoK,kBAAkBA,CAACC,GAAG,EAACxjB,KAAK,EAAEgL,GAAG,EAAC;EACzC,IAAIyY,MAAM,GAAGzjB,KAAK,GAAG,GAAG,GAAGgL,GAAG,GAAG,KAAK;EACtC,IAAI,CAACwY,GAAG,EAAE,OAAOC,MAAM;EACvB,IAAIC,KAAK,GAAGF,GAAG,CAACjyB,OAAO,CAACyO,KAAK,CAAC;EAC9B,IAAI0jB,KAAK,IAAI,CAAC,EAAC;IACb,IAAIC,GAAG,GAAGH,GAAG,CAACzd,MAAM,CAAC2d,KAAK,CAAC,CAACnyB,OAAO,CAAC,GAAG,CAAC;IACxC,IAAIoyB,GAAG,IAAI,CAAC,EAAE;MACZ,IAAIC,KAAK,GAAGJ,GAAG,CAACzd,MAAM,CAAC2d,KAAK,EAACC,GAAG,GAAC,CAAC,CAAC;MACnC,OAAOH,GAAG,CAACnzB,OAAO,CAACuzB,KAAK,EAACH,MAAM,CAAC;IAClC,CAAC,MACI;MACH,OAAOD,GAAG,GAACC,MAAM;IACnB;EACF,CAAC,MACI,OAAOD,GAAG,GAACC,MAAM;AACxB;AAGA,SAASI,gBAAgBA,CAAC/0B,IAAI,EAAEkB,MAAM,EAAEuJ,GAAG,EAAE;EAC3C,IAAI,OAAOvJ,MAAM,CAACuJ,GAAG,CAAC,IAAI,WAAW,IAAIvJ,MAAM,CAACuJ,GAAG,CAAC,IAAI,IAAI,EAAE;IAC5D,OAAOvJ,MAAM,CAACuJ,GAAG,CAAC;IAClB;EACF;EAEA,IAAI,CAACvJ,MAAM,CAACwN,KAAK,EAAE;IACjB,IAAIuD,CAAC,GAAG,EAAE;IACV,IAAI+iB,MAAM,GAAGxuB,QAAQ,CAACC,cAAc,CAACvF,MAAM,CAACrB,EAAE,CAAC;IAC/C,IAAIm1B,MAAM,EAAE;MACV,IAAIA,MAAM,CAACtmB,KAAK,EACduD,CAAC,GAAI+iB,MAAM,CAACtmB,KAAK,CAAC2C,SAAS,GAAI2jB,MAAM,CAACtmB,KAAK,CAAC2C,SAAS,GAAI,EAAE;IAC/D;IACAnQ,MAAM,CAACwN,KAAK,GAAG,CAAC,CAAC;IACjBxN,MAAM,CAACwN,KAAK,CAAC2C,SAAS,GAAGY,CAAC;IAC1B/Q,MAAM,CAACgc,SAAS,GAAG,CAAC,CAAC;IACrBhc,MAAM,CAACgc,SAAS,CAAC7L,SAAS,GAAG,EAAE;EACjC;EAEA,IAAI,CAACnQ,MAAM,CAAC2kB,UAAU,EACpB3kB,MAAM,CAAC2kB,UAAU,GAAG,CAAC,CAAC;EAExB,IAAI,CAAC3kB,MAAM,CAACwN,KAAK,CAACmK,SAAS,EACzB3X,MAAM,CAACwN,KAAK,CAACmK,SAAS,GAAG,EAAE;EAE7B,IAAKpO,GAAG,IAAI,SAAS,IAAIA,GAAG,IAAI,cAAc,EAAG;IAC/C,IAAG,CAACwqB,QAAQ,IAAI,CAAC/zB,MAAM,CAAC0N,UAAU,EAAC;MACjC1N,MAAM,CAACwN,KAAK,CAACwmB,MAAM,GAAG,SAAS;IACjC;EACF;EACA,IAAGzqB,GAAG,IAAI,YAAY,EAAE;IACtBvJ,MAAM,CAACwN,KAAK,CAACwmB,MAAM,GAAGh0B,MAAM,CAAC0N,UAAU;EACzC;EACA,IAAInE,GAAG,IAAI,UAAU,EACnBvJ,MAAM,CAACwN,KAAK,CAACI,QAAQ,GAAG5N,MAAM,CAAC2N,QAAQ,GAAG,IAAI;EAChD,IAAIpE,GAAG,IAAI,UAAU,EACnBvJ,MAAM,CAACwN,KAAK,CAACI,QAAQ,GAAG5N,MAAM,CAAC4N,QAAQ,GAAG,IAAI;EAEhD,IAAIrE,GAAG,IAAI,KAAK,EACdvJ,MAAM,CAAC2kB,UAAU,CAACsP,GAAG,GAAGj0B,MAAM,CAACoa,GAAG;;EAEpC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAIE,IAAI7Q,GAAG,IAAI,iBAAiB,EAAE;IAC5BvJ,MAAM,CAACwN,KAAK,CAACM,eAAe,GAAGD,WAAW,CAAC7N,MAAM,CAAC8N,eAAe,CAAC;EACpE;EAEA,IAAIvE,GAAG,IAAI,YAAY,EAAE;IACvBvJ,MAAM,CAACwN,KAAK,CAACO,UAAU,GAAG/N,MAAM,CAAC+N,UAAU;EAC7C;EACA,IAAIxE,GAAG,IAAI,oBAAoB,EAAE;IAC/BvJ,MAAM,CAACwN,KAAK,CAAC,kBAAkB,CAAC,GAAG,OAAO,GAACxN,MAAM,CAACkO,kBAAkB,GAAC,IAAI;EAC3E;EAEA,IAAI3E,GAAG,IAAI,OAAO,EAAE;IAClBvJ,MAAM,CAACwN,KAAK,CAACW,KAAK,GAAGN,WAAW,CAAC7N,MAAM,CAACmO,KAAK,CAAC;EAChD;EAEA,IAAG5E,GAAG,IAAI,UAAU,EAAE;IACpBvJ,MAAM,CAACwN,KAAK,CAACY,QAAQ,GAAGpO,MAAM,CAACoO,QAAQ;EACzC;EAEA,IAAG7E,GAAG,IAAI,aAAa,EAAE;IACvBvJ,MAAM,CAACwN,KAAK,CAAC0mB,MAAM,GAAGl0B,MAAM,CAACqO,WAAW;EAC1C;EACA,IAAG9E,GAAG,IAAI,UAAU,EAAE;IACpBvJ,MAAM,CAACwN,KAAK,CAAC2mB,GAAG,GAAGn0B,MAAM,CAACsO,QAAQ;EACpC;EACA,IAAG/E,GAAG,IAAI,WAAW,EAAE;IACrBvJ,MAAM,CAACwN,KAAK,CAAC4mB,IAAI,GAAGp0B,MAAM,CAACuO,SAAS;EACtC;EACA,IAAGhF,GAAG,IAAI,YAAY,EAAE;IACtBvJ,MAAM,CAACwN,KAAK,CAAC6mB,KAAK,GAAGr0B,MAAM,CAACwO,UAAU;EACxC;EAEA,IAAGjF,GAAG,IAAI,QAAQ,EAAE;IAClBvJ,MAAM,CAACwN,KAAK,CAAC,SAAS,CAAC,GAAGxN,MAAM,CAACyO,MAAM;EACzC;EAEA,IAAGlF,GAAG,IAAI,WAAW,EAAC;IACpB,IAAIkS,QAAQ,GAAI3B,SAAS,CAACC,SAAS,CAACxY,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAE;IAC7D,IAAGvB,MAAM,CAAC0b,SAAS,IAAI,CAACD,QAAQ,EAAC;MAC/Bzb,MAAM,CAAC2kB,UAAU,CAAC,WAAW,CAAC,GAAG,WAAW;IAC9C;EACF;EACA,IAAGpb,GAAG,IAAE,OAAO,EAAE;IACf,IAAIvJ,MAAM,CAACjB,KAAK,IAAIiB,MAAM,CAACrB,EAAE,EAAC;MAC5B,IAAI21B,GAAG,GAAGhvB,QAAQ,CAACC,cAAc,CAACvF,MAAM,CAACrB,EAAE,CAAC;MAC5C,IAAI21B,GAAG,EAAC;QACNA,GAAG,CAACv1B,KAAK,CAAC,CAAC;MACb;IAEF;EACF;EAEA,IAAIwK,GAAG,IAAI,cAAc,EAAE;IACzBvJ,MAAM,CAACwN,KAAK,CAAC+mB,YAAY,GAAGv0B,MAAM,CAAC0O,YAAY,GAAG,IAAI;EACxD;EAEA,IAAInF,GAAG,IAAI,aAAa,EAAE;IACxB,IAAAirB,qBAAA,GAA6Bx0B,MAAM,CAAC4O,WAAW,CAACC,KAAK,CAAC,GAAG,CAAC;MAAA4lB,sBAAA,GAAA1lB,QAAA,CAAAylB,qBAAA;MAAnDxlB,MAAM,GAAAylB,sBAAA;MAAKxlB,OAAO,GAAAwlB,sBAAA,CAAAvlB,KAAA;IACzBlP,MAAM,CAACwN,KAAK,CAAC+mB,YAAY,GAAGtlB,OAAO,CAACE,GAAG,CAAC,UAAAC,IAAI;MAAA,UAAA/G,MAAA,CAAO+G,IAAI,GAAGJ,MAAM;IAAA,CAAI,CAAC,CAACK,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG;EACvF;EAEA,IAAI9F,GAAG,IAAI,OAAO,EAAE;IAClBvJ,MAAM,CAACwN,KAAK,CAACoL,OAAO,GAAG5Y,MAAM,CAACuJ,GAAG,CAAC;EACpC;EAEA,IAAIA,GAAG,IAAI,SAAS,EAAE;IACpBvJ,MAAM,CAACgc,SAAS,CAACpD,OAAO,GAAG5Y,MAAM,CAACuJ,GAAG,CAAC;EACxC;EAEA,IAAIA,GAAG,IAAI,YAAY,EAAE;IACvBvJ,MAAM,CAACwN,KAAK,CAAC+B,UAAU,GAAGvP,MAAM,CAACuP,UAAU;EAC7C;EAEA,IAAIhG,GAAG,IAAI,UAAU,EAAE;IACrB,QAAOvJ,MAAM,CAAC8P,QAAQ;MACpB,KAAK,QAAQ;QACX9P,MAAM,CAACwN,KAAK,CAAC0C,UAAU,GAAG,GAAG;QAC/B;MACA,KAAK,MAAM;QACTlQ,MAAM,CAACwN,KAAK,CAAC0C,UAAU,GAAG,GAAG;QAC/B;MACA,KAAK,QAAQ;QACXlQ,MAAM,CAACwN,KAAK,CAACuC,SAAS,GAAG,QAAQ;QACnC;MACA,KAAK,aAAa;QAChB/P,MAAM,CAACwN,KAAK,CAAC0C,UAAU,GAAG,GAAG;QAC7BlQ,MAAM,CAACwN,KAAK,CAACuC,SAAS,GAAG,QAAQ;QACnC;MACA,KAAK,WAAW;QACd/P,MAAM,CAACwN,KAAK,CAACknB,cAAc,GAAG,WAAW;QAC3C;IACF;EACF;EAEA,IAAInrB,GAAG,IAAI,WAAW,EAAE;IACtB,IAAIyG,KAAK,GAAGhQ,MAAM,CAAC+P,SAAS,CAACC,KAAK,CAAC,MAAM,CAAC;IAC1C,IAAIC,QAAQ,GAAGD,KAAK,GAAGhQ,MAAM,CAAC+P,SAAS,CAACb,KAAK,CAAC,CAAC,EAAEc,KAAK,CAACjO,KAAK,CAAC,GAAG/B,MAAM,CAAC+P,SAAS;IAChF/P,MAAM,CAACwN,KAAK,CAAC+B,UAAU,GAAGU,QAAQ;IAElC,IAAI,CAACD,KAAK,EACR;IAEF,IAAIlR,KAAI,GAAGkB,MAAM,CAAC+P,SAAS,CAACb,KAAK,CAACc,KAAK,CAACjO,KAAK,GAAG,CAAC,CAAC;IAClDjD,KAAI,GAAGA,KAAI,CAACuB,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;IAChCvB,KAAI,GAAIA,KAAI,CAAC6K,WAAW,CAAC,CAAC;IAE1B,IAAI7K,KAAI,CAACyC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAC9BvB,MAAM,CAACwN,KAAK,CAACuC,SAAS,GAAG,QAAQ;IAEnC,IAAIG,UAAU,GAAG,CAAC;IAElB,IAAIpR,KAAI,CAACyC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,EAClC2O,UAAU,GAAG,GAAG,CAAC,KACd,IAAIpR,KAAI,CAACyC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAClC2O,UAAU,GAAG,GAAG,CAAC,KACd,IAAIpR,KAAI,CAACyC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAIzC,KAAI,CAACyC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,EAClE2O,UAAU,GAAG,GAAG,CAAC,KACd,IAAIpR,KAAI,CAACyC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAIzC,KAAI,CAACyC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EACrE2O,UAAU,GAAG,GAAG,CAAC,KACd,IAAIpR,KAAI,CAACyC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAIzC,KAAI,CAACyC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAChE2O,UAAU,GAAG,GAAG,CAAC,KACd,IAAIpR,KAAI,CAACyC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAClC2O,UAAU,GAAG,GAAG;IAElB,IAAGA,UAAU,GAAG,CAAC,EACflQ,MAAM,CAACwN,KAAK,CAAC0C,UAAU,GAAGA,UAAU;EACxC;EAEA,IAAI3G,GAAG,IAAI,YAAY,EAAE;IACvB,IAAImK,UAAU,GAAG1T,MAAM,CAAC0T,UAAU;IAClC,IAAIA,UAAU,IAAI,WAAW,EAC3B1T,MAAM,CAACwN,KAAK,CAACkG,UAAU,GAAG,QAAQ,CAAC,KAChC,IAAIA,UAAU,IAAI,MAAM,EAC3B1T,MAAM,CAACwN,KAAK,CAACoC,OAAO,GAAG,MAAM,CAAC,KAC3B;MACH5P,MAAM,CAACwN,KAAK,CAACkG,UAAU,GAAG,EAAE;IAC9B;EACF;EAEA,IAAInK,GAAG,IAAI,QAAQ,EAAE;IACnB,IAAImK,WAAU,GAAG1T,MAAM,CAACgU,MAAM,GAAG,EAAE;IACnC,IAAIN,WAAU,IAAI,MAAM,EAAC;MACvB1T,MAAM,CAACwN,KAAK,CAACkG,UAAU,GAAG,EAAE;IAC9B,CAAC,MAEC1T,MAAM,CAACwN,KAAK,CAACoC,OAAO,GAAG,MAAM;EACjC;EAEA,IAAIrG,GAAG,IAAI,QAAQ,EAAE;IACnB,IAAIoH,OAAM,GAAG3Q,MAAM,CAAC4Q,MAAM,CAAC/B,KAAK,CAAC,GAAG,CAAC;IAErC,IAAG8B,OAAM,CAACzR,MAAM,IAAI,CAAC,EACnBc,MAAM,CAACwN,KAAK,CAACsY,MAAM,GAAGnV,OAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,OAAM,CAAC,CAAC,CAAC,CAAC,KACvD,IAAGA,OAAM,CAACzR,MAAM,IAAI,CAAC,EAAC;MAEzB2R,SAAS,GAAG;QAAC,GAAG,EAAE,cAAc;QAAE,GAAG,EAAG,WAAW;QAAE,GAAG,EAAG,aAAa;QAAE,GAAG,EAAG;MAAY,CAAC;MAAC,IAAAtF,SAAA,GAAAC,0BAAA,CAEhFmF,OAAM,CAAC,CAAC,CAAC;QAAAlF,KAAA;MAAA;QAAvB,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAAwB;UAAA,IAAf3M,CAAC,GAAAwM,KAAA,CAAAvB,KAAA;UACN,IAAI2G,SAAS,CAAC5R,CAAC,CAAC,KAAK+H,SAAS,EAC5BhH,MAAM,CAACwN,KAAK,CAACqD,SAAS,CAAC5R,CAAC,CAAC,CAAC,GAAG0R,OAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,OAAM,CAAC,CAAC,CAAC;QACtE;MAAC,SAAAvN,GAAA;QAAAmI,SAAA,CAAAzB,CAAA,CAAA1G,GAAA;MAAA;QAAAmI,SAAA,CAAAM,CAAA;MAAA;IAEH;EAEF;EAEA,IAAItC,GAAG,IAAI,WAAW,EAAE;IACtB,IAAIoH,QAAM,GAAG3Q,MAAM,CAACkR,SAAS,CAACrC,KAAK,CAAC,GAAG,CAAC;IAExC,IAAG8B,QAAM,CAACzR,MAAM,IAAI,CAAC,EACnBc,MAAM,CAACwN,KAAK,CAACmnB,SAAS,GAAGhkB,QAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,QAAM,CAAC,CAAC,CAAC,CAAC,KAC1D,IAAGA,QAAM,CAACzR,MAAM,IAAI,CAAC,EACxBc,MAAM,CAACwN,KAAK,CAACmnB,SAAS,GAAGhkB,QAAM,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,QAAM,CAAC,CAAC,CAAC;EAC5E;EAEA,IAAIpH,GAAG,IAAI,aAAa,EAAE;IACxB,IAAIoH,QAAM,GAAG3Q,MAAM,CAACmR,WAAW,CAACtC,KAAK,CAAC,GAAG,CAAC;IAE1C,IAAG8B,QAAM,CAACzR,MAAM,IAAI,CAAC,EACnBc,MAAM,CAACwN,KAAK,CAAConB,WAAW,GAAGjkB,QAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,QAAM,CAAC,CAAC,CAAC,CAAC,KAC5D,IAAGA,QAAM,CAACzR,MAAM,IAAI,CAAC,EACxBc,MAAM,CAACwN,KAAK,CAAConB,WAAW,GAAGjkB,QAAM,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,QAAM,CAAC,CAAC,CAAC;EAC9E;EAEA,IAAIpH,GAAG,IAAI,cAAc,EAAE;IACzB,IAAIoH,QAAM,GAAG3Q,MAAM,CAACoR,YAAY,CAACvC,KAAK,CAAC,GAAG,CAAC;IAE3C,IAAG8B,QAAM,CAACzR,MAAM,IAAI,CAAC,EACnBc,MAAM,CAACwN,KAAK,CAACqnB,YAAY,GAAGlkB,QAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,QAAM,CAAC,CAAC,CAAC,CAAC,KAC7D,IAAGA,QAAM,CAACzR,MAAM,IAAI,CAAC,EACxBc,MAAM,CAACwN,KAAK,CAACqnB,YAAY,GAAGlkB,QAAM,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,QAAM,CAAC,CAAC,CAAC;EAC/E;EAEA,IAAIpH,GAAG,IAAI,YAAY,EAAE;IACvB,IAAIoH,QAAM,GAAG3Q,MAAM,CAACqR,UAAU,CAACxC,KAAK,CAAC,GAAG,CAAC;IAEzC,IAAG8B,QAAM,CAACzR,MAAM,IAAI,CAAC,EACnBc,MAAM,CAACwN,KAAK,CAACsnB,UAAU,GAAGnkB,QAAM,CAAC,CAAC,CAAC,GAAG,WAAW,GAAGA,QAAM,CAAC,CAAC,CAAC,CAAC,KAC3D,IAAGA,QAAM,CAACzR,MAAM,IAAI,CAAC,EACxBc,MAAM,CAACwN,KAAK,CAACsnB,UAAU,GAAGnkB,QAAM,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGA,QAAM,CAAC,CAAC,CAAC,GAAG,GAAG,GAAGA,QAAM,CAAC,CAAC,CAAC;EAC7E;EAEA,IAAIpH,GAAG,IAAI,cAAc,EAAE;IACzBvJ,MAAM,CAACwN,KAAK,CAAC2C,SAAS,GAAGojB,kBAAkB,CAACvzB,MAAM,CAACwN,KAAK,CAAC2C,SAAS,EAAC,YAAY,EAACnQ,MAAM,CAACuJ,GAAG,CAAC,CAAC;EAC9F;EAEA,IAAIA,GAAG,IAAI,gBAAgB,EAAE;IAC3BvJ,MAAM,CAACgc,SAAS,CAAC7L,SAAS,IAAI,aAAa,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,MAAM;EACpE;EAEA,IAAIA,GAAG,IAAI,cAAc,EAAE;IACzBvJ,MAAM,CAACwN,KAAK,CAAC2C,SAAS,GAAGojB,kBAAkB,CAACvzB,MAAM,CAACwN,KAAK,CAAC2C,SAAS,EAAC,YAAY,EAACnQ,MAAM,CAACuJ,GAAG,CAAC,CAAC;EAC9F;EAEA,IAAIA,GAAG,IAAI,gBAAgB,EAAE;IAC3BvJ,MAAM,CAACgc,SAAS,CAAC7L,SAAS,IAAI,aAAa,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,MAAM;EACpE;EAEA,IAAIA,GAAG,IAAI,QAAQ,EAAE;IACnBvJ,MAAM,CAACwN,KAAK,CAAC2C,SAAS,IAAI,SAAS,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,IAAI;EAC1D;EAEA,IAAIA,GAAG,IAAI,UAAU,EAAE;IACrBvJ,MAAM,CAACgc,SAAS,CAAC7L,SAAS,IAAI,SAAS,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,IAAI;EAC9D;EAEA,IAAIA,GAAG,IAAI,QAAQ,EAAE;IACnBvJ,MAAM,CAACwN,KAAK,CAAC2C,SAAS,IAAI,SAAS,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,IAAI;EAC1D;EAEA,IAAIA,GAAG,IAAI,UAAU,EAAE;IACrBvJ,MAAM,CAACgc,SAAS,CAAC7L,SAAS,IAAI,SAAS,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,IAAI;EAC9D;EAEA,IAAIA,GAAG,IAAI,UAAU,EAAE;IACrBvJ,MAAM,CAACwN,KAAK,CAAC2C,SAAS,IAAI,SAAS,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,OAAO;EAC7D;EAEA,IAAIA,GAAG,IAAI,YAAY,EAAE;IACvBvJ,MAAM,CAACgc,SAAS,CAAC7L,SAAS,IAAI,SAAS,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,OAAO;EACjE;EAEA,IAAIA,GAAG,IAAI,WAAW,EAAE;IACtBvJ,MAAM,CAACwN,KAAK,CAAC2C,SAAS,IAAI,UAAU,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,OAAO;EAC9D;EAEA,IAAIA,GAAG,IAAI,aAAa,EAAE;IACxBvJ,MAAM,CAACgc,SAAS,CAAC7L,SAAS,IAAI,UAAU,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,OAAO;EAClE;EAEA,IAAIA,GAAG,IAAI,WAAW,EAAE;IACtBvJ,MAAM,CAACwN,KAAK,CAAC2C,SAAS,IAAI,UAAU,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,OAAO;EAC9D;EAEA,IAAIA,GAAG,IAAI,aAAa,EAAE;IACxBvJ,MAAM,CAACgc,SAAS,CAAC7L,SAAS,IAAI,UAAU,GAAGnQ,MAAM,CAACuJ,GAAG,CAAC,GAAG,OAAO;EAClE;EAEA,IAAIA,GAAG,IAAI,cAAc,EAAE;IACzB,IAAIgnB,CAAC,GAAGvwB,MAAM,CAACuJ,GAAG,CAAC;IACnBvJ,MAAM,CAACwN,KAAK,CAAC,oBAAoB,CAAC,GAAG,MAAM,GAAC+iB,CAAC,CAAChe,QAAQ,CAAC,CAAC,GAAC,oBAAoB;IAC7EvS,MAAM,CAACwN,KAAK,CAAC,iBAAiB,CAAC,GAAE,MAAM,GAAC+iB,CAAC,CAAChe,QAAQ,CAAC,CAAC,GAAC,oBAAoB;IACzEvS,MAAM,CAACwN,KAAK,CAAC,YAAY,CAAC,GAAG,MAAM,GAAC+iB,CAAC,CAAChe,QAAQ,CAAC,CAAC,GAAC,oBAAoB;EAEvE;EAEA,IAAIhJ,GAAG,IAAI,YAAY,IAAI,CAACkJ,KAAK,CAACzS,MAAM,CAACuJ,GAAG,CAAC,CAAC,EAAE;IAC9C,IAAM2Q,MAAM,GAAGla,MAAM,CAAC8R,wBAAwB,GAAI,GAAG,GAAG9R,MAAM,CAAC8R,wBAAwB,GAAI,EAAE;IAC7F9R,MAAM,CAACgc,SAAS,CAAC+Y,UAAU,GAAG/0B,MAAM,CAACuJ,GAAG,CAAC,GAAG,QAAQ,GAAG2Q,MAAM;EAC/D;EAEA,IAAIpb,IAAI,IAAI,UAAU,IAAIyK,GAAG,IAAI,SAAS,IAAIvJ,MAAM,CAACqU,OAAO,EAAE;IAC5DrU,MAAM,CAACwN,KAAK,CAACwnB,SAAS,GAAGh1B,MAAM,CAACqU,OAAO;IACvC,IAAIrU,MAAM,CAACqU,OAAO,IAAI,iBAAiB,EAAE;MACvCrU,MAAM,CAACwN,KAAK,CAAC,aAAa,CAAC,GAAG,QAAQ;MACtCxN,MAAM,CAACwN,KAAK,CAACoC,OAAO,GAAG,MAAM;IAC/B,CAAC,MAAM,IAAI5P,MAAM,CAACqU,OAAO,IAAI,mBAAmB,EAAE;MAChDrU,MAAM,CAACwN,KAAK,CAACoC,OAAO,GAAG,MAAM;MAC7B5P,MAAM,CAACwN,KAAK,CAAC,iBAAiB,CAAC,GAAG,QAAQ;IAC5C,CAAC,MAAM,IAAIxN,MAAM,CAACqU,OAAO,IAAI,QAAQ,EAAE;MACrCrU,MAAM,CAACwN,KAAK,CAACoC,OAAO,GAAG,MAAM;MAC7B5P,MAAM,CAACwN,KAAK,CAAC,aAAa,CAAC,GAAG,QAAQ;MACtCxN,MAAM,CAACwN,KAAK,CAAC,iBAAiB,CAAC,GAAG,QAAQ;IAC5C,CAAC,MACI,IAAIxN,MAAM,CAACqU,OAAO,IAAI,QAAQ,EAAC;MAClCrU,MAAM,CAACwN,KAAK,CAACoC,OAAO,GAAG,MAAM;MAC7B5P,MAAM,CAACwN,KAAK,CAAC,aAAa,CAAC,GAAG,QAAQ;MACtCxN,MAAM,CAACwN,KAAK,CAAC,iBAAiB,CAAC,GAAG,QAAQ;IAC5C;EACF;EACA,IAAI1O,IAAI,IAAI,cAAc,IAAIyK,GAAG,IAAI,SAAS,IAAIvJ,MAAM,CAACqU,OAAO,EAAC;IAC/D,IAAIrU,MAAM,CAACsS,MAAM,IAAItS,MAAM,CAACqU,OAAO,IAAE,iBAAiB,EAAC;MACrD,IAAI/B,MAAM,GAACtS,MAAM,CAACsS,MAAM,CAACzD,KAAK,CAAC,GAAG,CAAC;MACnC,IAAI7O,MAAM,CAACgF,KAAK,IAAI,cAAc,EAAC;QAChChF,MAAM,CAACwN,KAAK,CAACxI,KAAK,GAAC,cAAc,GAAC,CAACnG,QAAQ,CAACyT,MAAM,CAAC,CAAC,CAAC,CAAC,GAACzT,QAAQ,CAACyT,MAAM,CAAC,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAAC,CAAC,GAAC,MAAM;MAChG;IACF;EACF;EAEA,IAAIhJ,GAAG,IAAI,MAAM,EAAC;IAChBvJ,MAAM,CAAC2kB,UAAU,CAAC0B,WAAW,GAAGrmB,MAAM,CAACsa,IAAI;EAC7C;EAEA,IAAI/Q,GAAG,IAAI,iBAAiB,IAAIvJ,MAAM,CAACi1B,eAAe,EAAC;IACrDj1B,MAAM,CAAC2kB,UAAU,CAACuQ,eAAe,GAAG,IAAI;EAC1C;EAEA,IAAI3rB,GAAG,IAAI,IAAI,EAAE;IACfvJ,MAAM,CAAC2kB,UAAU,CAAChmB,EAAE,GAAGqB,MAAM,CAACrB,EAAE;EAClC;EAGA,IAAI4K,GAAG,IAAI,UAAU,EAAE;IACrB,IAAI+H,WAAW,GAAE5R,IAAI,CAACuG,KAAK,CAACjG,MAAM,CAACuR,QAAQ,CAAC;IAC5C,IAAID,WAAW,CAACxS,IAAI,IAAI,QAAQ,EAAE;MAChC,IAAI0S,KAAK,GAAGF,WAAW,CAACE,KAAK;MAC7B,IAAIb,MAAM,GAAGW,WAAW,CAACX,MAAM;MAC/B,IAAIc,MAAM,GAAGd,MAAM,CAACtB,IAAI,CAAC,IAAI,CAAC;MAC9BrP,MAAM,CAACwN,KAAK,CAAC,kBAAkB,CAAC,GAAG,kBAAkB,GAACgE,KAAK,GAAC,OAAO,GAACC,MAAM,GAAC,GAAG;IAChF,CAAC,MACK;MACJ,IAAId,MAAM,GAAGW,WAAW,CAACX,MAAM;MAC/B,IAAIc,MAAM,GAAGd,MAAM,CAACtB,IAAI,CAAC,IAAI,CAAC;MAC9BrP,MAAM,CAACwN,KAAK,CAAC,kBAAkB,CAAC,GAAG,kBAAkB,GAACiE,MAAM,GAAC,GAAG;IACjE;EACH;EAGA,IAAIlI,GAAG,IAAI,WAAW,IAAIxL,MAAM,CAACo3B,UAAU,IAAI,CAACp3B,MAAM,CAACq3B,WAAW,EAAE;IAClE,IAAIxb,SAAS,GAAG,MAAM;IACtB,IAAI5Z,MAAM,CAAC4Z,SAAS,IAAI,iBAAiB,IAAI5Z,MAAM,CAAC4Z,SAAS,IAAI,UAAU,EAAE;MAC3E,IAAG5Z,MAAM,CAAC6Z,UAAU,IAAI,CAAC,IAAIka,QAAQ,IAAIja,SAAS,CAACC,SAAS,CAACC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE;QACrFJ,SAAS,GAAG,KAAK;QACjB5Z,MAAM,CAACwN,KAAK,CAAC,uBAAuB,CAAC,GAAG,MAAM;QAC9CxN,MAAM,CAACwN,KAAK,CAAC,oBAAoB,CAAC,GAAG,MAAM;QAC3CxN,MAAM,CAACwN,KAAK,CAAC,eAAe,CAAC,GAAG,MAAM;MACxC,CAAC,MAAM;QACLoM,SAAS,GAAG,UAAU;QACtB5Z,MAAM,CAAC2kB,UAAU,CAAC0Q,YAAY,GAAG,cAAc;MACjD;IACF,CAAC,MAAM,IAAIr1B,MAAM,CAAC4Z,SAAS,IAAI,UAAU,EAAE;MACvC5Z,MAAM,CAAC2kB,UAAU,CAAC2Q,QAAQ,GAAG,UAAU;IAC3C,CAAC,MAAM,IAAIt1B,MAAM,CAAC4Z,SAAS,IAAI,SAAS,EAAE;MACtCA,SAAS,GAAG,QAAQ;IACxB;IACA,IAAI5Z,MAAM,CAACqX,SAAS,EAAE;MACpB,IAAGrX,MAAM,CAAC4Z,SAAS,IAAI,SAAS,EAAC;QAC/BA,SAAS,GAAG,KAAK;MACnB,CAAC,MAAM;QACLA,SAAS,GAAG,MAAM;MACpB;IACF;IAEA5Z,MAAM,CAAC2kB,UAAU,CAAC7lB,IAAI,GAAG8a,SAAS;EACpC;EAEA,IAAIrQ,GAAG,IAAI,aAAa,EAAE;IACxB,IAAGvJ,MAAM,CAAC6Y,WAAW,EAAC;MACpB7Y,MAAM,CAACwN,KAAK,CAAC,mBAAmB,CAAC,GAAG,0BAA0B;MAC9DxN,MAAM,CAACwN,KAAK,CAAC,oBAAoB,CAAC,GAAG,IAAI;MACzCxN,MAAM,CAACwN,KAAK,CAAC,2BAA2B,CAAC,GAAG,QAAQ;MACpDxN,MAAM,CAACwN,KAAK,CAAC,iBAAiB,CAAC,GAAG,IAAI;MACtCxN,MAAM,CAACwN,KAAK,CAAC,2BAA2B,CAAC,GAAG,UAAU;MACtDxN,MAAM,CAACwN,KAAK,CAAC,qBAAqB,CAAC,GAAG,QAAQ;MAC9CxN,MAAM,CAACwN,KAAK,CAAC,qBAAqB,CAAC,GAAG,MAAM;MAC5CxN,MAAM,CAACwN,KAAK,CAAC,sBAAsB,CAAC,GAAG,SAAS;MAChDxN,MAAM,CAACwN,KAAK,CAAC,gBAAgB,CAAC,GAAG,UAAU;IAE7C;EACF;EAEA,IAAIjE,GAAG,IAAI,SAAS,EAAE;IACpBvJ,MAAM,CAAC2kB,UAAU,CAAC,cAAc,CAAC,GAAG3kB,MAAM,CAACgX,OAAO;IAClD,IAAI/K,IAAI,GAAGjM,MAAM,CAACgX,OAAO,CAACnI,KAAK,CAAC,GAAG,CAAC;IACpC,IAAI3P,MAAM,GAAGL,QAAQ,CAACoN,IAAI,CAACgL,GAAG,CAAC,CAAC,CAAC;IACjC,IAAG/X,MAAM,GAAC,EAAE,EAAE;MAACA,MAAM,GAAG,EAAE;IAAC;IAC3Bc,MAAM,CAAC2kB,UAAU,CAAC,MAAM,CAAC,GAAEzlB,MAAM;EAEnC;EACA;EACA;EACA;EACA;;EAEA;;EAEA,IAAIqK,GAAG,IAAI,WAAW,EAAE;IACtBvJ,MAAM,CAAC2kB,UAAU,CAAC,WAAW,CAAC,GAAG3kB,MAAM,CAACqX,SAAS;EACnD;EACA,IAAI9N,GAAG,IAAI,iBAAiB,EAAE;IAC5BvJ,MAAM,CAAC2kB,UAAU,CAAC,iBAAiB,CAAC,GAAG3kB,MAAM,CAACua,eAAe;EAC/D;EAEA,IAAIhR,GAAG,IAAI,QAAQ,EAAE;IACnBvJ,MAAM,CAAC2kB,UAAU,CAAC,QAAQ,CAAC,GAAG3kB,MAAM,CAACu1B,MAAM;EAC7C;EACA,IAAIhsB,GAAG,IAAI,gBAAgB,IAAIvJ,MAAM,CAACwP,cAAc,EAAC;IACnDxP,MAAM,CAACwN,KAAK,CAAC,iBAAiB,CAAC,GAAG,WAAW;EAC/C;EACA,IAAIjE,GAAG,IAAI,QAAQ,EAAE;IACnB,IAAIuP,YAAY,GAAG9Y,MAAM,CAAC+Y,MAAM,CAAClK,KAAK,CAAC7O,MAAM,CAACgZ,eAAe,IAAI,GAAG,CAAC;IACrE,IAAIC,UAAU,GAAGC,GAAG,CAACC,EAAE,CAACL,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;IACzC,IAAIM,YAAY,GAAGF,GAAG,CAACC,EAAE,CAACL,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3C,IAAIO,aAAa,GAAGH,GAAG,CAACC,EAAE,CAACL,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5C,IAAIQ,YAAY,GAAG;MACftT,CAAC,EAAEkT,GAAG,CAACC,EAAE,CAACL,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3BS,CAAC,EAAEL,GAAG,CAACC,EAAE,CAACL,YAAY,CAAC,CAAC,CAAC,CAAC;IAC5B,CAAC;IAEH,IAAIU,WAAW,GAAGC,kBAAkB,CAACX,YAAY,CAAC,CAAC,CAAC,CAAC;IACrD,IAAIY,UAAU,GAAG1Z,MAAM,CAAC0Z,UAAU,MAAArR,MAAA,CAAMrI,MAAM,CAAC0Z,UAAU,SAAM,EAAE;IAEjE1Z,MAAM,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,GAAG0Z,UAAU,GAAG7a,QAAQ,CAACya,YAAY,CAACtT,CAAC,CAAC,GAAG,KAAK,GAAGnH,QAAQ,CAACya,YAAY,CAACC,CAAC,CAAC,GAAG,KAAK,GAAG1a,QAAQ,CAACoa,UAAU,CAAC,GAAG,KAAK,GAAGpa,QAAQ,CAACua,YAAY,CAAC,GAAG,UAAU,GAAGI,WAAW,CAACxI,CAAC,GAAG,IAAI,GAAIwI,WAAW,CAACG,CAAC,GAAG,IAAI,GAAIH,WAAW,CAAC1I,CAAC,GAAG,IAAI,GAAK0I,WAAW,CAAChG,CAAC,GAAG6F,aAAc,GAAG,GAAG;EACvS;EAEA,IAAI9P,GAAG,IAAI,YAAY,EACrBvJ,MAAM,CAACwN,KAAK,CAACiC,UAAU,GAAGzP,MAAM,CAACyP,UAAU;EAE7C,IAAIlG,GAAG,IAAI,WAAW,EACpBvJ,MAAM,CAACwN,KAAK,CAACkC,SAAS,GAAG1P,MAAM,CAAC0P,SAAS;EAE3C,IAAInG,GAAG,IAAI,WAAW,EAAE;IACtBvJ,MAAM,CAACwN,KAAK,CAACgoB,aAAa,GAAGx1B,MAAM,CAAC2P,SAAS,GAAG,MAAM,GAAG,MAAM;EACjE;EACA,IAAIpG,GAAG,IAAI,SAAS,EAAE;IACpBvJ,MAAM,CAACwN,KAAK,CAACoC,OAAO,GAAG5P,MAAM,CAAC4P,OAAO;EACvC;AACF;AAEA,SAAS6J,kBAAkBA,CAACtL,KAAK,EAAE;EACjCA,KAAK,GAAG+K,GAAG,CAACC,EAAE,CAAChL,KAAK,CAAC,CAAC;EAEtB,IAAIwC,MAAM;EACV,IAAIrB,KAAK,GAAG,MAAM;EAElB,IAAInB,KAAK,CAACjP,MAAM,IAAI,CAAC,EAAE;IACrBoQ,KAAK,GAAGzQ,QAAQ,CAACsP,KAAK,CAACzE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;IAC3C4F,KAAK,GAAG,CAACA,KAAK,GAAG,GAAG,EAAEgQ,OAAO,CAAC,CAAC,CAAC;IAChCnR,KAAK,GAAGA,KAAK,CAACzE,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;EAC/B,CAAC,MAAM;IACLyE,KAAK,GAAGA,KAAK,CAACzE,SAAS,CAAC,CAAC,EAAEyE,KAAK,CAACjP,MAAM,CAAC;EAC1C;EAEAiP,KAAK,GAAGib,eAAe,CAAClQ,GAAG,CAAC/K,KAAK,CAAC,CAAC;EACnCwC,MAAM,GAAGxC,KAAK,CAACU,KAAK,CAAC,GAAG,CAAC;EAEzB,OAAO;IACLmC,CAAC,EAAEnS,QAAQ,CAACqa,GAAG,CAACvI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3BgJ,CAAC,EAAE9a,QAAQ,CAACqa,GAAG,CAACvI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3BG,CAAC,EAAEjS,QAAQ,CAACqa,GAAG,CAACvI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B6C,CAAC,EAAEgK,UAAU,CAAClO,KAAK;EACrB,CAAC;AACH;AAEA,SAAS8Z,eAAeA,CAACC,GAAG,EAAE;EAC5B,IAAIrY,CAAC,GAAGnS,QAAQ,CAACwqB,GAAG,CAAC3f,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;EACzC,IAAIiQ,CAAC,GAAG9a,QAAQ,CAACwqB,GAAG,CAAC3f,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;EACzC,IAAIoH,CAAC,GAAGjS,QAAQ,CAACwqB,GAAG,CAAC3f,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;EAEzC,OAAOsH,CAAC,GAAG,GAAG,GAAG2I,CAAC,GAAG,GAAG,GAAG7I,CAAC;AAC9B;AAEA,SAASqI,EAAEA,CAACjP,KAAK,EAAE;EACjB,OAAOA,KAAK,GAAGA,KAAK,GAAG,EAAE,GAAG,EAAE;AAChC;AAEA,SAASgP,GAAGA,CAAChP,KAAK,EAAE;EAClB,OAAOA,KAAK,CAAC7J,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;AAChC;AAEA,SAASo1B,WAAWA,CAAC32B,IAAI,EAAEkB,MAAM,EAAE;EACjC,IAAIlB,IAAI,IAAI,cAAc,EAAE;IAC1BkB,MAAM,CAAC8U,WAAW,GAAG9U,MAAM,CAAC8U,WAAW;EACzC;AACF;AACA,SAAS4gB,oBAAoBA,CAAC11B,MAAM,EAAE;EACpC,IAAI21B,GAAG,GAACC,iBAAiB,CAAC51B,MAAM,CAAC;EACjC,IAAIa,OAAO,GAAGyE,QAAQ,CAACC,cAAc,CAACowB,GAAG,CAAC9V,IAAI,CAAC;AACjD;AACA,SAAS+V,iBAAiBA,CAAC51B,MAAM,EAAC;EAChC,IAAIgG,CAAC,GAAGhG,MAAM,CAACgG,CAAC,IAAI,GAAG;EACvB,IAAIuT,CAAC,GAAGvZ,MAAM,CAACuZ,CAAC,IAAI,GAAG;EACvB,IAAIsc,cAAc,GAAGn2B,IAAI,CAACuG,KAAK,CAACjG,MAAM,CAAC0gB,eAAe,CAAC;EACvD,IAAImV,cAAc,GAAGA,cAAc,CAAC1mB,GAAG,CAAC,UAASqE,CAAC,EAAC;IACjD,IAAGA,CAAC,CAAC5J,cAAc,CAAC,OAAO,CAAC,EAAC;MAC3B4J,CAAC,CAAC6K,KAAK,GAAGxf,QAAQ,CAAC2U,CAAC,CAAC6K,KAAK,CAAC,GAAGxf,QAAQ,CAACmH,CAAC,CAAC,GAAG,EAAE;MAC9C,IAAG,CAACwN,CAAC,CAAC5J,cAAc,CAAC,KAAK,CAAC,EAAC;QAC1B4J,CAAC,CAACqL,GAAG,GAAG,CAAC,GAAGhgB,QAAQ,CAACmH,CAAC,CAAC,GAAG,EAAE;MAC9B;IACF;IACA,IAAGwN,CAAC,CAAC5J,cAAc,CAAC,KAAK,CAAC,EAAC;MACzB4J,CAAC,CAACqL,GAAG,GAAGhgB,QAAQ,CAAC2U,CAAC,CAACqL,GAAG,CAAC,GAAGhgB,QAAQ,CAACmH,CAAC,CAAC,GAAG,EAAE;IAC5C;IACA,IAAGwN,CAAC,CAAC5J,cAAc,CAAC,OAAO,CAAC,EAAC;MAC3B4J,CAAC,CAAC8K,KAAK,GAAGzf,QAAQ,CAAC2U,CAAC,CAAC8K,KAAK,CAAC,GAAGzf,QAAQ,CAAC0a,CAAC,CAAC,GAAG,EAAE;MAC9C,IAAG,CAAC/F,CAAC,CAAC5J,cAAc,CAAC,KAAK,CAAC,EAAC;QAC1B4J,CAAC,CAACsL,GAAG,GAAG,CAAC,GAAGjgB,QAAQ,CAAC0a,CAAC,CAAC,GAAG,EAAE;MAC9B;IACF;IACA,IAAG/F,CAAC,CAAC5J,cAAc,CAAC,KAAK,CAAC,EAAC;MACzB4J,CAAC,CAACsL,GAAG,GAAGjgB,QAAQ,CAAC2U,CAAC,CAACsL,GAAG,CAAC,GAAGjgB,QAAQ,CAAC0a,CAAC,CAAC,GAAG,EAAE;IAC5C;IACA,OAAO/F,CAAC;EACV,CAAC,CAAC;EACF,OAAQqiB,cAAc;AACxB;AACAl5B,MAAM,CAACC,OAAO,GAAG,UAAUkC,IAAI,EAAEkB,MAAM,EAAE81B,UAAU,EAAE;EACnD;EACA;EACA;EACAL,WAAW,CAAC32B,IAAI,EAAEkB,MAAM,CAAC;;EAEzB;;EAGA,IAAIqL,IAAI,GAAGC,MAAM,CAACD,IAAI,CAACrL,MAAM,CAAC;EAE9B,KAAK,IAAIf,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoM,IAAI,CAACnM,MAAM,EAAED,CAAC,EAAE,EAAE;IACpC,IAAKe,MAAM,CAACwN,KAAK,IAAIxN,MAAM,CAACwN,KAAK,CAACoC,OAAO,KAAK,MAAM,IAAKvE,IAAI,CAACpM,CAAC,CAAC,KAAK,SAAS,EAAG;MAC/E;IACF;IACA40B,gBAAgB,CAAC/0B,IAAI,EAAEkB,MAAM,EAAEqL,IAAI,CAACpM,CAAC,CAAC,CAAC;EACzC;EAGAe,MAAM,CAAC+0B,UAAU,GAAG,CAClBnjB,MAAM,CAAC5R,MAAM,CAAC6R,UAAU,IAAI,CAAC,CAAC,GAAE,IAAI,EACpC,KAAK,EACL7R,MAAM,CAAC8R,wBAAwB,CAChC,CACEC,MAAM,CAACC,OAAO,CAAC,CACf3C,IAAI,CAAC,GAAG,CAAC;EAEZ,IAAIrP,MAAM,CAACwN,KAAK,CAAC2C,SAAS,IAAI,EAAE,EAAE;IAChC,OAAOnQ,MAAM,CAACwN,KAAK,CAAC2C,SAAS;EAC/B;EACA,IAAInQ,MAAM,CAAC4J,cAAc,CAAC,iBAAiB,CAAC,EAAE;IAC5C8rB,oBAAoB,CAAC11B,MAAM,CAAC;EAC9B;EAEA,OAAOA,MAAM;AACf,CAAC;;;;;;;;;;ACtsBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEAjC,MAAM,CAACg4B,iBAAiB,GAAGC,OAAW;AACtC,IAAAtyB,QAAA,GAAkB5G,mBAAO,CAAC,iCAAU,CAAC;EAA7BS,KAAK,GAAAmG,QAAA,CAALnG,KAAK;AACbQ,MAAM,CAACk4B,QAAQ,GAAGn5B,mBAAO,CAAC,uDAAqB,CAAC;AAEhD,IAAM01B,WAAW,GAAG,SAAdA,WAAWA,CAAA;EAAA,OAAU,IAAIhB,IAAI,CAAC,CAAC,CAAEkB,OAAO,CAAC,CAAC;AAAA;AAChD,IAAG30B,KAAwB,EAAC,yBAkB3B;AAED,IAAGA,KAAmB,EAAC,EAUtB;AAED,IAAIA,IAAoB,EAAE;EACtB;EACA,IAAI;IACAA,MAAM,CAACkD,OAAO,GAAGlD,MAAM,CAAC+D,MAAM,CAACb,OAAO,GAAClD,MAAM,CAAC+D,MAAM,CAACb,OAAO,GAACnE,mBAAO,CAAC,6DAAwB,CAAC;EAClG,CAAC,CAAC,OAAOgN,CAAC,EAAC;IACP/L,MAAM,CAACkD,OAAO,GAAGnE,mBAAO,CAAC,6DAAwB,CAAC;IAClDwD,OAAO,CAACyF,GAAG,CAAC,sCAAsC,CAAC;EACvD;EAEAhI,MAAM,CAACsF,OAAO,GAAGtF,MAAM,CAACsF,OAAO,GAAGtF,MAAM,CAACsF,OAAO,GAACtF,MAAM,CAAC+D,MAAM,CAACuB,OAAO;AAC1E,CAAC,MAAM,EAGN;AAED,IAAItF,MAAM,CAACu4B,gBAAgB,IAAIv4B,MAAM,CAACu4B,gBAAgB,CAAC1sB,cAAc,CAAC,cAAc,CAAC,EAAE;EACnF7L,MAAM,CAACqtB,OAAO,GAAGrtB,MAAM,CAACu4B,gBAAgB,CAACF,YAAY;AACzD,CAAC,MAAM;EACHr4B,MAAM,CAACqtB,OAAO,GAAG,MAAM;AAC3B;AAEA,IAAIrtB,MAAM,CAACu4B,gBAAgB,IAAIv4B,MAAM,CAACu4B,gBAAgB,CAAC1sB,cAAc,CAAC,eAAe,CAAC,EAAE;EACpF7L,MAAM,CAACktB,QAAQ,GAAGltB,MAAM,CAACu4B,gBAAgB,CAACD,aAAa;AAC3D,CAAC,MAAM;EACHt4B,MAAM,CAACktB,QAAQ,GAAG,MAAM;AAC5B;AAEA,IAAMwL,IAAI,GAAGxZ,IAAI,CAAC6M,MAAM,CAAC,CAAC,CAACvX,QAAQ,CAAC,EAAE,CAAC,CAACwD,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;;AAEpD;AACA,IAAIhY,IAAoB,EAAE;EACtB;EACAA,MAAM,CAAC24B,WAAW,GAAG,KAAK;EAC1B34B,MAAM,CAAC44B,cAAc,GAAG;IACpBC,aAAa,EAAE,KAAK;IACpBC,GAAG,EAAE,CAAC,CAAC;IACPC,GAAG,EAAE,CAAC,CAAC;IACPC,EAAE,EAAE,CAAC,CAAC;IACNC,MAAM,EAAE,CAAC;EACb,CAAC;EAEDj5B,MAAM,CAACk5B,iBAAiB,GAAG;IACvBC,OAAO,EAAE,iBAAiB;IAC1BF,MAAM,EAAE,gBAAgB;IACxBG,WAAW,EAAE,qBAAqB;IAClCC,oBAAoB,EAAE,wBAAwB;IAC9CC,UAAU,EAAE,oBAAoB;IAChCC,gBAAgB,EAAE,0BAA0B;IAC5CC,eAAe,EAAE,wBAAwB;IACzCV,GAAG,EAAE,aAAa;IAClBW,QAAQ,EAAE,kBAAkB;IAC5BT,EAAE,EAAE,YAAY;IAChBU,YAAY,EAAE,sBAAsB;IACpCC,OAAO,EAAE,iBAAiB;IAC1BC,UAAU,EAAE,oBAAoB;IAChCC,SAAS,EAAE,mBAAmB;IAC9Bd,GAAG,EAAE,aAAa;IAClBe,aAAa,EAAE,uBAAuB;IACtCC,QAAQ,EAAE,kBAAkB;IAC5BC,WAAW,EAAE,qBAAqB;IAClCC,UAAU,EAAE,oBAAoB;IAChCC,eAAe,EAAE,yBAAyB;IAC1CC,UAAU,EAAE,oBAAoB;IAChCC,MAAM,EAAE,gBAAgB;IACxBC,WAAW,EAAE,qBAAqB;IAClCC,aAAa,EAAE,uBAAuB;IACtCC,EAAE,EAAE,YAAY;IAChBC,WAAW,EAAE;EACjB,CAAC;EACDx6B,MAAM,CAACy6B,iBAAiB,GAAG;IACvBC,EAAE,EAAE,SAAS;IACbC,SAAS,EAAE,SAAS;IACpBC,YAAY,EAAE,iBAAiB;IAC/BC,cAAc,EAAE,uBAAuB;IACvCC,YAAY,EAAE,SAAS;IACvBC,mBAAmB,EAAE,SAAS;IAC9BC,YAAY,EAAE,SAAS;IACvBC,eAAe,EAAE,SAAS;IAC1BC,aAAa,EAAE,SAAS;IACxBC,eAAe,EAAE,SAAS;IAC1BC,WAAW,EAAE,SAAS;IACtBC,QAAQ,EAAE;EACd,CAAC;EACDr7B,MAAM,CAACs7B,YAAY,GAAG;IAClBvC,GAAG,EAAE,EAAE;IACPE,MAAM,EAAE,EAAE;IACVD,EAAE,EAAE;EACR,CAAC;EACD;;EAEA;EACAh5B,MAAM,CAAC2c,UAAU,GAAG,QAAQ,GAAG+b,IAAI;EACnC14B,MAAM,CAAC8jB,oBAAoB,GAAG,EAAE;EAChC9jB,MAAM,CAACu7B,aAAa,GAAG,CAAC,CAAC;EACzBv7B,MAAM,CAACw7B,oBAAoB,GAAG,WAAW;EACzCx7B,MAAM,CAACy7B,iBAAiB,GAAG,gBAAgB;EAC3Cz7B,MAAM,CAAC07B,qBAAqB,GAAG,oBAAoB;EACnD17B,MAAM,CAAC27B,wBAAwB,GAAG,6BAA6B;EAC/D37B,MAAM,CAAC47B,kBAAkB,GAAG,iBAAiB;EAC7C57B,MAAM,CAAC67B,iBAAiB,GAAG,gBAAgB;EAC3C77B,MAAM,CAAC87B,kBAAkB,GAAG,iBAAiB;EAC7C;;EAEA97B,MAAM,CAAC+7B,OAAO,GAAG,UAACtwB,KAAK,EAAK;IACxB,IAAIA,KAAK,CAACS,MAAM,IACZT,KAAK,CAACS,MAAM,CAAC4N,SAAS,CAACkiB,QAAQ,CAACh8B,MAAM,CAAC07B,qBAAqB,CAAC,IAC7D,CAACjwB,KAAK,CAACS,MAAM,CAAC4N,SAAS,CAACkiB,QAAQ,CAACh8B,MAAM,CAAC27B,wBAAwB,CAAC,EACnE;MACEp0B,QAAQ,CAACwY,IAAI,CAACjG,SAAS,CAAC9O,MAAM,CAAChL,MAAM,CAACy7B,iBAAiB,CAAC;MACxDhwB,KAAK,CAACS,MAAM,CAAC4N,SAAS,CAAC9O,MAAM,CAAChL,MAAM,CAAC47B,kBAAkB,CAAC;MAExD,IAAIh7B,EAAE,GAAG6K,KAAK,CAACS,MAAM,CAACtL,EAAE;MACxBA,EAAE,GAAGA,EAAE,CAAC0B,OAAO,CAACtC,MAAM,CAAC07B,qBAAqB,GAAG,GAAG,EAAE,EAAE,CAAC;MAEvD,IAAI9zB,IAAI,GAAGC,OAAO,CAACjH,EAAE,CAAC;MACtB,IAAIgH,IAAI,IAAIA,IAAI,CAACjH,KAAK,CAACs7B,SAAS,IAAI,OAAOr0B,IAAI,CAACjH,KAAK,CAACs7B,SAAS,IAC3D,UAAU,EAAE;QACZr0B,IAAI,CAACjH,KAAK,CAACs7B,SAAS,CAAC,CAAC;MAC1B;IACJ;EACJ,CAAC;EAED,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAIj3B,QAAQ,EAAEkP,KAAK,EAAK;IACvC,IAAIgoB,SAAS,GAAG50B,QAAQ,CAAC60B,sBAAsB,CAAC,WAAW,CAAC;IAC5D,KAAK,IAAIl7B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGi7B,SAAS,CAACh7B,MAAM,EAAED,CAAC,EAAE,EAAE;MACvCi7B,SAAS,CAACj7B,CAAC,CAAC,CAACuO,KAAK,CAACoC,OAAO,GAAG,MAAM;IACvC;EACJ,CAAC;EACD7R,MAAM,CAACq8B,eAAe,GAAGH,aAAa;AAE1C,CAAC,MAAM,EAaN;AAEDl8B,MAAM,CAAC0uB,IAAI,GAAG,CAAC;AACf1uB,MAAM,CAACg9B,SAAS,GAAG,CAAC;AACpBh9B,MAAM,CAACi9B,cAAc,GAAG,CAAC,CAAC;AAC1B;AACA,IAAI;EACAj9B,MAAM,CAACovB,UAAU,GAAGpvB,MAAM,CAAC+D,MAAM,CAACqrB,UAAU,GAACpvB,MAAM,CAAC+D,MAAM,CAACqrB,UAAU,GAAC,CAAC,CAAC;AAC5E,CAAC,CAAC,OAAO5sB,KAAK,EAAE;EACZxC,MAAM,CAACovB,UAAU,GAAG,CAAC,CAAC;AAC1B;AACApvB,MAAM,CAACmvB,UAAU,GAAG,CAAC;AACrBnvB,MAAM,CAAC+E,YAAY,GAAG,IAAI;AAC1B/E,MAAM,CAACk9B,gBAAgB,GAAG,CAAC,CAAC;AAC5Bl9B,MAAM,CAACm9B,cAAc,GAAG,CAAC;AACzBn9B,MAAM,CAACo9B,aAAa,GAAG,IAAI;AAC3Bp9B,MAAM,CAACq9B,aAAa,GAAG,IAAI;AAC3Br9B,MAAM,CAACs9B,aAAa,GAAG,IAAI;AAC3Bt9B,MAAM,CAACu9B,cAAc,GAAG,EAAE;AAC1Bv9B,MAAM,CAACw0B,gBAAgB,GAAG,IAAI;AAC9Bx0B,MAAM,CAACq0B,oBAAoB,GAAG,EAAE;AAChCr0B,MAAM,CAACo3B,UAAU,GAAGp3B,MAAM,CAAC0P,UAAU,GAAG,GAAG,EAAC;AAC5C1P,MAAM,CAACq3B,WAAW,GAAGtb,SAAS,CAACC,SAAS,CAACpQ,WAAW,CAAC,CAAC,CAACpI,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,OAAOg6B,cAAc,KAAK,WAAW;AACvH;AACA,IAAI;EACAx9B,MAAM,CAAC6H,OAAO,GAAG7H,MAAM,CAAC+D,MAAM,CAAC8D,OAAO,GAAC7H,MAAM,CAAC+D,MAAM,CAAC8D,OAAO,GAAC,CAAC,CAAC;AACnE,CAAC,CAAC,OAAOrF,KAAK,EAAE;EACZxC,MAAM,CAAC6H,OAAO,GAAG,CAAC,CAAC;AACvB;AACA7H,MAAM,CAACuxB,iBAAiB,GAAG,CAAC,CAAC;AAC7BvxB,MAAM,CAACumB,WAAW,GAAG,CAAC,CAAC;AACvBvmB,MAAM,CAACgtB,MAAM,GAAG,CAAC;AAEjBhtB,MAAM,CAACy9B,cAAc,GAAG,YAAY;EAChC,IAAI5J,IAAI,GAAInqB,SAAS,CAACvI,MAAM,KAAK,CAAC,GAAG,CAACuI,SAAS,CAAC,CAAC,CAAC,CAAC,GAAGmZ,KAAK,CAACiR,KAAK,CAAC,IAAI,EAClEpqB,SAAS,CAAE;EACf,IAAIqqB,KAAK,GAAGF,IAAI,CAAC,CAAC,CAAC;EACnB,IAAIG,YAAY,GAAGH,IAAI,CAAC1iB,KAAK,CAAC,CAAC,CAAC;EAChC,IAAI8iB,QAAQ;EACZ,IAAIC,QAAQ;EAEZ,IAAIl0B,MAAM,CAACm0B,cAAc,IAAIn0B,MAAM,CAACm0B,cAAc,CAAC3wB,OAAO,CAACuwB,KAAK,CAAC,IAAI,CAAC,CAAC,IAAIF,IAAI,CAAC,CAAC,CAAC,IAAI,UAAU,IAAIvuB,OAAO,IAAIA,OAAO,CAAC8uB,gBAAgB,EAAE;IACrI,OAAO9uB,OAAO,CAAC8uB,gBAAgB,CAACP,IAAI,CAAC,CAAC,CAAC,CAAC;EAC5C;EAEA,IAAI7zB,MAAM,CAACq0B,oBAAoB,IAAIr0B,MAAM,CAACq0B,oBAAoB,CAAC7wB,OAAO,CAACuwB,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE;IACjF/zB,MAAM,CAACovB,UAAU,CAAC2E,KAAK,CAAC,CAACD,KAAK,CAAC,IAAI,EAAEE,YAAY,CAAC;EACtD,CAAC,MAAM,IAAIh0B,MAAM,CAACw0B,gBAAgB,IAAKT,KAAK,IAAI/zB,MAAM,CAACw0B,gBAAgB,CAACT,KAAM,EAAE;IAC5EE,QAAQ,GAAGQ,WAAW,CAAC,CAAC;IACxBP,QAAQ,GAAGD,QAAQ,GAAGj0B,MAAM,CAACw0B,gBAAgB,CAACE,SAAS;IAEvD,IAAIR,QAAQ,IAAI,GAAG,EAAE;MACjBl0B,MAAM,CAACovB,UAAU,CAAC2E,KAAK,CAAC,CAACD,KAAK,CAAC,IAAI,EAAEE,YAAY,CAAC;MAClDh0B,MAAM,CAACw0B,gBAAgB,CAACE,SAAS,GAAGT,QAAQ;IAChD,CAAC,MAAM;MACH1xB,OAAO,CAAC8B,IAAI,CAAC,qBAAqB,EAAE0vB,KAAK,CAAC;MAC1CxxB,OAAO,CAAC8B,IAAI,CAAC,WAAW,EAAE6vB,QAAQ,CAAC;IACvC;EACJ,CAAC,MAAM;IACHl0B,MAAM,CAACovB,UAAU,CAAC2E,KAAK,CAAC,CAACD,KAAK,CAAC,IAAI,EAAEE,YAAY,CAAC;IAClDh0B,MAAM,CAACw0B,gBAAgB,GAAG;MACtBE,SAAS,EAAG,IAAIjB,IAAI,CAAC,CAAC,CAAEkB,OAAO,CAAC,CAAC;MACjCZ,KAAK,EAAEA;IACX,CAAC;EACL;AACJ,CAAC;;;;;;;;;;AClRD,SAAS7I,UAAUA,CAACI,GAAG,EAAE;EACrB,IAAIA,GAAG,CAACoS,UAAU,CAAC,GAAG,CAAC,EAAE;IACvBpS,GAAG,GAAGA,GAAG,CAACna,KAAK,CAAC,CAAC,CAAC;EACpB;EACA,IAAIwsB,OAAO,GAAG78B,QAAQ,CAACwqB,GAAG,EAAE,EAAE,CAAC;EAC/B,IAAI/Z,KAAK,GAAGosB,OAAO,GAAG,GAAG;EACzBpsB,KAAK,GAAG2N,IAAI,CAACC,KAAK,CAAC5N,KAAK,GAAG,GAAG,CAAC,GAAG,GAAG;EACrC,OAAOA,KAAK;AACd;AAEF,SAASqsB,UAAUA,CAACrsB,KAAK,EAAE;EACvB,IAAGA,KAAK,GAAG,CAAC,EAAC;IACTA,KAAK,GAAG,GAAG;EACf,CAAC,MAAM,IAAGA,KAAK,GAAG,CAAC,EAAC;IAChBA,KAAK,GAAG,GAAG;EACf;EACA,IAAIosB,OAAO,GAAGze,IAAI,CAACC,KAAK,CAAC5N,KAAK,GAAG,GAAG,CAAC;EACrC,IAAI+Z,GAAG,GAAGqS,OAAO,CAACnpB,QAAQ,CAAC,EAAE,CAAC,CAACqpB,WAAW,CAAC,CAAC;EAC5C,IAAIvS,GAAG,CAACnqB,MAAM,GAAG,CAAC,EAAE;IAClBmqB,GAAG,GAAG,GAAG,GAAGA,GAAG;EACjB;EACA,OAAOA,GAAG;AACd;AAEA1sB,MAAM,CAACC,OAAO,GAAG;EACbqsB,UAAU,EAAVA,UAAU;EACV0S,UAAU,EAAVA;AACF,CAAC;;;;;;UC3BH;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;UEtBA;UACA;UACA;UACA","sources":["webpack://presto-ui/./index.js","webpack://presto-ui/./src/PrestoUIInterface.js","webpack://presto-ui/./src/WEB/AndroidInterface.js","webpack://presto-ui/./src/WEB/ListPresto.js","webpack://presto-ui/./src/WEB/MapAttributes.js","webpack://presto-ui/./src/WEB/Render.js","webpack://presto-ui/./src/WEB/Utils.js","webpack://presto-ui/./src/animations.js","webpack://presto-ui/./src/baseView.js","webpack://presto-ui/./src/compute.js","webpack://presto-ui/./src/doms/index.js","webpack://presto-ui/./src/doms/web.js","webpack://presto-ui/./src/handler.js","webpack://presto-ui/./src/helper.js","webpack://presto-ui/./src/helpers/common/callbackInvoker.js","webpack://presto-ui/./src/helpers/common/callbackMapper.js","webpack://presto-ui/./src/helpers/common/index.js","webpack://presto-ui/./src/helpers/index.js","webpack://presto-ui/./src/helpers/web/index.js","webpack://presto-ui/./src/helpers/web/parseParams.js","webpack://presto-ui/./src/init.js","webpack://presto-ui/./src/utils.js","webpack://presto-ui/webpack/bootstrap","webpack://presto-ui/webpack/before-startup","webpack://presto-ui/webpack/startup","webpack://presto-ui/webpack/after-startup"],"sourcesContent":["/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n\tinit: require(\"./src/init\"), \n\tdoms : require(\"./src/doms\"),\n\thandler : require(\"./src/handler\"),\n\thelpers : require(\"./src/helpers\"),\n\tbaseView : require(\"./src/baseView\"),\n\tanimations: require('./src/animations'),\n\tcallbackMapper: require('./src/helpers/common/callbackMapper'),\n\tgetOS: require('./src/helper').getOS,\n\tprestoMerge: require('./src/helper').merge,\n\tprestoClone: require('./src/helper').clone\n};\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nvar prestoDom = require(\"./doms\");\nvar helpers = require(\"./helpers\")\nvar webParseParams;\nvar iOSParseParams;\nvar parseParams;\nconst helper = require('./helper');\nwindow.fontsWhiteList = [];\n\nif (window.__OS === \"WEB\") {\n  webParseParams = helpers.web.parseParams;\n} else if (window.__OS === \"IOS\") {\n  iOSParseParams = helpers.ios.parseParams;\n} else if (window.__OS === \"ANDROID\") {\n  var androidHelpers = helpers.android;\n  parseParams = androidHelpers.parseParams;\n}\n\nfunction domAll(elem) {\n  if (!elem.__ref) {\n    elem.__ref = createPrestoElement();\n  }\n\n  if (elem.props.id) {\n    elem.__ref.__id = parseInt(elem.props.id, 10) || elem.__ref.__id;\n  }\n\n  var type = helper.clone(elem.type,null);\n  var props = helper.clone(elem.props,null);\n\n  if (props.focus == false &&  window.__OS === \"ANDROID\") {\n    delete props.focus;\n  }\n\n  var children = [];\n\n  for (var i = 0; i < elem.children.length; i++) {\n    children.push(domAll(elem.children[i]));\n  }\n\n\n  if (__OS == \"WEB\" && props.onResize) {\n    window.__resizeEvent = props.onResize;\n  }\n\n  props.id = elem.__ref.__id;\n  if(elem.parentType && window.__OS == \"ANDROID\")\n    return prestoDom({elemType: type, parentType: elem.parentType}, props, children);\n\n  return prestoDom(type, props, children);\n}\n\nfunction getDomToRender(elem) {\n  var res = domAll(elem);\n  if (window.__OS == \"ANDROID\") {\n    return JSON.stringify(res);\n  } else {\n    return res;\n  }\n}\n\nfunction addFontsToWhitelist(fonts) {\n  androidHelpers.addToFontsWhiteList(fonts);\n}\n\n\n// Not exported\nfunction cmdForAndroid(config, set, type) {\n  if (set) {\n    if (config.id) {\n      var obj = parseParams(type, config, \"set\");\n      var cmd = obj.runInUI.replace(\"this->setId\", \"set_view=ctx->findViewById\").replace(/this->/g, \"get_view->\");\n      cmd = cmd.replace(/PARAM_CTR_HOLDER[^;]*/g, \"get_view->getLayoutParams;\");\n      obj.runInUI = cmd;\n      return obj;\n    } else {\n      console.error(\"ID null, this is not supposed to happen. Debug this or/and raise a issue in bitbucket.\");\n    }\n    return {};\n  }\n\n  var _id = config.id;\n  var cmd = \"set_view=ctx->findViewById:i_\" + _id + \";\";\n  // var runInUI;\n  delete config.id;\n  config.root = \"true\";\n  var obj = parseParams(type, config, \"get\");\n  obj.runInUI = cmd + obj.runInUI + ';';\n  obj.id = _id;\n  return obj;\n}\n\nfunction getRunInUICmd(prop) {\n  var cmd;\n  if (window.__OS == \"ANDROID\") {\n    cmd = cmdForAndroid(prop, true, \"linearLayout\").runInUI;\n  } else if (window.__OS == \"IOS\"){\n    cmd = prop;\n  } else {\n    cmd = webParseParams(\"linearLayout\", prop, \"set\");\n  }\n  return cmd;\n}\n\n\n\n// Not exported\nfunction applyProp(element, attribute, set) {\n  var prop = {\n    id: element.__ref.__id\n  }\n  prop[attribute.value0] = attribute.value1;\n\n  if (attribute.value0 == 'focus' && attribute.value1 == false &&  window.__OS == \"ANDROID\") {\n    return;\n  }\n\n  if (window.__OS == \"ANDROID\") {\n    var cmd = cmdForAndroid(prop, set, element.type);\n    if (Android.updateProperties) {\n      Android.updateProperties(JSON.stringify(cmd));\n    } else {\n      Android.runInUI(cmd.runInUI, null);\n    }\n  } else if (window.__OS == \"IOS\"){\n    Android.runInUI(prop);\n  } else {\n    Android.runInUI(webParseParams(\"linearLayout\", prop, \"set\"));\n  }\n  // Android.runInUI(parseParams(\"linearLayout\", prop, \"set\"));\n}\n\nfunction replaceView(element, attribute, removeProp) {\n  // console.log(\"REPLACE VIEW\", element.__ref.__id, element.props);\n  var props = helper.clone(element.props,null);\n  props.id = element.__ref.__id;\n  var rep;\n  var viewGroups = [\"linearLayout\", \"relativeLayout\", \"scrollView\", \"frameLayout\", \"horizontalScrollView\"];\n\n  if (viewGroups.indexOf(element.type) != -1){\n    props.root = true;\n    rep = prestoDom(element.type, props, []);\n  } else if (window.__OS == \"ANDROID\") {\n    rep = prestoDom({elemType: element.type, parentType: element.parentNode.type}, props, []);\n  } else {\n    rep = prestoDom(element.type, props, []);\n  }\n  if(window.__OS == \"ANDROID\"){\n    Android.replaceView(JSON.stringify(rep), element.__ref.__id);\n  } else {\n    Android.replaceView(rep, element.__ref.__id);\n  }\n}\n\n\nfunction createPrestoElement() {\n    if(typeof(window.__ui_id_sequence) != \"undefined\" && window.__ui_id_sequence != null) {\n        return { __id : ++window.__ui_id_sequence };\n    } else {\n        window.__ui_id_sequence = typeof Android.getNewID == \"function\" ? parseInt(Android.getNewID()) * 1000000 : window.__PRESTO_ID ;\n        return { __id : ++window.__ui_id_sequence };\n    }\n};\n\n\nfunction moveChild(child, parent, index) {\n  Android.moveView(child.__ref.__id, index);\n}\n\n\n\nfunction removeChild(child, parent, index) {\n  // console.log(\"Remove child :\", child.type);\n  Android.removeView(child.__ref.__id + \"\");\n}\n\nfunction addChild(child, parent, index) {\n  if(child.type == null) {\n    console.warn(\"child null\");\n  }\n  // console.log(\"Add child :\", child.__ref.__id, child.type);\n  var viewGroups = [\"linearLayout\", \"relativeLayout\", \"scrollView\", \"frameLayout\", \"horizontalScrollView\"];\n  if (window.__OS == \"ANDROID\") {\n    if (viewGroups.indexOf(child.type) != -1){\n      child.props.root = true;\n    } else {\n      child.parentType = parent.type;\n    }\n    Android.addViewToParent(parent.__ref.__id + \"\", JSON.stringify(domAll(child)), index, null, null);\n  }\n  else\n    Android.addViewToParent(parent.__ref.__id, domAll(child), index, null, null);\n}\n\nfunction addAttribute(element, attribute) {\n  // console.log(\"add attr :\", attribute);\n  element.props[attribute.value0] = attribute.value1;\n  applyProp(element, attribute, true);\n}\n\nfunction removeAttribute(element, attribute) {\n  // console.log(\"remove attr :\", attribute);\n  replaceView(element, attribute, true);\n}\n\nfunction updateAttribute(element, attribute) {\n  // console.log(\"update attr :\", attribute);\n  element.props[attribute.value0] = attribute.value1;\n\n  applyProp(element, attribute, false);\n}\n\n\nfunction insertDom(root, dom, cb) {\n  root.children.push(dom);\n  dom.parentNode = root;\n  dom.__ref = createPrestoElement();\n  window.N = root;\n\n  var rootId = window.__ROOTSCREEN.idSet.root;\n\n  dom.props.root = true;\n\n  var length = window.__ROOTSCREEN.idSet.child.push(dom.__ref.__id);\n\n  var callback = window.callbackMapper(executePostProcess(cb));\n  if (window.__OS == \"ANDROID\") {\n    Android.addViewToParent(rootId + \"\", JSON.stringify(domAll(dom)), length - 1, callback, null);\n  }\n  else {\n    Android.addViewToParent(rootId, domAll(dom), length - 1, callback, null);\n  }\n\n  return dom.__ref.__id;\n\n}\n\n\nfunction executePostProcess(cb) {\n  return function() {\n    cb();\n\n    if(window.__dui_screen && window[\"afterRender\"]) {\n      for (var tag in window[\"afterRender\"][window.__dui_screen]) {\n        try {\n          window[\"afterRender\"][window.__dui_screen][tag]()();\n          window[\"afterRender\"][window.__dui_screen][\"executed\"] = true;\n        }\n        catch (err) {\n          console.warn(err);\n        }\n      }\n    }\n\n    if (JBridge && JBridge.setShadow) {\n      for (var tag in window.shadowObject) {\n        JBridge.setShadow(window.shadowObject[tag][\"level\"],\n            JSON.stringify(window.shadowObject[tag][\"viewId\"]),\n            JSON.stringify(window.shadowObject[tag][\"backgroundColor\"]),\n            JSON.stringify(window.shadowObject[tag][\"blurValue\"]),\n            JSON.stringify(window.shadowObject[tag][\"shadowColor\"]),\n            JSON.stringify(window.shadowObject[tag][\"dx\"]),\n            JSON.stringify(window.shadowObject[tag][\"dy\"]),\n            JSON.stringify(window.shadowObject[tag][\"spread\"]),\n            JSON.stringify(window.shadowObject[tag][\"factor\"])\n        );\n      }\n    }\n  }\n}\n\nmodule.exports = {\n  domAll: domAll,\n  getDomToRender: getDomToRender,\n  getRunInUICmd: getRunInUICmd,\n  replaceView: replaceView,\n  createPrestoElement: createPrestoElement,\n  moveChild: moveChild,\n  removeChild: removeChild,\n  addChild: addChild,\n  addAttribute: addAttribute,\n  removeAttribute: removeAttribute,\n  updateProperty: updateAttribute,\n  addProperty: addAttribute,\n  insertDom: insertDom,\n  addFontsToWhitelist: addFontsToWhitelist\n};\n\n","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\nvar {\n  inflateView,\n  computeChildDimens,\n  List,\n  postComputeLayoutDimens,\n  preComputeLayoutDimens,\n  postCompute,\n  isChrome50,\n  handleMatchParentChrome50\n} = require(\"./Render\");\nvar helper = require('../helper');\nvar callbackInvoker = require(\"../helpers/common/callbackInvoker\");\nconst { diffArray } = require(\"./ListPresto\");\nconst {setUseHintColor} = require(\"./MapAttributes\");\nvar storedDiv = \"\";\n\nvar {addToContainerList, getContainer, getParentView, postRenderElements} = require('./Utils')\n\nfunction getScreenDimensions(namespace) {\n  let element = getContainer(namespace);\n  return JSON.stringify({\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  });\n}\n\n// Due to jos, PrestoDOM's document is different from the DOM Document which actaully contains the nodes.\n// This utility function allows PrestoDOM to acquire an actual DOM object.\nfunction getUIElement(id, namespace){\n  var ele = document.getElementById(id);\n  return ele;\n}\n\nfunction findSiblingView(parentView, id) {\n  for (let i = 0; i < parentView.children.length; i++) {\n    if(parentView.children[i].props.id == id){\n      if(i != 0)\n        return parentView.children[i-1]\n      else\n        return   parentView\n    }\n  }\n  return null;\n}\n\nfunction isOrientatationChanged(props){\n  if(props['orientation'])\n    return false;\n  return true;\n}\n\nfunction runInUI(cmd, namespace) {\n  if (typeof cmd == \"string\")\n    return\n    let id = cmd.id\n    if(id){\n      let elem = document.getElementById(id)\n\n      if(elem){\n        let view = window.__VIEWS[id]\n        if(cmd.itemView){\n          return;\n        }\n        if(!cmd.listData && view.listData)\n          return;\n\n        if(cmd.listData){\n          //diffing arrrays to find the difference between old data and new data\n          //console.time('diffArray')\n          console.log(\"diff\")\n          var x = cmd.listData\n          if(typeof cmd.listData == \"string\"){\n            x = JSON.parse(cmd.listData)\n          }\n          view.props.diffArray = List.diffArray(view.props.itemDatas,x);\n          //console.dir(view.props.diffArray)\n          //console.timeEnd('diffArray')\n\n          //no difference in data\n          if(view.props.diffArray==[]){\n            return;\n          }\n        }\n        view.props = helper.merge(view.props, cmd)\n\n        let parentId = null\n        let parentElement = null\n        let parentView = null\n\n        let stopChild = isOrientatationChanged(cmd);\n        parentId = elem.parentNode.id\n\n        if(parentId){\n          parentView = window.__VIEWS[parentId]\n          parentElement = document.getElementById(parentId)\n\n          if(parentElement && parentView){\n            let siblingView = findSiblingView(parentView,id);\n            computeChildDimens(parentView);\n            let computeList = [];\n            // if(view.type == \"relativeLayout\")\n            //   computeList.push(view.props.id);\n            var chrome50matchList;\n            if(isChrome50()) {\n              chrome50matchList = {h : [], w: []}\n            }\n            inflateView({view, parentElement, siblingView, renderStyle: true,stopChild,isListItem:true, computeList, chrome50matchList});\n            let parent = view.parent;\n            for (var i =0;i<parentView.children.length;i++){\n              if(parentView.children[i].props.id == view.props.id){\n                parentView.children[i] = view\n              }\n            }\n            while(parent && parent.type==\"relativeLayout\"){\n              computeList.unshift(parent.props.id)\n              parent=parent.parent;\n            }\n            postCompute(computeList);\n            handleMatchParentChrome50(chrome50matchList)\n          }\n        }\n      }\n    }\n    setPostRender();\n\n  //recompute()\n  //Render.runInUI(cmd)\n}\n\nfunction setPostRender() {\n  if(postRenderElements.focusedElement) {\n    let elem = document.getElementById(postRenderElements.focusedElement);\n    if(elem) {\n      elem.focus();\n    }\n    postRenderElements.focusedElement = undefined;\n  }\n  if(postRenderElements.selectAll) {\n    let elem = document.getElementById(postRenderElements.selectAll);\n    if(elem) {\n      elem.select();\n    }\n    postRenderElements.selectAll = undefined;\n  }\n  if(postRenderElements.scrollToID) {\n    let elem = document.getElementById(postRenderElements.scrollToID);\n    if(elem) {\n      elem.scrollIntoView({behavior: \"smooth\", block: 'nearest'})\n    }\n    postRenderElements.scrollToID = undefined;\n  }\n}\n\nfunction Render(view, cb, namespace, useStoredDiv=false) {\n  let parentElement = getContainer(namespace);\n  // console.debug(\"presto content element found?? \",parentElement);\n  let parentView = getParentView(namespace, view);\n  if(parentView.oldView && useStoredDiv && storedDiv){\n    document.getElementById(\"content\").innerHTML = storedDiv;\n    if (cb) callbackInvoker.invoke(cb);\n  }\n  else if(parentView.oldView) {\n    addViewToParent(parentElement.id, view, parentView.children.indexOf(view), cb, false)\n  } else if (window.generateVdom == false){\n    storedDiv = document.getElementById(\"content\").innerHTML;\n    if (cb) callbackInvoker.invoke(cb);\n  }\n  else{\n    computeChildDimens(parentView);\n    let computeList = [];\n    const elem = inflateView({view, parentElement,computeList});\n    postCompute(computeList);\n    const elements= document.getElementById('content');\n    if (cb) callbackInvoker.invoke(cb);\n  }\n}\n\nfunction getUpdatedChildren(parent, view, index) {\n  var children = parent.children;\n  children.splice(children.indexOf(view), 1);\n  children.splice(index, 0, view);\n  return children;\n}\n\nfunction moveView(id, index) {\n  if (!window.__VIEWS[id]) {\n    return console.error(new Error(\"MoveView: Invalid view ID: \" + id));\n  }\n  var view = window.__VIEWS[id];\n  var viewElem = document.getElementById(id);\n  var parentId = viewElem.parentNode.id;\n  var parent = window.__VIEWS[parentId];\n  var parentElem = document.getElementById(parentId);\n  var children = getUpdatedChildren(parent,view,index);\n  parentElem.insertBefore(viewElem, parentElem.children[index]);\n  computeChildDimens(parent)\n  setPostRender();\n}\n\n\n// Android.addViewToParent(rootId, dom_all, length (window.__ROOTSCREEN.idSet.child) - 1 , callback, null); -- call to this function\nfunction addViewToParent(id, view, index, cb, replace, namespace) {\n  // console.log(\"addViewToParent document location is\",document.location);\n  let parentElement = document.getElementById(id)\n  let parentView = window.__VIEWS[id]\n  view.parent = parentView;\n  let siblingView = null\n\n  if(!parentElement || !parentView){\n    console.error(`Parent element with id: ${id} not found`);\n    return;\n  }\n\n  parentView.children.splice(index, 0, view)\n\n  if(index == 0)\n    siblingView = parentView\n  else\n    siblingView = parentView.children[index-1]\n\n  preComputeLayoutDimens(parentView)\n  let computeList = []\n  var chrome50matchList;\n  if(isChrome50()) {\n    chrome50matchList = {h : [], w: []}\n  }\n  computeChildDimens(parentView);\n  var elem = inflateView({view,  siblingView, namespace, computeList, chrome50matchList}) // pass parent element as null, so that the element created doesn't immediately get attached to the DOM\n  var pv = parentView\n  var pe = parentElement\n  while(pv && pv.type == \"relativeLayout\") {\n    // postComputeLayoutDimens(pv, pe);\n    computeList.unshift(pv.props.id);\n    pv = pv.parent\n    pe = pe.parentElement\n  }\n  // attach the elem to live dom once the elem has been constructed (parentElem is the liveDOM)\n  if (parentElement) {\n    let siblingElement = siblingView ? document.getElementById(siblingView.props.id) : null;\n\n    if (siblingElement && siblingElement != undefined) {\n        if (parentElement == siblingElement) { // Prepend\n            parentElement.insertBefore(elem, parentElement.childNodes[0]);\n          }\n        else { // Insert in specified position\n            let nextSiblingElement = siblingElement.nextSibling;\n            parentElement.insertBefore(elem, nextSiblingElement);\n          }\n      }\n    else {\n        parentElement.appendChild(elem);\n    }\n  }\n  if (!window.hasAnimationProps && postRenderElements.focusedElement !== undefined){\n    setPostRender();\n  }\n  postCompute(computeList);\n  handleMatchParentChrome50(chrome50matchList)\n  if (cb) callbackInvoker.invoke(cb);\n}\n\nfunction removeView(id, namespace) {\n  let viewElem = document.getElementById(id);\n  if(!viewElem){\n    helper.clearViewExternals(view)\n    return\n  }\n\n  let parentId = viewElem.parentNode.id\n  if(!parentId){\n    helper.clearViewExternals(view)\n    viewElem.remove()\n    return\n  }\n\n  let parentElem = document.getElementById(parentId);\n  if(!parentElem){\n    helper.clearViewExternals(view)\n    viewElem.remove()\n    return\n  }\n\n  let view = window.__VIEWS[id]\n\n  if(!view || !view.type)\n    return\n\n  let parent = null\n  let idx\n\n  parent = window.__VIEWS[parentId]\n  if (parent) {\n    idx = parent.children.indexOf(view)\n    parent.children.splice(idx, 1)\n    helper.clearViewExternals(view)\n  }\n  viewElem.remove()\n}\n\nfunction replaceView(view, id, namespace) {\n  let elem = document.getElementById(id)\n  if(!elem)\n    return\n\n  let parentId = elem.parentNode.id\n  let parentElem = document.getElementById(parentId)\n  let parentView = window.__VIEWS[parentId]\n\n  let oldView = null\n  let siblingView = null\n\n  for (let i = 0; i < parentView.children.length; i++) {\n    if(parentView.children[i].props.id == id){\n      oldView = parentView.children[i]\n\n      if(i != 0)\n        siblingView = parentView.children[i-1]\n      else\n        siblingView = parentView\n      break;\n    }\n  }\n\n  if(!oldView)\n    return\n\n  /* Get Children */\n  let childrenElem = []\n  let children = oldView.children\n\n  if(elem && children){\n    for(let i = 0; i < children.length; i++){\n      let childId = children[i].props.id\n      let childElem = document.getElementById(childId)\n\n      if(childElem)\n        childrenElem.push(childElem)\n    }\n  }\n  /* Get Children End */\n\n  oldView.props = view.props\n  parentElem.removeChild(elem)\n  let computeList = []\n  var chrome50matchList;\n  if(isChrome50()) {\n    chrome50matchList = {h : [], w: []}\n  }\n  inflateView({view:oldView, parentElement: parentElem, siblingView, stopChild : true, computeList, chrome50matchList});\n  window.__VIEWS[id] = oldView\n\n  /* Append Children */\n  elem = document.getElementById(id)\n\n  if(elem && childrenElem.length > 0){\n    for(let i = 0; i < childrenElem.length; i++){\n      elem.appendChild(childrenElem[i])\n    }\n  }\n  postCompute(computeList);\n  handleMatchParentChrome50(chrome50matchList)\n  /* Append Children End */\n  setPostRender();\n}\n\nfunction addEventListeners(eventListeners) {\n  for(var i = 0; i<eventListeners.length; i++ ){\n      var view = eventListeners[i].view;\n      var props = view.props\n      var id = eventListeners[i].id;\n      let elem = document.getElementById(id)\n      if(!elem)\n        continue\n      let key = eventListeners[i].event\n      let eventType = key.substring(2, key.length).toLowerCase()\n      if (props.hasOwnProperty(key) && typeof props[key] == \"function\") {\n          const callback = props[key]\n          if (key == \"onEnterPressedEvent\") {\n              elem.addEventListener('keyup', (e) => {\n                  e.stopPropagation()\n\n                  if (e.keyCode == 13) {\n                      callback(e)\n                  }\n              })\n          }\n          if (eventType == \"change\") {\n              elem.addEventListener('input', (e) => {\n                  callback(e.target.value)\n              })\n          } else if (eventType == \"focus\"){\n              elem.addEventListener('focus', (e) => {\n                  callback(\"true\")\n              })\n              elem.addEventListener('blur', (e) => {\n                  callback(\"false\")\n              })\n          } else {\n              props.oldEventListener = props.oldEventListener || {};\n              if (typeof props.oldEventListener[eventType] == \"function\") {\n                  elem.removeEventListener(eventType, props.oldEventListener[eventType]);\n              }\n              props.oldEventListener[eventType] = (e) => {\n                  e.stopPropagation();\n                  callback(e)\n              };\n              elem.addEventListener(eventType, props.oldEventListener[eventType]);\n          }\n      }\n  }\n}\n// function recompute() {\n//   const rootnode = document.getElementById('content');\n//   const child = rootnode.firstElementChild;\n//   const rootview = window.__VIEWS[child.id];\n//   Render(rootview, null);\n// }\n\nfunction getNewID() {\n  window.JOS_PRESTO_ID = window.JOS_PRESTO_ID || 1;\n  return window.JOS_PRESTO_ID++;\n}\n\nfunction getWindow() {\n  return window;\n}\n\nfunction getDocument() {\n  return document;\n}\n\nmodule.exports = {\n  addToContainerList : addToContainerList,\n\n  getScreenDimensions: getScreenDimensions,\n\n  getUIElement : getUIElement,\n\n  runInUI: runInUI,\n\n  Render: Render,\n\n  addViewToParent: addViewToParent,\n\n  moveView: moveView,\n\n  removeView: removeView,\n\n  replaceView: replaceView,\n\n  addEventListeners: addEventListeners,\n\n  getNewID: getNewID,\n\n  getWindow: getWindow,\n\n  getDocument: getDocument,\n\n  setUseHintColor : setUseHintColor\n\n};","\n\n//view.data= itemView && holderViews\n//itemView=template\n//holderViews= array of props that will be changed from the template\n\nconst {invoke} = require(\"../helpers/common/callbackInvoker\")\nconst {clone} = require(\"../helper\")\n\n//sets the holder attributes\nlet setChildAttributes = function(view,holder,itemData,index){\n    \n    for(var key in holder) {\n        if(key == 'onClick') {\n            let onClickFunction =()=> invoke(holder.onClick,index);\n            view.props.onClick = onClickFunction;\n        } else if (itemData.hasOwnProperty(holder[key])) {\n            view.props[key] = itemData[holder[key]]\n        }\n    }\n}\n\nlet setList = function(view,holderViews,itemData,index){\n    if(holderViews[view.props.holderId]){\n        setChildAttributes(view,holderViews[view.props.holderId], itemData,index);\n    }\n    for(let i=0;i<view.children.length;i++){\n        setList(view.children[i], holderViews, itemData,index);\n    }\n    return view;\n    \n}\n\n//gets the mapped view\nlet getItemView = function(view,holderViews,itemData,index){\n\n    if(holderViews[view.props.holderId]  ){\n        setChildAttributes(view,holderViews[view.props.holderId], itemData,index);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \n    }\n    if(view.children)\n    for(let i=0;i<view.children.length;i++){\n        setList(view.children[i], holderViews, itemData, index);\n    }\n    return view;\n    \n}\n\n\n\n//returns \"filter\" if arrays are of different length\n//returns the indexes which have different elements in it\nfunction diffArray(oldItems,newItems){\n    if(oldItems.length!=newItems.length)\n        return \"filter\";\n    let diffIndexes=[];\n    let limit = 10\n    limit = newItems.length>10?10:newItems.length;\n    for(let i =0;i<newItems.length;i++)\n    {\n        let keys = Object.keys(newItems[i]);\n        if(keys)\n        for(let key of keys)\n        {\n            if(newItems[i][key] != oldItems[i][key]){\n                diffIndexes.push(i);\n                break;\n            }\n        }\n    }\n    return diffIndexes;\n}\n\n\n\n  \nfunction mergeHolderViews(holderViews){\n    let finalHolder = {};\n    for(let i=0;i<holderViews.length;i++){\n        if(finalHolder[holderViews[i].id] == undefined){\n            finalHolder[holderViews[i].id] = {};\n        }\n        for(let key in holderViews[i]){\n            finalHolder[holderViews[i].id][key] = holderViews[i][key];\n        }\n    }\n    return finalHolder;\n}\n\n\n\n//generates the list items views\nfunction createListView(view){\n    view.props.data.holderViews = mergeHolderViews(view.props.data.holderViews);\n    view.children=[]\n    changeItemView(view.props.data.itemView);\n    for(let i=0;i<view.props.itemDatas.length;i++){\n        let cloneTemplate = clone(view.props.data.itemView);\n        let childView = getItemView(cloneTemplate,view.props.data.holderViews,view.props.itemDatas[i],i)\n        view.children.push(childView);\n    }\n}\n\nlet itemClick = function(onItemClick){\n    return function(){\n        return function(){\n            onItemClick(i);\n        }\n    }\n}\n\n//Get the child element for a particular index\nlet getChildItemViewByIndex = function(view,i){\n    let cloneTemplate = clone(view.props.data.itemView);\n    // if(view.props.hasOwnProperty('onItemClick')){\n    //     let onItemClick = view.props.onItemClick;\n    //     cloneTemplate.props.onClick =itemClick(onItemClick)(i);\n    // }\n    let res= getItemView(cloneTemplate,view.props.data.holderViews,view.props.itemDatas[i],i)\n    return res;\n}\n\n\n//reformat the template\nfunction changeItemView(view)\n{\n    view.props.holderId = view.props.id;\n    view.props.id = undefined;\n    if(view.children)\n        for( let child of view.children)\n            changeItemView(child);\n}\n\n\nmodule.exports={diffArray,createListView,getItemView,getChildItemViewByIndex};\n\n//newinflated -> isNewInflated\n//add spaces\n//add summary","let utils = require(\"./Utils\");\n\nlet useHintColor = false;\n\nfunction mapPropToStyle(element,props,type){\n    let ele_style = \"\";\n    ele_style += addProps(props);\n    ele_style += addFontProp(props);\n    ele_style += addTransformProp(props);\n    ele_style += addStrokeProp(props);\n    ele_style += addGradientProp(props);\n    ele_style += addRotateProp(props);\n    ele_style += addShadowProp(props);\n    ele_style += addTypeSpecificProp(type,props);\n\n    // TODO: mapPropToStyle should not do these side effect, when merging Render.js and MapAttributes.js, seperate out these functions from here.\n    ele_style += addSetInputTypeProp(element,props); // also sets an attribute on mutable element\n    // setElemAttributes(element,props);\n\n    return ele_style;\n}\n\nlet initializeShow = function (elem, props, type) {\n    var style = \"\";\n    if (type == 'linearLayout') {\n        if (props.hasOwnProperty('width') && props.width == 'wrap_content') {\n            style += \"display: inline-flex;\";\n            style += \"width: max-content;\";\n            // elem.style.display = 'inline-flex';\n            // elem.style.width = 'max-content';\n        } else {\n            style += \"display: flex;\";\n            //elem.style.display = \"flex\";\n        }\n    } else {\n        if (props.hasOwnProperty('width') && props.width == 'wrap_content') {\n            style += \"display:inline-block;\";\n            style += \"width:max-content;\";\n            // elem.style.display = 'inline-block';\n            // elem.style.width = 'max-content';\n        } else {\n            // iFrame/webView display is set to none by default in hyper-sdk-web.\n            // enabling explicitly for visible case.\n            if(type == 'webView') {\n                style += \"display: block;\";\n            }\n            // style += \"display:'';\";\n        //    elem.style.display = '';\n        }\n    }\n    return style;\n}\n\n// Author's Note: Haskel's pattern matching would've made this code prettier. - Convert Presto to Purs?\n// fontStyle take precedence over fontFamily\nfunction addProps(props){\n\n    let ele_style = \"\";\n\n    if ((props.hasOwnProperty(\"onClick\") || props.hasOwnProperty(\"onClickEvent\"))) {\n        if(window.innerWidth > 550 && !props.cursorType) {ele_style += \"cursor:pointer;\";}\n    }\n\n    if (props.hasOwnProperty(\"cursorType\")) { ele_style += \"cursor: \" + props.cursorType + \";\"; }\n\n    if (props.hasOwnProperty(\"textSize\"))   { ele_style += \"font-size: \" + props.textSize + \"px;\"; }\n\n    if (props.hasOwnProperty(\"fontSize\"))   { ele_style += \"font-size: \" + props.fontSize + \"px;\"; }\n\n    if (props.hasOwnProperty(\"backgroundColor\")) { ele_style += \"background-color: \" + utils.parseColors(props.backgroundColor) + \";\"};\n\n    if (props.hasOwnProperty(\"background\") && !props.hasOwnProperty(\"shouldShimmer\")) { ele_style += \"background: \" + utils.parseColors(props.background) + \";\"};\n\n    if (props.hasOwnProperty(\"background\") && props.hasOwnProperty(\"shouldShimmer\") && props.shouldShimmer) {\n        shimmerColor = utils.parseColors(props.background);\n        ele_style += \"animation : shimmer 2s infinite;\";\n        ele_style += \"background-color: \" + shimmerColor + \";\";\n        ele_style += \"background-repeat: no-repeat;\";\n        ele_style += \"background-image: linear-gradient(to right,\" + shimmerColor + \" 0%, #e0e0e0 20%, \" + shimmerColor + \" 40%, \" + shimmerColor + \" 100%);\";\n        ele_style += \"background-size: \" + props.width + \" 100%;\";\n    }\n\n    if (props.hasOwnProperty(\"backgroundDrawable\")) { ele_style += \"background-image: \" + \"url('\"+props.backgroundDrawable+\"')\" + \";\"};\n\n    if (props.hasOwnProperty(\"color\")) { ele_style += \"color: \" + utils.parseColors(props.color) + \";\"};\n\n    if (props.hasOwnProperty(\"position\")) {ele_style += \"position: \" + props.position + \";\"};\n\n    if (props.hasOwnProperty(\"bottomFixed\")) {ele_style += \"bottom: \" + props.bottomFixed + \";\"};\n\n    if (props.hasOwnProperty(\"topFixed\")) {ele_style += \"top: \" + props.topFixed + \";\"};\n\n    if (props.hasOwnProperty(\"leftFixed\")) {ele_style += \"left: \" + props.leftFixed + \";\"};\n\n    if (props.hasOwnProperty(\"rightFixed\")) {ele_style += \"right: \" + props.rightFixed + \";\"};\n\n    if (props.hasOwnProperty(\"zIndex\")) {ele_style += \"z-index:\" + props.zIndex + \";\"};\n\n    if (props.hasOwnProperty(\"cornerRadius\")) {ele_style += \"border-radius:\" + props.cornerRadius + \"px;\"};\n\n    if (props.hasOwnProperty(\"cornerRadii\")) {\n        const [radius, ...corners] = props.cornerRadii.split(',');\n        ele_style += \"border-radius: \" + corners.map(bool => `${bool * radius}px`).join(' ') + \";\";\n    }\n\n    if (props.hasOwnProperty(\"alpha\")) {ele_style += \"opacity:\" + props.alpha + \";\"};\n\n    if (props.hasOwnProperty(\"fontFamily\")) {ele_style += \"font-family:\" + props.fontFamily + \";\"};\n\n    if (props.hasOwnProperty(\"blurBackground\") && props.blurBackground) {ele_style += \"backdrop-filter: blur(3px)\";}\n\n    if (props.hasOwnProperty(\"lineHeight\")) {ele_style += \"line-height: \" + props.lineHeight + \";\";}\n\n    if (props.hasOwnProperty(\"objectFit\")) {ele_style += \"object-fit: \" + props.objectFit + \";\";}\n\n    if (props.hasOwnProperty(\"clickable\")) {ele_style += \"pointer-events: \" + (props.clickable ? \"auto\" : \"none\") + \";\";}\n\n    if (props.hasOwnProperty(\"display\")) { ele_style += \"display:\" + props.display + \";\"; }\n\n    if (props.ellipsize) { ele_style += \"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\";}\n\n    return ele_style;\n\n}\n\n// These values are hardcoded likely since same prestoDOM property is being used for Android, iOS and Web\nfunction addFontProp(props){\n\n    let ele_style = \"\";\n\n\n    if (props.typeface) {\n        switch(props.typeface){\n            case 'normal':\n            ele_style += \"font-weight: 400;\";\n            break;\n            case 'bold':\n            ele_style += \"font-weight: 700;\";\n            break;\n            case 'italic':\n            ele_style += \"font-style: italic;\";\n            break;\n            case 'bold_italic':\n            ele_style += \"font-weight: 700;\";\n            ele_style += \"font-style: italic;\";\n            break;\n            case 'underline':\n            ele_style += \"text-decoration: underline;\";\n            break;\n        }\n    }\n\n    if (props.fontStyle) {\n\n        let match = props.fontStyle.match(/[/-]/);\n        let fontName = match ? props.fontStyle.slice(0, match.index) : props.fontStyle;\n\n        ele_style += \"font-family:\" + fontName + \";\";\n\n        if (match) {\n            let type = props.fontStyle.slice(match.index + 1);\n            type = type.replace(/[-/]/g, '');\n            type  = type.toLowerCase();\n\n            if (type.indexOf('italic') != -1)\n                ele_style += \"font-style: italic;\";\n\n            let fontWeight = 0;\n\n            if (type.indexOf('extralight') != -1)\n                fontWeight = 200;\n            else if (type.indexOf('light') != -1)\n                fontWeight = 300;\n            else if (type.indexOf('regular') != -1 || type.indexOf('book') != -1)\n                fontWeight = 400;\n            else if (type.indexOf('semibold') != -1 || type.indexOf('medium') != -1)\n                fontWeight = 500;\n            else if (type.indexOf('bold') != -1 || type.indexOf('heavy') != -1)\n                fontWeight = 700;\n            else if (type.indexOf('black') != -1)\n                fontWeight = 900;\n\n            if(fontWeight > 0)\n                ele_style += \"font-weight:\"+ fontWeight +\";\";\n        }\n    }\n\n\n    return ele_style;\n}\n\n\nfunction addTransformProp(props){\n    let ele_style = \"\";\n    let transform = \"\";\n    if (props.translationX) {transform += \"translateX(\" + props.translationX + \"px) \"};\n\n    if (props.translationY) {transform += \"translateY(\" + props.translationY + \"px) \"};\n\n    if (props.scaleX) {transform += \"scaleX(\" + props.scaleX + \") \"};\n\n    if (props.scaleY) {transform += \"scaleY(\" + props.scaleY + \") \"};\n\n    if (props.rotation) {transform += \"rotate(\" + props.rotation + \") \"};\n\n    if (props.rotationX) {transform += \"rotateX(\" + props.rotationX + \") \"};\n\n    if (props.rotationY) {transform += \"rotateY(\" + props.rotationY + \") \"};\n\n    // if (key == \"translationZ\") {\n    //     var v = config[key];\n    //     config.style[\"-webkit-box-shadow\"] = \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    //     config.style[\"-moz-box-shadow\"]= \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    //     config.style[\"box-shadow\"]=  \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n\n    //   }\n    if (transform.length > 0) {ele_style += \"transform : \" + transform + \";\"};\n    return ele_style;\n}\n\n\nfunction addStrokeProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"stroke\")) {\n      let values = props.stroke.split(\",\");\n      if (values[1]) {\n        values[1] = utils.parseColors(values[1]);\n      }\n      if (values.length == 2) {\n        ele_style += \"border: \" + values[0] + \"px solid \" + values[1] + \";\";\n      } else if (values.length == 3) {\n        strokeMap = {\n          b: \"border-bottom\",\n          t: \"border-top\",\n          r: \"border-right\",\n          l: \"border-left\",\n        };\n\n        for (var i of values[2]) {\n          if (strokeMap[i] !== undefined)\n            ele_style +=\n              strokeMap[i] + \": \" + values[0] + \"px solid \" + values[1] + \";\";\n        }\n      }\n    }\n\n    if (props.hasOwnProperty(\"strokeTop\")) {\n        let values = props.strokeTop.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-top: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-top: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeRight\")) {\n        let values = props.strokeRight.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-right: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-right: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeBottom\")) {\n        let values = props.strokeBottom.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-bottom: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-bottom: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeRight\")) {\n        let values = props.strokeRight.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-right: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-right: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    if (props.hasOwnProperty(\"strokeLeft\")) {\n        let values = props.strokeLeft.split(\",\");\n        if(values.length == 2)\n            ele_style += \"border-left: \" + values[0] + \"px solid \" + values[1] + \";\";\n        else if(values.length == 3)\n            ele_style += \"border-left: \" + values[0] + \"px  \" + values[1] + \" \" + values[2] + \";\";\n    }\n\n    return ele_style;\n}\n\nfunction addGradientProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"gradient\")) {\n        var gradientObj =JSON.parse(props.gradient);\n        if (gradientObj.type == \"linear\") {\n          var angle = gradientObj.angle;\n          var values = gradientObj.values;\n          var colors = values.join(\", \");\n          ele_style += \"background-image: \" + \"linear-gradient(\"+angle+\"deg, \"+colors+\");\";\n        }\n        else {\n          var values = gradientObj.values;\n          var colors = values.join(\", \");\n          ele_style += \"background-image: \" + \"radial-gradient(\"+colors+\");\";\n        }\n    }\n\n    return ele_style;\n}\n\nfunction addTransitionValue(props) {\n    //let elem_transition = props.transition == undefined ? \"0ms all\" : props.transition // It will always be undefined lol\n    var transition_val = [String(props.a_duration || 0) +\"ms\",\"all\",props.transitionTimingFunction].filter(Boolean).join(\" \");\n    return \"transition:\" + transition_val + \";\";\n\n\n}\nfunction addSize(view = {}){\n\n    var props = view.props\n    var parentView = view.parent || {}\n    parentView.state = parentView.state || {}\n    view.state = view.state || {}\n    var parentProps = parentView.props || {}\n    // Add elem as an argument if you are gonna uncomment it\n    // elem.style.width = 'auto';\n    // elem.style.height = 'auto';\n    let elem_style = \"width : auto; \";\n    elem_style += \"height: auto; \";\n\n\n    if (props.hasOwnProperty('width')) {\n        if (props.width == 'match_parent' && !parentView.state.treatMatchParentAsWrapWidth) {\n            // treat parent wrap content as wrap_content instead of match_parent\n            if(props.hasOwnProperty('margin')){\n                var margin=props.margin.split(\",\");\n                elem_style += \"width:\" + \"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px );\";\n            }\n            else elem_style += \"width : 100%; \";\n            //elem.style.width = '100%';\n        } else if (props.width == 'match_parent' && parentView.state.treatMatchParentAsWrapWidth) {\n            view.state.practicalWidth = 'wrap_content'\n        } else if (props.width == 'wrap_content') {\n            view.state.practicalWidth = 'wrap_content';\n        } else if (!isNaN(props.width)) {\n            if (props.hasOwnProperty('percentWidth') && props.percentWidth)\n                elem_style += \"width: \" + props.width + \"%;\";\n                // elem.style.width = props.width + '%';\n            else\n            elem_style += \"width: \" + props.width + \"px;\";\n            //elem.style.width = props.width + 'px';\n        }\n    }\n    if (props.hasOwnProperty('height')) {\n        if (props.height == 'match_parent' && !parentView.state.treatMatchParentAsWrapHeight) {\n            elem_style += \"height: 100%;\";\n            // elem.style.height = '100%';\n        } else if (props.height == 'match_parent' && parentView.state.treatMatchParentAsWrapHeight) {\n            view.state.practicalHeight = 'wrap_content'\n            elem_style += \"height: auto;\";\n            //elem.style.height = \"auto\";\n            // You see below\n        } else if (props.height == 'wrap_content') {\n            view.state.practicalHeight = 'wrap_content'\n        } else if (!isNaN(props.height)) {\n            if (props.hasOwnProperty('percentHeight') && props.percentHeight)\n                elem_style += \"height: \" + props.height + \"%;\";\n//                elem.style.height = props.height + '%';\n            else\n                elem_style += \"height: \" + props.height + \"px;\";\n//            elem.style.height = props.height + 'px';\n        }\n    }\n\n    if (props.hasOwnProperty('minWidth') && !isNaN(props.minWidth)) {\n        if (props.percentMinWidth)\n            elem_style += \"min-width: \" + props.minWidth + \"%;\";\n//            elem.style.minWidth = props.minWidth + '%';\n        else\n            elem_style += \"min-width: \" + props.minWidth + \"px;\";\n\n        //    elem.style.minWidth = props.minWidth + 'px';\n    }\n\n    if (props.hasOwnProperty('minHeight') && !isNaN(props.minHeight)) {\n        if (props.percentMinHeight)\n            elem_style += \"min-height: \" + props.minHeight + \"%;\";\n            // elem.style.minHeight = props.minHeight + '%';\n        else\n            elem_style += \"min-height: \" + props.minHeight + \"px;\";\n            // elem.style.minHeight = props.minHeight + 'px';\n    }\n\n    if (props.hasOwnProperty('maxWidth') && !isNaN(props.maxWidth)) {\n        if (props.percentMaxWidth)\n            elem_style += \"max-width: \" + props.maxWidth + \"%;\";\n//            elem.style.maxWidth = props.maxWidth + '%';\n        else\n            elem_style += \"max-width: \" + props.maxWidth + \"px;\";\n        //            elem.style.maxWidth = props.maxWidth + 'px';\n    }\n\n    if (props.hasOwnProperty('maxHeight') && !isNaN(props.maxHeight)) {\n        if (props.percentMaxHeight)\n            elem_style += \"max-height: \" + props.maxHeight + \"%;\";\n       // elem.style.maxHeight = props.maxHeight + '%';\n        else\n            elem_style += \"max-height: \" + props.maxHeight + \"px;\";\n            //elem.style.maxHeight = props.maxHeight + 'px';\n    }\n    return elem_style;\n}\n\nfunction addBorder(props) {\n    let elem_style = \"\";\n    if (props.hasOwnProperty('padding')) {\n        let padding = props.padding.split(',').map(a => a * 1);\n        elem_style += \"padding: \" + padding[1] + \"px \" + padding[2] + \"px \" + padding[3] + \"px \" + padding[0] + \"px;\";\n//        elem.style['padding'] = padding[1] + 'px ' + padding[2] + 'px ' + padding[3] + 'px ' + padding[0] + 'px';\n    }\n\n    if (props.hasOwnProperty('margin')) {\n        let margin = props.margin.split(',').map(a => a * 1);\n        elem_style += \"margin: \" + margin[1] + \"px \" + margin[2] + \"px \" + margin[3] + \"px \" + margin[0] + \"px;\";\n//        elem.style['margin'] = margin[1] + 'px ' + margin[2] + 'px ' + margin[3] + 'px ' + margin[0] + 'px';\n    }\n    return elem_style;\n}\n\nfunction addVisibility(elem, props, type) {\n    let elem_style = \"\";\n    if (props.hasOwnProperty('visibility')) {\n        let visibility = props.visibility;\n        if (visibility == 'invisible')\n            elem_style += \"visibility: hidden;\";\n            //elem.style.visibility = \"hidden\";\n        else if (visibility == 'gone')\n            elem_style += \"display: none;\";\n            //elem.style.display = \"none\";\n        else {\n            // elem_style += \"visibility: '';\";\n            //elem.style.visibility = '';\n            elem_style += initializeShow(elem, props, type);\n        }\n    } else {\n        elem_style += initializeShow(elem, props, type);\n    }\n    return elem_style;\n}\n\nfunction addExpandability(elem, props, type) {\n    let elem_style = \"\";\n    if (type == \"accordionLayout\" && props.hasOwnProperty('expand')) {\n        elem_style += \"overflow: hidden;\";\n        var anim_duration = 0; // default anim duration in seconds\n        var maxHeight;\n        if (props.hasOwnProperty('maxHeight')) {\n            maxHeight = props.maxHeight;\n        } else {\n            maxHeight = utils.calculateHeight(elem);\n            if (elem.querySelector(\".accordionLayout\")) {\n                maxHeight += 200; // Magic number if nested accordionlayout\n            };\n        }\n        if (props.hasOwnProperty('expandDuration')) {\n            anim_duration = +props.expandDuration / 1000;\n        }\n        elem_style += \"transition: max-height \" + anim_duration + \"s ease-in-out;\";\n        if (props.expand){\n            elem_style +=  \"max-height: \" + (maxHeight <= 0 ? 1080 : maxHeight) + \"px;\";\n        }\n        else {\n            elem_style += \"max-height: 0px;\";\n        }\n    }\n    return elem_style;\n}\nfunction addOverFlow(props) {\n    let elem_style =\"\";\n    if (props.hasOwnProperty('overFlowVisible')) {\n        if (props.overFlowVisible) {\n            elem_style += \"overflow: visible;\";\n            // elem.style.overflow = \"visible\"\n        }\n    }\n    return elem_style;\n}\nfunction setGravityStylesForRow(elem, props) {\n\n    var gravity_row_style = \"\";\n\n    if (!props.hasOwnProperty('gravity') || !props.gravity) {\n        props.gravity = '';\n        //return;\n    }\n\n    switch (props.gravity) {\n        case 'center_vertical':\n            gravity_row_style += \"align-items: center;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n\n            // elem.gravity_row_style['align-items'] = 'center';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        case \"bottom\":\n          gravity_row_style += \"align-items: flex-end;\" ;\n          break;\n        case 'center_horizontal':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: center;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'center';\n            break;\n        case 'center':\n            gravity_row_style += \"align-items: center;\";\n            gravity_row_style += \"justify-content: center;\";\n            // elem.gravity_row_style['align-items'] = \"center\";\n            // elem.gravity_row_style['justify-content'] = \"center\";\n            break;\n        case 'left':\n        case 'start':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        case 'right':\n        case 'end':\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-end;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-end';\n            break;\n        case 'stretch':\n            gravity_row_style += \"align-items: stretch;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'stretch';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n        default:\n            gravity_row_style += \"align-items: flex-start;\";\n            gravity_row_style += \"justify-content: flex-start;\";\n            // elem.gravity_row_style['align-items'] = 'flex-start';\n            // elem.gravity_row_style['justify-content'] = 'flex-start';\n            break;\n    }\n\n    return gravity_row_style;\n}\nfunction setGravityStylesForColumn(elem, props) {\n\n    var gravity_col_style = \"\";\n    if (!props.hasOwnProperty('gravity') || !props.gravity) {\n        props.gravity = '';\n        //return;\n    }\n\n    switch (props.gravity) {\n        case 'center_vertical':\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: center;\";\n            // elem.style['align-items'] = 'flex-start';\n            // elem.style['justify-content'] = 'center';\n            break;\n        case \"bottom\":\n          gravity_col_style += \"justify-content: flex-end;\";\n          break;\n        case 'center_horizontal':\n            gravity_col_style += \"align-items: center;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'center';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        case 'center':\n            gravity_col_style += \"align-items: center;\";\n            gravity_col_style += \"justify-content: center;\";\n            // elem.style[\"align-items\"] = \"center\";\n            // elem.style[\"justify-content\"] = \"center\";\n            break;\n        case 'left':\n        case 'start':\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['justify-content'] = 'flex-start';\n            // elem.style['align-items'] = 'flex-start';\n            break;\n        case 'right':\n        case 'end':\n            gravity_col_style += \"align-items: flex-end;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'flex-end';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        case 'stretch':\n            gravity_col_style += \"align-items: stretch;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'stretch';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n        default:\n            gravity_col_style += \"align-items: flex-start;\";\n            gravity_col_style += \"justify-content: flex-start;\";\n            // elem.style['align-items'] = 'flex-start';\n            // elem.style['justify-content'] = 'flex-start';\n            break;\n    }\n    return gravity_col_style;\n}\n\nfunction addLayout(elem, type, props) {\n    let scrollBarX = props.hasOwnProperty('scrollBarX')?props.scrollBarX:true;\n    let scrollBarY = props.hasOwnProperty('scrollBarY')?props.scrollBarX:true;\n    let scrollBarVisible = props.hasOwnProperty('scrollBarVisible')?props.scrollBarVisible:false; // by default, hiding the scrollbar, unless `scrollBarVisible` prop is used\n    let elem_style = \"\";\n    switch(type){\n        case 'linearLayout':\n            elem_style += \"box-sizing: border-box;\";\n            //elem.style[\"box-sizing\"] = \"border-box\";\n\n            if(!scrollBarVisible){\n                elem_style += \"scrollbar-width: none;\"\n                elem_style += \"-ms-overflow-style: none;\"\n            }\n\n            if (props.hasOwnProperty('fixedWrap') && !props.fixedWrap) {\n                elem_style += \"flex-wrap: nowrap;\";\n                //elem.style[\"flex-wrap\"] = \"nowrap\";\n            } else {\n                // elem_style += \"flex-wrap: wrap;\";\n                //elem.style[\"flex-wrap\"] = \"wrap\";\n            }\n\n\n            let orient = props.orientation == \"vertical\" ? \"column\" : \"row\";\n            elem_style += \"flex-direction: \" + orient + \";\";\n            // elem.style[\"flex-direction\"] =\n\n            if (orient == 'row')\n                elem_style += setGravityStylesForRow(elem, props);\n            else\n                elem_style += setGravityStylesForColumn(elem, props);\n\n            // if (elem.style[\"flex-direction\"] == 'row')\n            //     setGravityStylesForRow(elem, props);\n            // else\n            //     setGravityStylesForColumn(elem, props);\n\n            if (props.hasOwnProperty('scrollBarX')) {\n                if (props.scrollBarX)\n                    elem_style += \"overflow-x: auto;\";\n//                  elem.style.overflowX = 'auto'\n                else\n                    elem_style += \"overflow-x: hidden;\";\n//              elem.style.overflowX = 'hidden'\n            }\n\n            if (props.hasOwnProperty('scrollBarY')) {\n                if (props.scrollBarY)\n                    elem_style += \"overflow-y: auto;\";\n                    // elem.style.overflowY = 'auto'\n                else\n                    elem_style += \"overflow-y: hidden;\";\n                    // elem.style.overflowY = 'hidden'\n            }\n            break;\n        case \"horizontalScrollView\":\n            elem_style += \"overflow-x: auto;\";\n            elem_style += \"overflow-y: hidden;\";\n            // elem.style.overflowX = \"auto\";\n            // elem.style.overflowY = \"hidden\";\n\n            // if (!scrollBarX)\n            //     elem_style += \"overflow-x: hidden;\";\n            break;\n        case 'listView':\n            elem_style += \"overflow-x: hidden;\";\n            elem_style += \"overflow-y: auto;\";\n\n            // elem.style.overflowY = \"auto\";\n            // elem.style.overflowX = \"hidden\";\n\n            // if (!scrollBarY)\n            //     elem_style += \"overflow-y: hidden;\";\n                // elem.style.overflowY = 'hidden';\n            break;\n        case 'scrollView':\n            elem_style += \"overflow-x: auto;\";\n            elem_style += \"overflow-y: auto;\";\n\n            // elem.style.overflowX = 'auto';\n            // elem.style.overflowY = 'auto';\n\n            // if (!scrollBarX)\n            //     elem_style += \"overflow-x: hidden;\";\n            // if (!scrollBarY)\n            //     elem_style += \"overflow-y: hidden;\";\n            if(!scrollBarVisible){\n                elem_style += \"scrollbar-width: none;\" //Hide Scrollbar for Firefox\n                elem_style += \"-ms-overflow-style: none;\" //Hide Scrollbar for IE and Edge\n            }\n            break;\n        case 'relativeLayout':\n            elem_style += \"position: relative;\";\n            // elem.style.position = 'relative';\n\n            if (props.hasOwnProperty('scrollBarX')) {\n                if (props.scrollBarX)\n                    elem_style += \"overflow-x: auto;\";\n                    // elem.style.overflowX = 'auto'\n                else\n                    elem_style += \"overflow-x: hidden;\";\n                    // elem.style.overflowX = 'hidden'\n                }\n\n                if (props.hasOwnProperty('scrollBarY')) {\n                    if (props.scrollBarY)\n                        elem_style += \"overflow-y: auto;\";\n                        //  elem.style.overflowY = 'auto'\n                    else\n                        elem_style += \"overflow-y: hidden;\";\n                //          elem.style.overflowY = 'hidden'\n        }\n    }\n\n    return elem_style;\n}\n\nfunction addImage(type,props,elem) {\n    if (type == 'imageView') {\n        if (props.imageUrl||props.gifUrl) {\n            let imageUrl = props.imageUrl||props.gifUrl;\n\n            if (props.rawData) {\n                // Do Nothing\n            } else {\n                let temp = imageUrl.split('.')\n                let ext = ''\n                if (temp && temp.length > 0)\n                    ext = temp[temp.length - 1]\n\n                let exts = [\"jpeg\", \"jpg\", \"png\", \"bmp\", \"svg\", \"gif\"]\n                ext = ext.toLowerCase()\n\n                if(!imageUrl.includes(\"data:image/\") && !exts.includes(ext)) {\n                    imageUrl += '.png'\n                }\n            }\n            if (window.generateVdom) {\n                elem.setAttribute('src2', imageUrl);\n            } else {\n                elem.setAttribute('src', imageUrl);\n            }\n            if(props.gifUrl && (!window.generateVdom))\n            {\n                var delay = props.frameDelay || 50;\n                var totalDelay = delay * props.numFrames;\n                var ind = props.gifUrl.lastIndexOf('.')\n                var lastImg = props.gifUrl.substr(0,ind)+(props.numFrames-1)+\".png\";\n                setTimeout(function(){elem.setAttribute('src',lastImg);},totalDelay);\n            }\n        }\n    }\n}\nfunction findArticle(children){\n    let article = null;\n    if (children.length) {\n        for (let i = 0; i < children.length; i++) {\n            if (children[i].nodeName.toLowerCase() == 'article') {\n                article = children[i]\n                break\n            }\n        }\n    }\n    return article? article:document.createElement('article');\n}\nfunction getArticle(children, config) {\n    let article = findArticle(children);\n\n    if (config.isHtmlContent)\n        article.innerHTML = config.textFromHtml\n    else\n        article.textContent = config.text\n    article.style.wordBreak = \"break-word\"\n    article.style.display = \"inline\"\n    return article;\n\n}\nfunction getTextStyle(config){\n    let text = \"white-space:initial;\";\n    return config.letterSpacing ? text + \"letter-spacing:\"+config.letterSpacing+\";\" : text;\n}\nfunction createTextElement(elem, config) {\n\n    let text_style = getTextStyle(config);\n    let article = getArticle(elem.childNodes, config);\n    elem.appendChild(article)\n    return text_style;\n}\n\nfunction patternCheck(props)\n{\n    var data = props.pattern.split(',');\n    var length = parseInt(data.pop());\n    var regexString = data.join('');\n    var finalData = props.text\n    if (length && finalData.length > length)\n        return false;\n    if(props.hasOwnProperty(\"separator\"))\n    {\n        finalData = finalData.replace(new RegExp(props.separator, 'g') , \"\");\n    }\n    if (regexString) {\n        var regexPattern = new RegExp(regexString);\n        if (!regexPattern.test(finalData)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction addTextProperties(props, elem, type) {\n    let elem_style = \"\"\n    if (props.hasOwnProperty(\"text\")){\n        if (type == \"editText\")\n        {\n            elem.value = props.text;\n            if(props.hasOwnProperty(\"pattern\"))\n            {\n                if(patternCheck(props))\n                {\n                    elem.oldValidValue = props.text;\n                }\n            }\n        }\n        else\n            elem_style += createTextElement(elem, props)\n    }\n\n    if (props.hasOwnProperty(\"textFromHtml\")) {\n        props.isHtmlContent = true;\n        if (type == \"editText\")\n            elem.value = props.textFromHtml\n        else\n            elem_style += createTextElement(elem, props)\n    }\n    delete props.text;\n    return elem_style;\n}\nfunction addClassNameProperties(props, elem) {\n    if (props.hasOwnProperty(\"className\")) {\n        if ((props.className || \"\").trim() !== \"\") {\n            props.className.split(\" \").map(className => {\n                elem.classList.add(className);\n            })\n        }\n    }\n\n    if (props.hasOwnProperty(\"classList\")) {\n        JSON.parse(props.classList).forEach(function (obj) {\n            elem.classList.add(obj);\n        });\n    }\n\n    if (props.hasOwnProperty(\"removeClassList\")){\n        JSON.parse(props.removeClassList).forEach(function (obj) {\n            elem.classList.remove(obj);\n        });\n    }\n}\nfunction addFunctions(props, elem) {\n    let elem_style =\"\";\n    for (let key in props) {\n        if (props[key] && typeof props[key] == \"function\") {\n            var eventType = key.substring(2, key.length).toLowerCase();\n            var elemCB = props[key];\n            elem_style += \"user-select: none;\";\n            //elem.style.userSelect = 'none';\n            if (eventType == \"change\") {\n                eventType = \"input\";\n            }\n\n            elem.addEventListener('blur', function () {\n                var inputValue = elem.value;\n                if (inputValue == \"\") {\n                    elem.classList.remove(\"filled\");\n                    elem.parentNode.classList.remove('focused');\n                } else {\n                    elem.classList.add('filled');\n                }\n            });\n\n            elem['onfocus'] = function (e) {\n                elem.parentNode.classList.add('focused');\n                if (eventType == \"focus\") {\n                    e.stopPropagation();\n                    elemCB(e);\n                }\n            };\n        }\n    }\n    return elem_style;\n}\nfunction addAnimationAttributes(props) {\n    let elem_style =\"\";\n    var animation_transition = getAnimeTransition(props);\n\n    var animation_transform = getAnimeTransform(props);\n\n    var animation_opacity = getAnimeOpacity(props);\n\n    if (animation_transition.length > 0 && (animation_transform.length + animation_opacity.length > 0)) { // this will need to be renamed actually to VDOM output's\n        const afterTransition = () => {\n            elem_style += animation_transition;\n            if (animation_transform.length > 0) elem_style += animation_transform;\n            if (animation_opacity.length > 0) { elem_style += animation_opacity;}\n        };\n\n        if (props.style.transform || props.style.opacity) {\n            setTimeout(afterTransition, 100); // Why is a time out here?\n        } else {\n            afterTransition();\n        }\n    }\n    return elem_style;\n}\n\nfunction addTypeSpecificProp(type,props){\n\n    let ele_style = \"\";\n\n    if (props.hasOwnProperty('visibility')){\n        if (props.visibility == \"gone\") return ele_style;\n    }\n\n    if (props.hasOwnProperty('display')){\n        if (props.display == \"none\") return ele_style;\n    }\n\n\n    if (type == \"textView\" && props.hasOwnProperty(\"gravity\")) {\n        ele_style += \"text-align:\"+props.gravity+\";\";\n\n        if (props.gravity == \"center_vertical\") {\n            ele_style += \"align-items:center;\";\n            ele_style += \"display:flex;\";\n        }\n        else if (props.gravity == \"center_horizontal\") {\n            ele_style += \"justify-content:center;\";\n            ele_style += \"display:flex;\";\n        }\n        else if (props.gravity == \"center\") {\n            ele_style += \"justify-content:center;\";\n            ele_style += \"align-items:center;\";\n            ele_style += \"display:flex;\";\n        }\n    }\n\n    if (type == \"linearLayout\" && props.hasOwnProperty(\"gravity\")){\n        if (props.margin && props.gravity==\"center_vertical\"){\n\n            var margin=props.margin.split(\",\");\n            if (props.width == \"match_parent\"){\n                let width = \"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px )\";\n                ele_style += \"width:\" + width + \";\";\n            }\n        }\n    }\n\n    if (type == \"editText\") {\n\n        if(props.hasOwnProperty(\"gravity\"))\n            ele_style += \"text-align:\"+ props.gravity + \";\";\n\n        ele_style += \"user-select: text !important;\";\n    }\n\n    return ele_style;\n}\n\n\n\n\nfunction addRotateProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"rotateImage\")){\n        if(props.rotateImage){\n          ele_style += \"-webkit-animation:load3 4s infinite linear;\";\n          ele_style += \"animation-duration:4s;\";\n          ele_style += \"animation-timing-function:linear;\";\n          ele_style += \"animation-delay:0s;\";\n          ele_style += \"animation-iteration-count:infinite;\";\n          ele_style += \"animation-direction:normal;\";\n          ele_style += \"animation-fill-mode:none;\";\n          ele_style += \"animation-play-state:running;\";\n          ele_style += \"animation-name:rotation;\";\n        }\n    }\n\n    return ele_style;\n}\n\nfunction addShadowProp(props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"shadow\")) {\n        var shadowValues = props.shadow.split(props.shadowSeparator || ',');\n        var shadowBlur = utils.rWS(utils.cS(shadowValues[2]));\n        var shadowSpread = utils.rWS(utils.cS(shadowValues[3]));\n        var shadowOpacity = utils.rWS(utils.cS(shadowValues[5]));\n        var shadowOffset = {\n            x: utils.rWS(utils.cS(shadowValues[0])),\n            y: utils.rWS(utils.cS(shadowValues[1]))\n          };\n\n        var shadowColor = utils.convertColorToRgba(shadowValues[4]);\n        var shadowType = props.shadowType ? `${props.shadowType} ` : ''\n\n        ele_style += \"box-shadow:\" + shadowType + parseInt(shadowOffset.x) + \"px \" + parseInt(shadowOffset.y) + \"px \" + parseInt(shadowBlur) + \"px \" + parseInt(shadowSpread) + \"px rgba(\" + shadowColor.r + \", \" +  shadowColor.g + \", \" +  shadowColor.b + \", \" + (shadowColor.a * shadowOpacity) + \");\" ;\n    }\n\n    return ele_style;\n}\n\n\nfunction addSetInputTypeProp(ele,props){\n\n    var ele_style = \"\";\n\n    if (props.hasOwnProperty(\"inputType\")) {\n\n        var inputType = \"text\";\n\n        if (props.inputType == \"numericPassword\" || props.inputType == \"password\") {\n          if(props.inputType == \"numericPassword\"){\n            ele.setAttribute(\"inputmode\",\"numeric\");\n          }\n          if(props.inputTypeI == 4 && window.innerWidth < 550 || navigator.userAgent.search(\"Firefox\") === -1){ // This feels like a very specific use-case? Investigate\n            inputType = \"tel\";\n            ele_style += \"-webkit-text-security:disc;\";\n            ele_style += \"-moz-text-security:disc;\";\n            ele_style += \"text-security:disc;\";\n            ele.setAttribute(\"autocomplete\",\"off\");\n          }\n          else {\n            ele.setAttribute(\"autocomplete\",\"new-password\");\n            inputType = \"password\";\n          }\n        }\n\n        else if (props.inputType == \"disabled\") {\n            ele.setAttribute(\"disabled\",\"disabled\");\n        }\n\n        else if(props.inputType === \"telephone\" || props.inputType === \"numeric\") {\n            inputType = \"tel\";\n        }\n\n        if (props.hasOwnProperty(\"separator\")) {\n          if(props.inputType == \"numeric\"){\n            inputType = \"tel\"\n          } else {\n            inputType = \"text\"\n          }\n        }\n\n        ele.setAttribute(\"type\",inputType);\n    }\n\n    return ele_style;\n}\n\n\nfunction getAnimeTransform(props){\n\n    var elem_style_value = \"\";\n\n    if (props.hasOwnProperty(\"a_translationY\")) {\n        elem_style_value += \"translateY(\" + props[\"a_translationY\"] + \"px) \";\n    }\n\n    if (props.hasOwnProperty(\"a_translationX\")) {\n        elem_style_value += \"translateX(\" + props[\"a_translationX\"] + \"px) \";\n    }\n\n    if (props.hasOwnProperty(\"a_scaleX\")) {\n        elem_style_value += \"scaleX(\" + props[\"a_scaleX\"] + \") \";\n    }\n\n    if (props.hasOwnProperty(\"a_scaleY\")) {\n        elem_style_value += \"scaleY(\" + props[\"a_scaleY\"] + \") \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotation\")) {\n        elem_style_value += \"rotate(\" + props[\"a_rotation\"] + \"deg) \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotationX\")) {\n        elem_style_value += \"rotateX(\" + props[\"a_rotationX\"] + \"deg) \";\n    }\n\n    if (props.hasOwnProperty(\"a_rotationY\")) {\n        elem_style_value += \"rotateY(\" + props[\"a_rotationY\"] + \"deg) \";\n    }\n\n\n\n    if (elem_style_value.length > 0)\n        return \" transform: \"+ elem_style_value +\";\";\n    else\n        return \"\";\n\n}\n\n\nfunction getAnimeOpacity(props){\n    if (props.hasOwnProperty(\"a_alpha\")){\n        return \"opacity: \" + props[\"a_alpha\"] + \"; \";\n    }\n    else\n        return \"\";\n}\n\nfunction getAnimeTransition(props){\n\n    if (props.hasOwnProperty(\"a_duration\") && !isNaN(props[\"a_duration\"])) {\n        const suffix = props.transitionTimingFunction ? (\" \" + props.transitionTimingFunction) : \"\";\n        return \"transition: \" + props[\"a_duration\"] + 'ms all' + suffix + \";\";\n    }\n    else return \"\";\n\n}\n\n// add attributes to the mutable element\nfunction setElemAttributes(element,props){\n\n    if (props.hasOwnProperty(\"url\")) { element.setAttribute('src',props.url) }\n\n    if (props.hasOwnProperty(\"autofocus\") && (navigator.userAgent.indexOf(\"iPhone\") == -1)) { element.setAttribute('autofocus','autofocus') }; // device should not be an iphone\n\n\n    if(props.hasOwnProperty(\"focus\")) {\n            if (props.focus && props.id){\n                    utils.postRenderElements.focusedElement = props.id;\n                    delete props.focus;\n                }\n    }\n\n    if(props.hasOwnProperty(\"selectAll\")) {\n        if (props.selectAll && props.id){\n                utils.postRenderElements.selectAll = props.id;\n                delete props.selectAll;\n            }\n     }\n\n    if(props.scrollToDescendant) {\n        utils.postRenderElements.scrollToID = props.scrollToDescendant\n        delete props.scrollToDescendant\n    }\n\n    if (props.hasOwnProperty('contentEditable')) {element.setAttribute('contentEditable','true')};\n\n    if (props.hasOwnProperty('hint')) {element.setAttribute('hint',props.hint)};\n\n    if (props.hasOwnProperty(\"pattern\")) {\n        element.setAttribute(\"data-pattern\",props.pattern);\n        var data = props.pattern.split(',');\n        var length = parseInt(data.pop());\n        if(length>10) { length = 10;    }\n        element.setAttribute(\"size\",length);\n    }\n\n    if (props.hasOwnProperty(\"separator\")) {\n        element.setAttribute(\"separator\",props.separator);\n    }\n\n    if (props.hasOwnProperty(\"separatorRepeat\")) {\n        element.setAttribute(\"separatorRepeat\",props.separatorRepeat);\n    }\n\n    return element;\n\n    // if (props.hasOwnProperty(\"myAttr\")) {\n    //     element.setAttribute(config.myAttr,config.myAttr);\n    // }\n\n}\n\nfunction addPseudoClasses(elem, view){\n    let props = view.props\n    let styleElem = document.getElementById(window.__STYLE_ID) || document.getElementsByTagName(\"body\")[0].getElementsByTagName(\"style\")[0];\n    let css = \"\";\n    if (props.hasOwnProperty(\"hoverBg\")) {\n        css += \"div#\\\\3\" + elem.id[0] + \" \" + elem.id.substring(1) + \":hover{background:\" + props[\"hoverBg\"] + \"!important;}\";\n    }\n\n    if (props.hasOwnProperty(\"hoverColor\")) {\n        css += \"div#\\\\3\" + elem.id[0] + \" \" + elem.id.substring(1) + \":hover{color:\" + props[\"hoverColor\"] + \"!important;}\";\n    }\n    if(props.hasOwnProperty(\"inputType\")){\n        //CODE BLOCK for inheriting textColor & background for autofill\n        var style = \"\";\n        // 1000px hack added to fill input area\n        const boxShadowVal =  \"0 0 0 1000px \" + props.background + \" inset !important;\"\n        style += \"-webkit-box-shadow:\" + boxShadowVal;\n        style += \"-moz-box-shadow:\" + boxShadowVal;\n        style += \"box-shadow:\" + boxShadowVal;\n        style += \"-webkit-text-fill-color:\" + props.color + \";\";\n        css += \"[id='\" + props.id + \"']:-webkit-autofill { \" + style + \"}\";\n    }\n\n    if(props.hasOwnProperty(\"scrollBarVisible\") && !props.scrollBarVisible && !css.includes(\"::-webkit-scrollbar{display:none !important;}\")) {\n        css += \"::-webkit-scrollbar{display:none !important;}\"; //Hide Scrollbar For Chrome\n    }\n\n    // To add placeholder pseudo-class on edittext element\n    if (props.hasOwnProperty(\"hintColor\") && useHintColor) {\n        css += \"input#\\\\3\" + elem.id[0] + \" \" +elem.id.substring(1) + `::placeholder {color: ${props.hintColor} !important; }`;\n    } else if (view.type == \"editText\") {\n        css += \"input#\\\\3\" + elem.id[0] + \" \" +elem.id.substring(1) + `::placeholder {opacity: 0.35 !important; }`;\n    }\n\n    if (!css) return\n    if(styleElem) {\n      styleElem.textContent += css;\n    } else {\n      styleElem = document.createElement('style');\n      styleElem.appendChild(document.createTextNode(css));\n      document.getElementsByTagName(\"body\")[0].appendChild(styleElem);\n    }\n\n}\n\nlet setUseHintColor = (val) => useHintColor = val;\n\n\nmodule.exports = {\n    mapPropToStyle,\n    getAnimeTransform,\n    getAnimeOpacity,\n    getAnimeTransition,\n    setElemAttributes,\n    addAnimationAttributes,\n    addTransitionValue,\n    addSize,\n    addBorder,\n    addVisibility,\n    addExpandability,\n    addOverFlow,\n    addLayout,\n    addImage,\n    addTextProperties,\n    addClassNameProperties,\n    addFunctions,\n    addPseudoClasses,\n    setUseHintColor\n}\n\n","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\nlet {\n    computeChildDimens\n} = require(\"../compute\")\nlet mapAttributes = require(\"./MapAttributes\");\nconst List = require(\"./ListPresto\");\nvar addedShimmerStyle = false;\nconst useClickFeedback = false;\n\nfunction attachKeyDownEventListenerKeyCode(elem, callback, keyCode) {\n    elem.addEventListener('keydown', (e) => {\n\n        if(e.repeat) {\n            e.preventDefault();\n            return;\n         }  // to handle if pressed multiple times\n        else {\n            e.stopPropagation()\n            if (e.keyCode == keyCode) {\n                callback(e)\n            }\n        }\n    })\n}\n\nfunction initiateElement(type, props, elem){\n    if (type == \"editText\" && elem.tagName.toLowerCase() == \"input\") {\n\n        var isIPhone = (navigator.userAgent.indexOf(\"iPhone\") !== -1)\n        if (elem.autofocus && !isIPhone) {\n            elem.focus()\n        }\n        if(window.preponeSpace){\n            elem.addEventListener('input', separatorInputKeyDownHandlerNew);\n        } else {\n            elem.addEventListener('input', separatorInputKeyDownHandler);\n        }\n    }\n\n    let events = ['onClick', 'onEnterPressedEvent', 'onDeletePressedEvent', 'onRightArrowPressedEvent', 'onLeftArrowPressedEvent', 'onChange', 'onMouseDown', 'onMouseUp', 'onMouseEnter', 'onMouseOver', 'onMouseMove', 'onMouseOut', 'onMouseLeave', 'onFocus', 'onPaste','getInputEventData','onAnimationEnd']\n\n    for (let i = 0; i < events.length; i++) {\n        let key = events[i]\n        let eventType = key.substring(2, key.length).toLowerCase()\n        if (props.hasOwnProperty(key) && typeof props[key] == \"function\") {\n            const callback = props[key]\n\n            if(key == \"onAnimationEnd\") {\n                elem.addEventListener(\"animationend\", function () {\n                    if (props.onAnimationEnd) {\n                        elem.style.animation = null;\n                        props.onAnimationEnd();\n                    }\n                    manualFocus();\n                    window.hasAnimationProps = false;\n                   });\n            }\n            if (key == \"onEnterPressedEvent\") {\n                attachKeyDownEventListenerKeyCode(elem, callback, 13);\n            }\n            if (key == \"onDeletePressedEvent\") {\n                attachKeyDownEventListenerKeyCode(elem, callback, 8);\n            }\n            if (key == \"onRightArrowPressedEvent\") {\n                attachKeyDownEventListenerKeyCode(elem, callback, 39);\n            }\n            if (key == \"onLeftArrowPressedEvent\") {\n                attachKeyDownEventListenerKeyCode(elem, callback, 37);\n            }\n            if (key == \"getInputEventData\") {\n                elem.addEventListener('input', (e) => {\n                    callback(e.data)\n                })\n            }\n            if (key == \"onPaste\") {\n                elem.onpaste = e => {\n                let paste = (e.clipboardData || window.clipboardData).getData('text');\n                callback(paste);\n            }\n        }\n            if (eventType == \"change\") {\n                elem.addEventListener('input', (e) => {\n                    callback(e.target.value)\n                })\n            } else if (eventType == \"focus\"){\n                elem.addEventListener('focus', (e) => {\n                    callback(\"true\")\n                })\n                elem.addEventListener('blur', (e) => {\n                    callback(\"false\")\n                })\n            } else {\n                if (eventType == \"click\") {\n                    let feedbackMutex = false;\n                    const touchFeedbackFn = (e) => {\n                        if (feedbackMutex) return;\n                        feedbackMutex = true;\n                        let ogBg = \"\", temp = elem;\n                        while(ogBg === \"\") {\n                            if (temp.style.backgroundColor !== \"\")\n                                ogBg = temp.style.backgroundColor;\n                            temp = temp.parentNode;\n                        }\n                        let rippleColor = pSBC(-0.23, ogBg); // darken whatever the original background color was\n                        if (props.hasOwnProperty(\"rippleColor\") && props.rippleColor.trim() !== \"\")\n                            rippleColor = props.rippleColor;\n\n                        elem.style.backgroundColor = rippleColor;\n                        // elem.style.opacity = \"0.5\";\n                        // return the color of the element\n                        setTimeout(function() {\n                            elem.style.backgroundColor = ogBg;\n                            // prevent multiple clicks from permanently\n                            // changing the background color\n                            feedbackMutex = false;\n                        }, 200);\n                    }\n                    if (!(props.hasOwnProperty(\"disableFeedback\") && props.disableFeedback) && useClickFeedback) {\n                        elem.addEventListener('touchstart', touchFeedbackFn);\n                        elem.addEventListener('mousedown', touchFeedbackFn);\n                    }\n                }\n                props.oldEventListener = props.oldEventListener || {};\n                if (typeof props.oldEventListener[eventType] == \"function\") {\n                    elem.removeEventListener(eventType, props.oldEventListener[eventType]);\n                }\n                props.oldEventListener[eventType] = (e) => {\n                    e.stopPropagation();\n                    callback(e)\n                };\n                elem.addEventListener(eventType, props.oldEventListener[eventType]);\n            }\n        }\n    }\n}\n\nconst pSBC = function(p,c0,c1,l) {\n    let r,g,b,P,f,t,h,i=parseInt,m=Math.round,a=typeof(c1)==\"string\";\n    if(typeof(p)!=\"number\"||p<-1||p>1||typeof(c0)!=\"string\"||(c0[0]!='r'&&c0[0]!='#')||(c1&&!a))return null;\n    if(!this.pSBCr)this.pSBCr=(d)=>{\n        let n=d.length,x={};\n        if(n>9){\n            [r,g,b,a]=d=d.split(\",\"),n=d.length;\n            if(n<3||n>4)return null;\n            x.r=i(r[3]==\"a\"?r.slice(5):r.slice(4)),x.g=i(g),x.b=i(b),x.a=a?parseFloat(a):-1\n        }else{\n            if(n==8||n==6||n<4)return null;\n            if(n<6)d=\"#\"+d[1]+d[1]+d[2]+d[2]+d[3]+d[3]+(n>4?d[4]+d[4]:\"\");\n            d=i(d.slice(1),16);\n            if(n==9||n==5)x.r=d>>24&255,x.g=d>>16&255,x.b=d>>8&255,x.a=m((d&255)/0.255)/1000;\n            else x.r=d>>16,x.g=d>>8&255,x.b=d&255,x.a=-1\n        }return x};\n    h=c0.length>9,h=a?c1.length>9?true:c1==\"c\"?!h:false:h,f=this.pSBCr(c0),P=p<0,t=c1&&c1!=\"c\"?this.pSBCr(c1):P?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},p=P?p*-1:p,P=1-p;\n    if(!f||!t)return null;\n    if(l)r=m(P*f.r+p*t.r),g=m(P*f.g+p*t.g),b=m(P*f.b+p*t.b);\n    else r=m((P*f.r**2+p*t.r**2)**0.5),g=m((P*f.g**2+p*t.g**2)**0.5),b=m((P*f.b**2+p*t.b**2)**0.5);\n    a=f.a,t=t.a,f=a>=0||t>=0,a=f?a<0?t:t<0?a:a*P+t*p:0;\n    if(h)return\"rgb\"+(f?\"a(\":\"(\")+r+\",\"+g+\",\"+b+(f?\",\"+m(a*1000)/1000:\"\")+\")\";\n    else return\"#\"+(4294967296+r*16777216+g*65536+b*256+(f?m(a*255):0)).toString(16).slice(1,f?undefined:-2)\n}\n\n// not being used in hyper-widget web\nfunction popup(elem, props) {\n    let menuItems = props[\"popupMenu\"].split(',');\n    let menuBar = document.createElement(\"div\");\n    menuBar.setAttribute(\"class\", \"popupMenu\");\n    menuBar.style.cssText =\n        \"display: none; position: absolute; right: 20px; top:20px; z-index: 5;\" +\n        \"box-shadow: 0px 5px 10px #888888;\";\n    document.body.appendChild(menuBar)\n    let clickCb = \"onMenuItemClick\";\n    for (let i = 0; i < menuItems.length; i++) {\n        let menuDiv = document.createElement(\"div\");\n        menuDiv.setAttribute(\"class\", \"menuItem\");\n        menuDiv.textContent = menuItems[i];\n        menuBar.appendChild(menuDiv);\n        let index = i;\n        if (props[clickCb] &&\n            typeof props[clickCb] == \"function\") {\n            menuDiv.addEventListener(\"click\", () => {\n                props[clickCb](index);\n            });\n        }\n    }\n    elem.addEventListener(\"click\", function () {\n        if (menuBar.style.display == \"none\")\n            menuBar.style.display = \"\";\n        else\n            menuBar.style.display = \"none\";\n    });\n}\n\nconst InlineAnimationMapper = {\n    map: function (type) {\n        var self = this;\n        return function (key, value) {\n            if (self.MAPPINGS[type] && self.MAPPINGS[type][key]) {\n                return self.MAPPINGS[type][key](value);\n            } else return \"\";\n        }\n    },\n    MAPPINGS: {\n        \"from\": {\n            \"fromX\": val => `transform: translateX(${val}px);`,\n            \"fromY\": val => `transform: translateY(${val}px);`,\n            \"fromScaleX\": val => `transform: scaleX(${val});\\ntransform-origin:top left;`,\n            \"fromScaleY\": val => `transform-origin:top left;\\ntransform: scaleY(${val});`,\n            \"fromRotation\": val => `transform: rotate(${val}deg);`,\n            \"fromRotationX\": val => `transform: rotateX(${val}deg);`,\n            \"fromRotationY\": val => `transform: rotateY(${val}deg);`,\n            \"fromAlpha\": val => `opacity: ${val};`,\n        },\n        \"to\": {\n            \"toX\": val => `transform: translateX(${val}px);`,\n            \"toY\": val => `transform: translateY(${val}px);`,\n            \"toScaleX\": val => `transform: scaleX(${val});\\ntransform-origin:top left;`,\n            \"toScaleY\": val => `transform-origin:top left;\\ntransform: scaleY(${val});`,\n            \"toRotation\": val => `transform: rotate(${val}deg);`,\n            \"toRotationX\": val => `transform: rotateX(${val}deg);`,\n            \"toRotationY\": val => `transform: rotateY(${val}deg);`,\n            \"toAlpha\": val => `opacity: ${val};`,\n        },\n        // ref: https://developer.mozilla.org/en-US/docs/Web/CSS/animation\n        \"animation-shorthand-seq\": [\"duration\", \"interpolator\", \"delay\", \"repeatCount\", \"repeatMode\", \"fillMode\"],\n        \"animation-props\": {\n            \"interpolator\": val => {\n                if (!val) {\n                    return `ease`;\n                } else if (typeof val == \"string\" && val.split(',').length == 4) {\n                    return `cubic-bezier(${val})`\n                } else {\n                    switch (val) {\n                        case \"easein\":\n                            return \"ease-in\";\n                        case \"easeout\":\n                            return \"ease-out\";\n                        case \"bounce\":\n                        case \"easeinout\":\n                            return \"ease-in-out\";\n                        default:\n                            return `${val}`;\n                    }\n                }\n            },\n            \"delay\": val => {\n                if (!val) {\n                    return `0s`;\n                } else if (!isNaN(val)) {\n                    val = parseFloat(parseFloat(val) / 1000).toFixed(2);\n                    return `${val}s `;\n                } else {\n                    return `0s`;\n                }\n            },\n            \"duration\": val => {\n                if (!val) {\n                    return `0s`;\n                } if (!isNaN(val)) {\n                    val = parseFloat(parseFloat(val) / 1000).toFixed(2);\n                    return `${val}s`;\n                } else {\n                    return `0s`;\n                }\n            },\n            \"repeatMode\": val => {\n                switch (val) {\n                    case \"restart\":\n                        return `normal`;\n                    case \"reverse\":\n                        return `alternate`;\n                    default:\n                        return `normal`;\n                }\n            },\n            \"repeatCount\": val => {\n                if (!val) return `1`;\n                val = parseInt(val);\n                if (isNaN(val)) { return `1`; }\n                else if (val < 0) { return `infinite`}\n                else { return `${val+1}`}\n            },\n            \"fillMode\": val => {\n                if (!val) return `forwards`;\n                else return `${val}`;\n            }\n        }\n    }\n}\n\nconst CSSMarkupWriter = {\n    \"animations\": {\n        \"keyframe\": (name, code) => `@keyframes ${name} {${code}}`,\n        \"keyframe-from\": (code) => `from {${code}}`,\n        \"keyframe-to\": (code) => `to {${code}}`,\n        \"animation-shorthand\": (keyframes) => {\n            var val = \"\";\n            keyframes.forEach((keyframe, i) => {\n                val += keyframe;\n                if (i == (keyframes.length-1)) { val += ';'; }\n                else { val += ', '; }\n            });\n            return `animation: ${val}`;\n        }\n    }\n\n}\n\nfunction addCSSStyle (style) {\n    var styleElem = document.getElementById(window.__STYLE_ID)\n    if(styleElem && styleElem.styleSheet){\n        styleElem.styleSheet.cssText += style;\n    }else{\n        styleElem = document.createElement('style');\n        styleElem.appendChild(document.createTextNode(style));\n        document.getElementsByTagName(\"head\")[0].appendChild(styleElem);\n    }\n}\n\nvar KEYFRAME_INDEX = 0;\n\nfunction manualFocus () {\n    if (window.focusedElement !== undefined){\n        var c = document.getElementById(window.focusedElement);\n        window.focusedElement = undefined;\n        if (c) {\n            console.debug(\"now focusing\");\n            c.focus();\n        }\n    }\n}\n\nfunction setAnimationStyles (elem, props) {\n    if (!props.hasOwnProperty('hasAnimation') || !props.hasAnimation || !props.inlineAnimation) {\n        return \"\";\n    }\n    try {\n        const animationObjects = JSON.parse(props.inlineAnimation);\n        if(!Array.isArray(animationObjects) || (Array.isArray(animationObjects) && animationObjects.length == 0)) return \"\";\n        window.hasAnimationProps = true;\n        var keyFrameShorthands = [];\n        var AnimationCSSMarkupWriter = CSSMarkupWriter[\"animations\"];\n\n        var keyFrameFromMarkup = keyFrameToMarkup = \"\";\n        var countFrom = countTo = 0;\n\n        animationObjects.forEach(function (animationObject) {\n            const keyframeName = \"keyframe_\" + props.id + \"_\" + KEYFRAME_INDEX++;\n            /* Add keyframe in css */\n            for (var [key, value] of Object.entries(animationObject)) {\n                var from = InlineAnimationMapper.map(\"from\")(key, value);\n                if(key == \"fromX\" || key == \"fromScaleX\"){\n                    if(countFrom == 0){\n                        keyFrameFromMarkup += from.slice(0, -1);\n                        countFrom += 1;\n                    }else{\n                        keyFrameFromMarkup += from.replace(\"transform:\", \"\");\n                    }\n                }else keyFrameFromMarkup += from;\n                var to = InlineAnimationMapper.map(\"to\")(key, value);\n                if(key == \"toX\" || key == \"toScaleX\"){\n                    if(countTo == 0){\n                        keyFrameToMarkup += to.slice(0, -1);\n                        countTo += 1;\n                    }else{\n                        keyFrameToMarkup += to.replace(\"transform:\", \"\");\n                    }\n                }else keyFrameToMarkup += to;\n            }\n            var keyFrameCSS = AnimationCSSMarkupWriter[\"keyframe\"](keyframeName,\n                                AnimationCSSMarkupWriter[\"keyframe-from\"](keyFrameFromMarkup) +\n                                AnimationCSSMarkupWriter[\"keyframe-to\"](keyFrameToMarkup)\n                            );\n\n            addCSSStyle(keyFrameCSS);\n            window.__RENDERED_KEYFRAMES.push(keyframeName);\n\n            /* Add animation shorthand prop of keyframe in element*/\n            var keyFrameAnimShorthand = `${keyframeName} `;\n            InlineAnimationMapper.MAPPINGS[\"animation-shorthand-seq\"].forEach(function (key) {\n                keyFrameAnimShorthand += (InlineAnimationMapper.map(\"animation-props\")(key, animationObject[key]) + \" \");\n            });\n            keyFrameShorthands.push(keyFrameAnimShorthand);\n        });\n        return AnimationCSSMarkupWriter[\"animation-shorthand\"](keyFrameShorthands);\n    } catch {\n        return \"\";\n    }\n}\n\nfunction addHoverProps (elem, view) {\n    if (!view.props.hasOwnProperty(\"onHover\")) return \"\";\n    try {\n        var id = \"\"+view.props.id;\n        var hoverProps = JSON.parse(view.props.onHover);\n        var elem_style = mapAttributes.mapPropToStyle(elem, hoverProps, view.type);\n        if (hoverProps.hasOwnProperty('width') && !isNaN(hoverProps.width)) {\n            elem_style += \"width: \" + hoverProps.width + \"px;\";\n        }\n        if (hoverProps.hasOwnProperty('height') && !isNaN(hoverProps.height)) {\n            elem_style += \"height: \" + hoverProps.height + \"px;\";\n        }\n        elem_style = elem_style.replaceAll(\";\", \" !important;\"); // add important to make hover props precendence over inline styles\n        if (hoverProps.hoverPath) {\n            addCSSStyle(hoverProps.hoverPath + \":hover #\\\\3\" + id[0] + \" \" + id.substring(1) + \" { \" + elem_style + \" }\");\n        } else {\n            addCSSStyle(\"#\\\\3\" + id[0] + \" \" + id.substring(1) + \":hover { \" + elem_style + \" }\");\n        }\n    } catch {\n        return;\n    }\n}\n// debugger\nfunction setComputedStyles(elem, props) {\n    let computed_styles = \"\";\n    /* Computed Styles */\n    // LinearLayout Styles\n    if (props.hasOwnProperty('activeDimen') && props.hasOwnProperty('activeWeight')) {\n        let activeDimen = props.activeDimen;\n        let weight = props.activeWeight;\n\n        if (weight > 0) {\n            computed_styles += \"flex:\" + weight + \";\";\n            computed_styles += \"flex-basis:auto;\";\n            //elem.style.flex = weight;\n\n            if (activeDimen == 'w') {\n                //elem.style.width = 'auto';\n            } else {\n                // computed_styles += \"height:auto;\";\n               // elem.style.height = 'auto';\n            }\n        } else {\n            computed_styles += \"flex:none;\";\n            //elem.style.flex = 'none';\n        }\n    }\n    else {\n        computed_styles += \"flex:none;\";\n    //        elem.style.flex = 'none';\n    }\n\n    // RelativeLayout Styles\n    if (props.hasOwnProperty('absolute') && props.absolute) {\n        if(props.hasOwnProperty(\"position\")){\n            computed_styles += \"position:\"+ props.hasOwnProperty(\"position\") +\";\";\n        } else {\n            computed_styles += \"position:absolute;\";\n        }\n        //elem.style.position = 'absolute';\n\n        if (props.hasOwnProperty(\"fromTop\")) {\n            if (isNaN(props.fromTop))\n                computed_styles += \"top: \" + props.fromTop + \";\";\n                // elem.style.top = props.fromTop;\n            else\n                computed_styles += \"top: \" + props.fromTop + \"px;\";\n                // elem.style.top = props.fromTop + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromBottom\")) {\n            if (isNaN(props.fromBottom))\n                computed_styles += \"bottom: \" + props.fromBottom + \";\";\n                //elem.style.bottom = props.fromBottom;\n            else\n                computed_styles += \"bottom: \" + props.fromBottom + \"px;\";\n                //elem.style.bottom = props.fromBottom + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromLeft\")) {\n            if (isNaN(props.fromLeft))\n                computed_styles += \"left: \" + props.fromLeft + \";\";\n                // elem.style.left = props.fromLeft;\n            else\n                computed_styles += \"left: \" + props.fromLeft + \"px;\";\n                // elem.style.left = props.fromLeft + 'px';\n        }\n\n        if (props.hasOwnProperty(\"fromRight\")) {\n            if (isNaN(props.fromRight))\n                computed_styles += \"right: \" + props.fromRight + \";\";\n                // elem.style.right = props.fromRight;\n            else\n                computed_styles += \"right: \" + props.fromRight + \"px;\";\n            // elem.style.right = props.fromRight + 'px';\n        }\n    }\n    /* Computed Styles End */\n    return computed_styles;\n}\n\n// what does this do?\nfunction separatorInputKeyDownHandlerNew(ev){\n    ev.stopPropagation();\n    try {\n        var inputId = ev.target.id;\n        var inputType = ev.inputType;\n        var input = document.getElementById(inputId);\n        var oldValidValue = \"\";\n        if(input.oldValidValue){\n            oldValidValue = input.oldValidValue;\n        }\n        if(input.value.length===0){\n            input.oldValidValue = input.value;\n            return;\n        }\n        var dataPattern = input.getAttribute(\"data-pattern\");\n        if (dataPattern){\n          var data = dataPattern.split(',');\n          var length = parseInt(data.pop());\n          var regexPattern = new RegExp(data.join(''));\n          var selectionStart = input.selectionStart;\n          var selectionEnd = input.selectionEnd;\n          var separator = input.getAttribute(\"separator\");\n          var separatorRepeat = parseInt(input.getAttribute(\"separatorRepeat\"));\n          var value = input.value.replace(/[^a-zA-Z0-9@.-]/g, \"\");\n          //If existing value itself greater than equal to max length\n          if (length) {\n            input.setAttribute(\"maxlength\", length);\n          }\n          // If code doesn't matches regex pattern\n          if (!regexPattern.test(value)) {\n            input.value = oldValidValue;\n            input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n            input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n            return;\n          }\n          //Insert separator\n          if(separator && separatorRepeat){\n            ev.preventDefault();\n            var formattedString = \"\";\n            for(var i =0;i<value.length;i++){\n              var element = value[i];\n              formattedString += element;\n              var factor = 0;\n              if (formattedString.length && formattedString.replace(/[^a-zA-Z0-9@.-]/g, \"\").length % (separatorRepeat + factor) == 0) {\n                  formattedString += separator;\n              }\n            }\n            if (formattedString[length] == separator) {\n              formattedString = formattedString.substring(0, formattedString.length - 1);\n            }\n            input.value = formattedString;\n            if(inputType == \"deleteContentBackward\"){\n              let cursorPosition = selectionStart;\n              if ((cursorPosition % (separatorRepeat + 1) ) === 0) {\n                  if(input.oldValidValue.length < formattedString.length){\n                      cursorPosition += 1\n                  } else {\n                      cursorPosition -= 1\n                  }\n              }\n              if(cursorPosition<0){\n                  cursorPosition = 0;\n              }\n              input.oldValidValue = formattedString;\n              input.focus();\n              input.selectionStart = cursorPosition;\n              input.selectionEnd = cursorPosition;\n            }\n          }\n          input.oldValidValue = input.value;\n        }\n    } catch(err){\n        console.error(err);\n    }\n}\n// what does this do?\nfunction separatorInputKeyDownHandler(ev){\n    ev.stopPropagation();\n    try{\n        var inputId = ev.target.id;\n        var input = document.getElementById(inputId)\n        var oldValidValue = \"\";\n        if(input.oldValidValue){\n            oldValidValue = input.oldValidValue;\n        }\n        if(input.value.length===0){\n            input.oldValidValue = input.value;\n            return;\n        }\n        var dataPattern = input.getAttribute(\"data-pattern\");\n        if (dataPattern) {\n            var data = dataPattern.split(',');\n            var length = parseInt(data.pop());\n            var regexString = data.join('');\n            var selectionStart = input.selectionStart;\n            var selectionEnd = input.selectionEnd;\n            const newValue = input.value;\n            if (length) {\n                if (newValue.length > length) {\n                    input.value = oldValidValue;\n                    ev.preventDefault();\n                    input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n                    input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n                    return;\n                }\n            }\n            var finalData = newValue;\n            var separator = input.getAttribute(\"separator\");\n            if(separator)\n            {\n                finalData = finalData.replace(new RegExp(separator, 'g') , \"\");\n            }\n            if (regexString) {\n                var regexPattern = new RegExp(regexString);\n                if (!regexPattern.test(finalData)) {\n                    ev.preventDefault();\n                    input.value = oldValidValue;\n                    input.selectionStart = selectionStart- (selectionEnd-selectionStart)-1;\n                    input.selectionEnd = selectionEnd- (selectionEnd - selectionStart)-1;\n                    return;\n                }\n            }\n            var separatorRepeat = parseInt(input.getAttribute(\"separatorRepeat\"));\n            if (separator && separatorRepeat) {\n                ev.preventDefault();\n                var formattedString = \"\";\n                for (let index = 0; index < finalData.length; index++) {\n                    var element = finalData[index];\n                    formattedString += element;\n                    var factor = 0;\n                    if (formattedString.length && formattedString.replace(/[^a-zA-Z0-9@.-]/g, \"\").length % (separatorRepeat + factor) == 0) {\n                        formattedString += separator;\n                    }\n                }\n                if (formattedString[formattedString.length - 1] == separator) {\n                    formattedString = formattedString.substring(0, formattedString.length - 1);\n                }\n                input.value = formattedString;\n                let cursorPosition = selectionStart;\n                if ((cursorPosition % (separatorRepeat + 1) ) === 0) {\n                    if(input.oldValidValue.length < formattedString.length){\n                        cursorPosition += 1\n                    } else {\n                        cursorPosition -= 1\n                    }\n                }\n                if(cursorPosition<0){\n                    cursorPosition = 0;\n                }\n                input.oldValidValue = formattedString;\n                input.focus();\n                input.selectionStart = cursorPosition;\n                input.selectionEnd = cursorPosition;\n                // console.log(\"formattedString----\", formattedString);\n            } else {\n                input.oldValidValue = finalData;\n            }\n        }\n    } catch(err){\n        console.error(err);\n    }\n}\n\nfunction setAttributes(view, elem, firstRender) {\n    var type = view.type\n    var props = view.props\n    let elem_style = \"\";\n    elem.setAttribute(\"id\",props.id);\n    // elem_style += \"id:\"+props.id+\";\";\n    if(view.props.autoUpdateHeight){\n        try {\n            const myObserver = new ResizeObserver(entries => {\n                entries.forEach(entry => {\n                    try{\n                        var payload = {\n                            event: \"heightUpdate\",\n                            height: entry.target.scrollHeight\n                        }\n                        if(payload.height){\n                            JBridge.runInJuspayBrowser(\"heightUpdate\", JSON.stringify(payload));\n                        }\n                    } catch(err){}\n                    return false;\n                });\n            });\n            myObserver.observe(elem);\n        } catch(err){}\n    }\n    if (type == \"relativeLayout\") {\n        elem_style+=\"overflow:hidden;\"\n    }\n    if (elem.classList && elem.classList.length > 0)\n        elem.classList.add(type)\n    else\n        elem.className = type\n\n    elem_style += mapAttributes.addTransitionValue(props);\n\n\n    // elem.style.transition = props.transition;\n    /* New Style */\n    /* Render from global styles */\n\n    elem_style+=mapAttributes.addSize(view);\n\n    // The order here matters, as for elements with same precedence, the element on the right side of the array will be considered\n    elem_style+=mapAttributes.addBorder(props);\n    elem_style+=mapAttributes.addVisibility(elem, props, type);\n    elem_style += mapAttributes.addExpandability(elem, props, type);\n\n    /* Render global styles end */\n\n    elem_style+=mapAttributes.addOverFlow(props);\n    elem_style+=mapAttributes.addLayout(elem, type, props);\n\n    mapAttributes.addImage(type,props,elem);\n    elem_style+=mapAttributes.addTextProperties(props, elem, type);\n    mapAttributes.addClassNameProperties(props,elem);\n\n    elem_style += mapAttributes.mapPropToStyle(elem,props,type);\n    elem = mapAttributes.setElemAttributes(elem,props);\n    elem_style+=mapAttributes.addFunctions(props, elem);\n    elem_style+=mapAttributes.addAnimationAttributes(props);\n    mapAttributes.addPseudoClasses(elem, view);\n\n    if (firstRender) { // Events are added when the element is created for the first time\n        initiateElement(type, props, elem)\n    }\n\n    return elem_style;\n}\n\n\n// mutation observers are slow, what is this and why can't global events solve this problem?\n/* Observer for afterRender */\nlet observer = (elem) => {\n    let id = elem.id;\n    if (!id || __OBSERVERS[id])\n        return;\n\n    __OBSERVERS[id] = new MutationObserver(function (item, observer) {\n        if (item && item[0].target) {\n            let target = item[0].target;\n            let id = target.id;\n            if (id) {\n                let view = __VIEWS[id];\n\n                if (view && view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\") {\n                    view.props.afterRender()\n                }\n            }\n        }\n\n        observer.disconnect();\n    });\n\n    (__OBSERVERS[id]).observe(elem, {\n        attributes: true\n    });\n}\n\n/* Do some actions after rendered */ // just use global events no?\nlet cb = (elem, view) => {\n    if (view.props.feedback && typeof view.props.feedback == \"function\") {\n        view.props.feedback()\n    }\n}\n\nwindow.inflateTimings = {\n    lastUpdatedAt: null\n}\n\n// Creates the DOM element if it has not been already inflated\n// View: Object similar to ReactDOM struct, {type, props, children}\n// parentElement: DOM Object\nlet setToolTip = function(view, elem) {\n    if (\n        view.type != 'linearLayout' &&\n        view.type != 'relativeLayout' &&\n        view.type != 'horizontalScrollView' &&\n        view.type != 'scrollView' &&\n        view.type != 'listView'\n    ) {\n        if (view.props.hasOwnProperty('tooltipText')) {\n            let tooltipText = view.props.tooltipText.trim()\n\n            if (tooltipText) {\n                let tooltipGravity = view.props.tooltipGravity ? view.props.tooltipGravity : 'top'\n\n                elem.classList.add('hasTooltip')\n\n                let tooltipElem = document.createElement('div')\n                tooltipElem.innerHTML = '<pre>' + tooltipText + '</pre>'\n                tooltipElem.classList.add('tooltipText')\n                tooltipElem.classList.add('tooltipGravity_' + tooltipGravity)\n\n                let size = 15\n                if (view.props.hasOwnProperty('tooltipTextSize') && !isNaN(view.props.tooltipTextSize)) {\n                    size = view.props.tooltipTextSize\n                }\n\n                tooltipElem.style.fontSize = size + 'px'\n\n                elem.appendChild(tooltipElem)\n            }\n        }\n    }\n}\nlet createNewElement = function(view, parentElement, siblingView){\n    let elem = null;\n    let subElem = null;\n    let element_style =\"\";\n    switch(view.type) {\n        case \"textureView\":\n            elem = document.createElement(\"video\");\n            source = document.createElement(\"source\");\n            if(view.props.source){\n                source.setAttribute(\"src\",view.props.source);\n                source.setAttribute(\"type\",\"video/mp4\");\n            }\n            elem.appendChild(source);\n            if(view.props.autoloop) {\n                elem.loop = true;\n            }\n            elem.autoplay = true;\n            elem.muted = true;\n            elem.playsInline = true;\n            break;\n        case \"webView\":\n            elem = document.createElement('iframe')\n\n            elem.style.border = 'none';\n            // This allow is the property of iframe for setting feature policy\n            // https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-allow\n            if (view.props.allow && typeof view.props.allow === 'string'){\n                elem.allow = view.props.allow;\n            }\n            break;\n        case \"imageView\":\n            elem = document.createElement(\"img\");\n            element_style = \"\";\n            element_style += \"margin:0;\";\n            element_style += \"padding:0;\";\n            element_style += \"display:block;\";\n            element_style += \"max-width:100%;\";\n            element_style += \"max-height:100%;\";\n            element_style += \"box-sizing:border-box;\";\n            // elem[\"style\"][\"margin\"] = \"0\";\n            // elem[\"style\"][\"padding\"] = \"0\";\n            // elem[\"style\"][\"display\"] = \"block\";\n            // elem[\"style\"][\"max-width\"] = \"100%\";\n            // elem[\"style\"][\"max-height\"] = \"100%\";\n            // elem[\"style\"][\"box-sizing\"] = \"border-box\";\n            elem.setAttribute(\"alt\", \"\");\n            break;\n        case \"checkBox\":\n            elem = document.createElement(\"input\");\n            elem.setAttribute('type', 'checkbox');\n            if (view.props.hasOwnProperty('checked') && view.props.checked == true) {\n                elem.checked = true\n            } else {\n                elem.checked = false\n            }\n\n            if (view.props.hasOwnProperty('label') && view.props.label != '' && parentElement) {\n                subElem = document.createElement('label');\n                subElem.setAttribute('for', view.props.id);\n                subElem.innerHTML = view.props.label;\n                subElem.style.padding = \"0 0 0 5px\";\n                subElem.classList.add('input-label');\n\n                delete view.props.label;\n            }\n            break;\n        case \"editText\":\n            element_style = \"\";\n            if (view.props.hasOwnProperty('inputType') && view.props.inputType == 'multiText') {\n                elem = document.createElement(\"textarea\");\n                element_style += \"border:none;\";\n                element_style += \"resize:none;\";\n                element_style += \"outline:none;\";\n                //console.log('creating a component')\n\n                // elem.style.border = 'none';\n                // elem.style.resize = 'none';\n                // elem.style.outline = 'none';\n            } else {\n                elem = document.createElement(\"input\");\n            }\n\n            elem.value = view.props.text || \"\";\n\n            if (view.props.letterSpacing) {\n                element_style += \"letter-spacing : \" + view.props.letterSpacing + \";\";\n                // elem[\"style\"][\"letter-spacing\"] = view.props.letterSpacing;\n            }\n\n            if (view.props.label) {\n\n                // var inputViewStyle = \"\";\n                var inputView = elem;\n\n                element_style += \"width:100%;\";\n                // inputView.style.width = '100%';\n                element_style += setAttributes(view, inputView, true);\n\n                inputView.setAttribute(\"id\", view.props.id + \"_input\");\n\n\n                var l = document.createElement(\"label\");\n\n                var label_style = \"\";\n                l.setAttribute(\"for\", view.props.id + \"_input\");\n\n                l.innerHTML = view.props.label;\n                l.classList.add('input-label');\n\n                label_style += \"position:absolute;\";\n                label_style += \"color:#999;\";\n                label_style += \"background-color:#fff;\";\n                label_style += \"padding: 0 5px;\";\n                label_style += \"z-index: 10;\";\n                label_style += \"transition: transform 150ms ease-out, font-size 150ms ease-out;\";\n\n                // l[\"style\"][\"position\"] = \"absolute\";\n                // l[\"style\"][\"color\"] = \"#999\";\n                // l[\"style\"][\"background-color\"] = \"#fff\";\n                // l[\"style\"][\"padding\"] = \"0 5px\";\n                // l[\"style\"][\"z-index\"] = 10;\n                // l[\"style\"][\"transition\"] = \"transform 150ms ease-out, font-size 150ms ease-out\";\n\n                if (view.props.letterSpacing) {\n                    label_style += \"letter-spacing: \" + view.props.letterSpacing + \";\";\n                    // l[\"style\"][\"letter-spacing\"] = view.props.letterSpacing;\n                }\n\n                l.setAttribute(\"style\",label_style);\n                inputView.setAttribute(\"style\",element_style);\n\n                elem = document.createElement(\"div\");\n                element_style = \"\";\n                elem.classList.add('input-group');\n                elem.appendChild(l);\n                elem.appendChild(inputView);\n\n                view.props.style.position = \"relative\";\n                view.props.style.overflow\n                element_style += setAttributes(view, elem, true);\n                delete view.props.label;\n            } else if (view.props.hint) {\n                elem.placeholder = view.props.hint || \"\";\n            }\n            break;\n        case 'progressBar':\n            elem = document.createElement(\"div\");\n            element_style = \"\";\n            element_style += \"border-radius: 50%;\";\n            element_style += \"border: 0.25em solid #e0e0e0;\";\n            element_style += \"display: inline-block;\";\n            element_style += \"box-sizing: border-box;\";\n            element_style += \"border-left-color: transparent;\";\n            element_style += \"width: \" + view.props.width + \";\";\n            element_style += \"height: \" + view.props.height + \";\";\n            element_style += \"animation-duration: 0.7s;\";\n            element_style += \"animation-name: anim-progress-loader;\";\n            element_style += \"animation-iteration-count: infinite;\";\n            styleElem = document.createElement('style');\n            styleElem.appendChild(document.createTextNode(\"@keyframes anim-progress-loader {0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); }\"));\n            document.getElementsByTagName(\"body\")[0].appendChild(styleElem);\n            break;\n        case 'shimmerFrameLayout':\n            // for shimmerFrameLayout tag leaf nodes in the DOM tree so that CSS properties\n            // for animations and styles can be added\n            // every leaf node is tagged with a boolean shouldShimmer property in props\n            if (view.props.isSeen == undefined && !addedShimmerStyle) {\n                let maxShimmerWidth = tagShimmerElementsForRender(view, view.children, 0) + 10;\n                if (!isNaN(maxShimmerWidth)) {\n                    styleElem = document.createElement('style');\n                    styleElem.appendChild(document.createTextNode(\"@keyframes shimmer{0% {background-position: -\" + maxShimmerWidth + \"px 0;} 100% {background-position: \" + maxShimmerWidth + \"px 0;}}\"));\n                    document.getElementsByTagName(\"body\")[0].appendChild(styleElem);\n                    addedShimmerStyle = true;\n                }\n            }\n        // do not add a break here\n        default:\n            elem = document.createElement(view.elName || \"div\"); // create the element here\n            element_style = \"\";\n\n    }\n    setToolTip(view,elem);\n\n\n    addToParentElement(parentElement, siblingView, elem, subElem);\n\n    // appened attributes, nodes & style to the elemenent\n    element_style += setAttributes(view, elem, true);\n\n    /*if(view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\"){\n      if(!stopObserver){\n        // We should run observer for the element\n        observer(elem);\n        elem.setAttribute('has_render', true);\n      }\n    }*/\n    return {elem,subElem,element_style};\n}\nlet addToParentElement = function(parentElement, siblingView, elem, subElem) {\n\n    if (parentElement) {\n        let siblingElement = siblingView ? document.getElementById(siblingView.props.id) : null;\n\n        if (siblingElement && siblingElement != undefined) {\n            if (parentElement == siblingElement) { // Prepend\n                if (subElem) {\n                    parentElement.insertBefore(subElem, parentElement.childNodes[0]);\n                }\n                parentElement.insertBefore(elem, parentElement.childNodes[0]);\n            } else { // Insert in specified position\n                let nextSiblingElement = siblingElement.nextSibling;\n\n                parentElement.insertBefore(elem, nextSiblingElement);\n                if (subElem) {\n                    parentElement.insertBefore(subElem, nextSiblingElement);\n                }\n            }\n        } else {\n            parentElement.appendChild(elem);\n            if (subElem) {\n                parentElement.appendChild(subElem);\n            }\n        }\n    }\n}\nlet setLayout = function(view, elem) {\n    switch(view.type) {\n    case 'horizontalScrollView':\n        if (view.props.hasOwnProperty('scrollLeft') && !isNaN(view.props.scrollLeft))\n            elem.scrollLeft = view.props.scrollLeft;\n        break;\n    case 'listView':\n        if (view.props.hasOwnProperty('scrollTop') && !isNaN(view.props.scrollTop))\n            elem.scrollTop = view.props.scrollTop;\n        break;\n    case 'scrollView':\n        if (view.props.hasOwnProperty('scrollLeft') && !isNaN(view.props.scrollLeft))\n            elem.scrollLeft = view.props.scrollLeft;\n\n        if (view.props.hasOwnProperty('scrollTop') && !isNaN(view.props.scrollTop))\n            elem.scrollTop = view.props.scrollTop;\n    }\n}\nlet getElementByView = function(view, parentElement, siblingView, stopChild, renderStyle) {\n    if(!view.props.id){\n        view.props.id = window.JOS_PRESTO_ID++;\n        //window.__VIEWS[view.props.id] =  view;\n    }\n    let elem = document.getElementById(view.props.id);\n    let subElem = null; //  this is being used only for lablel property\n    let newInflated = false;\n    let element_style =\"\";\n\n    if (view.props.x == \"NaN\" || view.props.y == \"NaN\") {\n        view = handleWrapContent(view, parentElement)\n    }\n\n    if (!elem) {\n        let element = createNewElement(view, parentElement, siblingView);\n        newInflated = true;\n        elem = element.elem;\n        subElem = element.subElem;\n        element_style+=element.element_style;\n        if(view.props.hasOwnProperty(\"focus\") && view.props.focus)\n            window.focusedElement = view.props.id;\n\n    } else if (renderStyle) {\n        element_style += setAttributes(view, elem, false);\n    }\n    \n    setLayout(elem,view);\n    if(!stopChild) computeChildDimens(view);\n    element_style += setComputedStyles(elem, view.props);\n    element_style += setAnimationStyles(elem, view.props);\n    addHoverProps(elem, view);\n    elem.setAttribute(\"style\",element_style); // finally attach all the styles to the element\n    return {elem,newInflated};\n}\nlet setAfterRenderFunctions = function (newInflated, view, elem, stopObserver) {\n\n    if (newInflated) {\n        if(view.hasOwnProperty)\n        if (view.props.hasOwnProperty('afterRender') && typeof view.props.afterRender == \"function\") { // mutation observers are expensive\n            if (!stopObserver) {\n                // We should run observer for the element\n                observer(elem);\n                elem.setAttribute('has_render', true);\n            }\n        }\n        // if(view.data){\n\n        //     for(let i=0;i<view.children.length;i++){\n        //         let child = document.getElementById(view.children[i].props.id);\n        //         child.addEventListener('onClick',()=>view.onItemClick(i));}\n        // }\n        cb(elem, view);\n    }\n}\n\nfunction isChrome50 () {\n    var a = navigator.userAgent.substring(navigator.userAgent.indexOf('Chrome/') + 7)\n    return parseInt(a.substring(0, a.indexOf(\".\"))) <= 50\n}\n\nlet renderList = (view,elem, computeList)=>{\n    //console.dir(view.props.diffArray)\n        if(view.props.diffArray== \"filter\"){\n            // console.log(\"filtering\")\n            // console.time('filtering')\n            view.children=[];\n            elem.innerHTML = '';\n            for(let i=0;i<view.props.itemDatas.length;i++)\n            {\n                view.children.push(List.getChildItemViewByIndex(view,i));\n\n            }\n            computeChildDimens(view);\n            for(let i=0;i<view.props.itemDatas.length;i++){\n                var chrome50matchList;\n                if(isChrome50()) {\n                    chrome50matchList = {h : [], w: []}\n                }\n                elem.appendChild(inflateView({view:view.children[i], computeList :computeList }))}\n                handleMatchParentChrome50(chrome50matchList)\n                // TODO :: run height enforcer\n            //console.timeEnd('filtering')\n        }\n        //replacing only the diff elements\n        else if(view.props.diffArray){\n            //console.time('patch')\n            for(let i of view.props.diffArray)\n            {\n                //console.log(\"CHANGING VIEW OF \"+i)\n                console.time(\"patchingElement\")\n                let oldView = view.children[i];\n                let oldChild = document.getElementById(oldView.props.id);\n                if(oldChild){\n\n                    let newChildView = List.getChildItemViewByIndex(view,i);\n                    newChildView.onClick = oldView.onClick;\n                    view.children[i] = newChildView\n                    computeChildDimens(view)\n                    var chrome50matchList;\n                    if(isChrome50()) {\n                        chrome50matchList = {h : [], w: []}\n                    }\n                    let newChild = inflateView({view:newChildView, computeList : computeList, chrome50matchList});\n                    handleMatchParentChrome50(chrome50matchList);\n                    // newChild.addEventListener('click',newChildView.props.onClick)\n                    // newChild.style.cursor='pointer'\n                    // console.dir(newChild)\n                    elem.replaceChild(newChild,oldChild);\n\n                }\n                console.timeEnd('patchingElement')\n        }\n        }\n        view.props.diffArray = undefined;\n}\nlet inflateView = function ({view, parentElement, siblingView, stopChild, renderStyle, computeList, chrome50matchList} ={}) {\n    view.state = view.state || {};\n    if(view.props.listData){\n        view.props.itemDatas = (typeof view.props.listData == \"string\") ? JSON.parse(view.props.listData) : view.props.listData;\n        if(!view.props.data){\n            view.props.data = JSON.parse(view.props.listItem)\n        }\n    }\n    if(typeof chrome50matchList == \"object\") {\n        chrome50matchList.h = chrome50matchList.h || []\n        chrome50matchList.w = chrome50matchList.w || []\n        if(view.props.height == \"match_parent\") {\n            chrome50matchList.h.push(view)\n        }\n        if(view.props.width == \"match_parent\") {\n            chrome50matchList.w.push(view)\n        }\n    }\n\n    let {elem,newInflated} = getElementByView(view, parentElement, siblingView, stopChild, renderStyle);\n    if (view && view.hasOwnProperty(\"props\") && view.props.hasOwnProperty(\"testID\")){\n        view.props.testID = view.props.testID.replace(/\\W|_/g, '_').replace(/_+/g, '_').toLowerCase();\n        elem.setAttribute(\"testID\", view.props.testID);\n    }\n    //patching list\n    if(view.props.listData && renderStyle ){\n        renderList(view, elem, computeList);\n    } else if (!stopChild ) {\n        //firstRender List\n        if (view.props.itemDatas) {\n            List.createListView(view);\n            computeChildDimens(view);\n        }\n       if (view.hasOwnProperty('children') && view.children.length > 0) {\n           preComputeLayoutDimens(view);\n           postComputeLayoutDimens2(view, computeList)\n            for (let i = 0; i < view.children.length; i++) {\n                if (view.children[i]) {\n                    view.children[i].parent = view;\n                    if (i != 0) {\n                        inflateView({view:view.children[i], parentElement:elem, siblingView:view.children[i - 1], stopChild:renderStyle, renderStyle, computeList, chrome50matchList});\n                    } else {\n                        inflateView({view:view.children[i], parentElement:elem, siblingView:view, stopChild:renderStyle, renderStyle, computeList, chrome50matchList});\n                    }\n                }\n            }\n\n        }\n        view.state = view.state || {};\n        view.state.computedHeight = isNaN(parseInt(view.props.height)) ? view.state.computedHeight || 0 : parseInt(view.props.height)\n        view.state.computedWidth = isNaN(parseInt(view.props.width)) ? view.state.computedWidth || 0 : parseInt(view.props.width)\n    }\n    else {\n        postComputeLayoutDimens2(view, computeList);\n    }\n    setAfterRenderFunctions(newInflated, view, elem);\n\n    return elem;\n};\n\nlet preComputeLayoutDimens = (view) => {\n    view.state = view.state || {}\n    if (view.type == \"relativeLayout\") {\n        view.state.treatMatchParentAsWrapHeight = view.state.practicalHeight == \"wrap_content\";\n        view.state.treatMatchParentAsWrapWidth = view.state.practicalWidth == \"wrap_content\";\n        // if(view.state.treatMatchParentAsWrapHeight && view.state.treatMatchParentAsWrapWidth)\n        for (var i = 0; i < view.children.length; ++i) {\n            if (view.children[i].props.height != \"match_parent\")\n                view.state.treatMatchParentAsWrapHeight = false;\n            if (view.children[i].props.width != \"match_parent\")\n                view.state.treatMatchParentAsWrapWidth = false;\n            if (!view.state.treatMatchParentAsWrapWidth && !view.state.treatMatchParentAsWrapHeight)\n                break\n        }\n    }\n}\n\nlet postComputeLayoutDimens2 = (view,postComputeList) =>{\n    if(postComputeList && view.type == \"relativeLayout\" && (view.state.practicalWidth == \"wrap_content\"  || view.state.practicalHeight == \"wrap_content\" ) && view.children.length > 0) {\n        postComputeList.push(view.props.id);\n        window.__VIEWS[view.props.id] = window.__VIEWS[view.props.id] || view\n    }\n}\n\nlet getValueFromPixel = (pixel) =>{\n    return parseInt(pixel.substring(0,pixel.length-1));\n}\nlet postCompute = (list) =>{\n    while(list.length>0){\n        let id = list.pop();\n\n        let elem = document.getElementById(id);\n        if(!elem)\n            continue;\n        let childNodes = elem.children;\n        let maxHeight = 0;\n        let maxWidth = 0;\n        for (var i = 0; i < childNodes.length; ++i) {\n                let style = childNodes[i].currentStyle || window.getComputedStyle(childNodes[i]);\n                if(style.display != \"none\") {\n                    maxHeight = maxHeight > childNodes[i].offsetHeight ? maxHeight : (childNodes[i].offsetHeight + getValueFromPixel(style.marginTop) + getValueFromPixel(style.marginBottom));\n                    maxWidth = maxWidth > childNodes[i].offsetWidth ? maxWidth : childNodes[i].offsetWidth;\n                }\n        }\n        let view = window.__VIEWS[id];\n        if(view && view.state && view.state.practicalHeight == \"wrap_content\" ) {\n            elem.style.height = maxHeight + \"px\"\n        }\n        if(view && view.state && view.state.practicalWidth == \"wrap_content\") {\n            elem.style.width = maxWidth + \"px\"\n        }\n\n    }\n}\nlet postComputeLayoutDimens = (view, elem) => {\n    if(view && view.type == \"relativeLayout\" && (view.state && (view.state.practicalWidth == \"wrap_content\"  || view.state.practicalHeight == \"wrap_content\" )) && view.children.length > 0) {\n        var largestHeight = view.children[0].state.computedHeight;\n        var largestWidth = view.children[0].state.computedWidth;\n        for (var i = 1; i < view.children.length; ++i) {\n            if (view.state && view.state.practicalHeight == \"wrap_content\") {\n                largestHeight = largestHeight > view.children[i].state.computedHeight ? largestHeight : view.children[i].state.computedHeight;\n            }\n            if (view.state && view.state.practicalWidth == \"wrap_content\") {\n                largestWidth = largestWidth > view.children[i].state.computedWidth ? largestWidth : view.children[i].state.computedWidth\n            }\n        }\n        if(view.state && view.state.practicalHeight == \"wrap_content\" ) {\n            elem.style.height = largestHeight + \"px\"\n            view.state.computedHeight = largestHeight\n        }\n        if(view.state && view.state.practicalWidth == \"wrap_content\") {\n            elem.style.width = largestWidth + \"px\"\n            view.state.computedWidth = largestWidth\n        }\n    }\n}\n\n// what?\nlet handleWrapContent = (view, parentElement) => {\n    let newDimen = 0;\n    for (var i = 0; i < parentElement.childNodes.length; i++) {\n        newDimen += parentElement.childNodes[i].offsetWidth;\n    }\n    view.props.x = newDimen;\n    return view;\n}\n\nfunction handleMatchParentChrome50 (chrome50matchList) {\n    // Chrome 50 is not supporting height/ width 100% inside flex : 1 layouts.\n    // Below code derives height from parent in cases where it failed to compute\n    if(!chrome50matchList) {\n        return;\n    }\n    // Commented code is used for debugging purposes, to find misfires\n    // window.modifiedIds = window.modifiedIds || []\n    for(var x = chrome50matchList.h, i =0 ; x && i < x.length ; ++i) {\n        if(x[i] && x[i].props && x[i].props.id){\n            var elm = document.getElementById(x[i].props.id)\n            if ( elm && elm.parentElement\n                && (elm.parentElement.parentElement\n                    // Code to handle cases where parent is height 0 weight 1\n                    // and parent of parent is orientation vertical\n                    && elm.parentElement.parentElement.style\n                    && elm.parentElement.parentElement.style.flexDirection == \"column\"\n                    && elm.parentElement.style['flex-grow'] == \"1\"\n                    && elm.parentElement.style['flex-shrink'] == \"1\"\n                    // Do not apply if offset height is 0;\n                    // this will happen for relative layouts;\n                    // 100% which is already present will give correct result\n                    && elm.parentElement.offsetHeight\n                    )\n                ) {\n                elm.style.height = elm.parentElement.offsetHeight + \"px\"\n                // window.modifiedIds.push(x[i].props.id)\n            }\n        }\n    }\n    for(var x = chrome50matchList.w, i =0 ; x && i < x.length ; ++i) {\n        if(x[i] && x[i].props && x[i].props.id){\n            var elm = document.getElementById(x[i].props.id)\n            if ( elm && elm.parentElement\n                && (elm.parentElement.parentElement\n                    && elm.parentElement.parentElement.style\n                    // Code to handle cases where parent is width 0 weight 1\n                    // and parent of parent is orientation horizontal\n                    && elm.parentElement.parentElement.style.flexDirection == \"row\"\n                    && elm.parentElement.style['flex-grow'] == \"1\"\n                    && elm.parentElement.style['flex-shrink'] == \"1\"\n                    // Do not apply if offset width is 0;\n                    // this will happen for relative layouts;\n                    // 100% which is already present will give correct result\n                    && elm.parentElement.offsetWidth\n                    )\n                ) {\n                elm.style.width = elm.parentElement.offsetWidth + \"px\"\n                // window.modifiedIds.push(x[i].props.id)\n            }\n        }\n    }\n}\n\nlet tagShimmerElementsForRender = function(node, children, width) {\n    // console.log(\"shimmer children\", node, children);\n    if (children.length == 0) {\n        node.props.shouldShimmer = true;\n        return node.props.width;\n    }\n    for(let i = 0; i < children.length; i++) {\n        // console.log(\"tagging children\", children[i], children[i].children);\n        width = Math.max(tagShimmerElementsForRender(children[i], children[i].children, width), width);\n    }\n    node.props.isSeen = true;\n    return width;\n}\n\nmodule.exports = {\n    inflateView,\n    computeChildDimens,\n    List,\n    postComputeLayoutDimens,\n    preComputeLayoutDimens,\n    postCompute,\n    isChrome50,\n    handleMatchParentChrome50\n};\n","const {hexToAlpha} = require(\"../utils\");\n\nfunction parseColors(color) {\n    if (color.length < 8)\n      return color;\n\n    if (color.indexOf(\"rgba\") !== -1 || color.indexOf(\"rgb\") !== -1)\n      return color;\n\n    var alpha = parseInt(color.substring(1, 3), 16);\n    alpha = (alpha / 255).toFixed(2);\n\n    var hexColor = color.substring(3, 9);\n    var rgbaColor = \"rgba(\" + convertHexToRgb(hexColor) + \",\" + alpha + \")\";\n\n    return rgbaColor;\n}\n\nlet postRenderElements = {}\n\nfunction rWS(value) {\n  return value.replace(/ /g, '');\n}\n\nfunction cS(value) {\n  return value ? value + '' : \"\";\n}\n\nfunction convertColorToRgba(color) {\n  color = rWS(cS(color));\n\n  var values;\n  var alpha = \"1.00\";\n\n  if (color.length >= 8) {\n    alpha = hexToAlpha(color.substring(1, 3)).toFixed(2);\n    color = color.substring(3, 9);\n  } else {\n    color = color.substring(1, color.length);\n  }\n\n  color = convertHexToRgb(rWS(color));\n  values = color.split(',');\n\n  return {\n    r: parseInt(rWS(values[0])),\n    g: parseInt(rWS(values[1])),\n    b: parseInt(rWS(values[2])),\n    a: parseFloat(alpha)\n  };\n}\n\nfunction getValueFromPixel (pixel) { return parseInt(pixel.substring(0,pixel.length-1)) };\n\nfunction calculateHeight (elem) {\n  if(!elem) return 0;\n  let childNodes = elem.children;\n  let maxHeight = 0;\n  for (var i = 0; i < childNodes.length; ++i) {\n          let style = childNodes[i].currentStyle || window.getComputedStyle(childNodes[i]);\n          maxHeight = maxHeight > childNodes[i].offsetHeight ? maxHeight : (childNodes[i].offsetHeight + getValueFromPixel(style.marginTop) + getValueFromPixel(style.marginBottom));\n  }\n  return maxHeight;\n}\n\nfunction convertHexToRgb(hex) {\n  var r = parseInt(hex.substring(0, 2), 16);\n  var g = parseInt(hex.substring(2, 4), 16);\n  var b = parseInt(hex.substring(4, 6), 16);\n\n  return r + \",\" + g + \",\" + b;\n}\n\nconst state = {\n  fragments : {},\n  fragmentTypes : {},\n  mainRootView : {\n    type: \"relativeLayout\",\n    props: {\n        \"h\": document.getElementById(\"content\").clientHeight,\n        \"w\": document.getElementById(\"content\").clientWidth\n    }\n  }\n}\n\nfunction addToContainerList(id , namespace){\n    let container = getContainer(namespace, true);\n    if(container)\n    {\n      let key = function () {\n            function s4() {\n                return Math.floor((1 + Math.random()) * 0x10000)\n                    .toString(16)\n                    .substring(1);\n            }\n            return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n                s4() + '-' + s4() + s4() + s4();\n        }();\n      state.fragments[key] = document.getElementById(id);\n      state.fragmentTypes[key] = window.__VIEWS[id];\n      return key;\n  }\n  return \"__failed\"\n}\n\nfunction getContainer( namespace ){\n    if(namespace){\n      let container = state.fragments[namespace];\n      if(container)\n        return container;\n      else return undefined;\n  }\n  return document.getElementById(\"content\");\n}\n\nfunction getParentView(namespace, view) {\n  if (window.__VIEWS && !window.__VIEWS.content) {\n    window.__VIEWS.content = state.mainRootView;\n  }\n  if (namespace) {\n    let containerType = state.fragmentTypes[namespace];\n    if (containerType) {\n      containerType.children = containerType.children || []\n      containerType.children.push(view);\n      containerType.oldView = true;\n      return containerType;\n    }\n  }\n\n  if (state.mainRootView.children) {\n    state.mainRootView.oldView = true;\n  }\n  state.mainRootView.children = state.mainRootView.children || [];\n  state.mainRootView.children.push(view);\n  return state.mainRootView;\n}\n\n// function modifyTranslation(config){\n//   var x = config.x || \"0\";\n//   var y = config.y || \"0\";\n//   var animationArray = JSON.parse(config.inlineAnimation);\n//   var animationArray = animationArray.map(function(a){\n//     if(a.hasOwnProperty(\"fromX\")){\n//       a.fromX = parseInt(a.fromX) + parseInt(x) + '';\n//       if(!a.hasOwnProperty(\"toX\")){\n//         a.toX = 0 + parseInt(x) + '';\n//       }\n//     }\n//     if(a.hasOwnProperty(\"toX\")){\n//       a.toX = parseInt(a.toX) + parseInt(x) + '';\n//     }\n//     if(a.hasOwnProperty(\"fromY\")){\n//       a.fromY = parseInt(a.fromY) + parseInt(y) + '';\n//       if(!a.hasOwnProperty(\"toY\")){\n//         a.toY = 0 + parseInt(y) + '';\n//       }\n//     }\n//     if(a.hasOwnProperty(\"toY\")){\n//       a.toY = parseInt(a.toY) + parseInt(y) + '';\n//     }\n//     return a;\n//   })\n//   return (animationArray);\n// }\n\nmodule.exports = {\n    parseColors,\n    rWS,\n    cS,\n    convertColorToRgba,\n    addToContainerList,\n    getParentView,\n    getContainer,\n    calculateHeight,\n    postRenderElements\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst BaseView = require('./baseView');\nconst VIEW = new BaseView(null, null, {});\n\n// Object of types of animations available on screen change\nconst AnimationTypes = {\n  SLIDE: {\n    name: \"slide\",\n    handler: slideHandler\n  },\n  SLIDE_VERTICAL: {\n    name: \"slide_down\",\n    handler: slideDownHandler\n  },\n  SIMPLE: {\n    name: \"simple\",\n    handler: simpleHandler\n  }\n}\n\nconst DEFAULT_ANIMATION = AnimationTypes.SLIDE;\n\nfunction simpleHandler(fromId, toId, direction) {\n  let cmd = VIEW.cmd({\n    id: toId,\n    translationZ: ++window.ZIndex\n  });\n  return cmd;\n}\n\nfunction slideDownHandler(fromId, toId, direction) {\n  let container = VIEW.cmdContainer();\n  let cmd;\n\n  if (direction == 1) {\n    cmd = VIEW.cmd({\n      id: toId,\n      translationY: window.__HEIGHT,\n      a_duration: '300',\n      a_translationY: '0',\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n\n    cmd = VIEW.cmd({\n      id: fromId,\n      a_translationY: -0.2 * window.__HEIGHT,\n      a_duration: '300'\n    });\n    container = container.addCmd(cmd);\n\n    return container;\n  }\n\n  window.ZIndex++;\n  cmd = VIEW.cmd({\n    id: fromId,\n    translationY: 0,\n    a_translationY: window.__HEIGHT,\n    a_duration: '300',\n    translationZ: ++window.ZIndex\n  });\n  container = container.addCmd(cmd);\n\n  cmd = VIEW.cmd({\n    id: toId,\n    translationZ: window.ZIndex-1,\n    a_translationY: '0',\n    translationY: -0.2 * window.__HEIGHT,\n    a_duration: '300',\n  });\n  container = container.addCmd(cmd);\n\n  return container;\n}\n\nfunction slideHandler(fromId, toId, direction) {\n  let container = VIEW.cmdContainer();\n  let cmd;\n  if (direction == 1) {\n    cmd = VIEW.cmd({\n      id: toId,\n      visibility: 'visible',\n      translationX: window.__WIDTH,\n      a_duration: '300',\n      a_translationX: '0',\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n    cmd = VIEW.cmd({\n      id: fromId,\n      translationX: '0',\n      visibility: 'visible',\n      a_duration: '300',\n      a_translationX: (-.2 * window.__WIDTH) + '',\n    });\n    container = container.addCmd(cmd);\n  }\n\n  if (direction == -1) {\n    window.ZIndex++;\n    cmd = VIEW.cmd({\n      id: fromId,\n      translationX: '0',\n      a_duration: '300',\n      a_translationX: window.__WIDTH,\n      translationZ: ++window.ZIndex,\n    });\n    container = container.addCmd(cmd);\n\n    cmd = VIEW.cmd({\n      id: toId,\n      visibility: 'visible',\n      translationX: (-.2 * window.__WIDTH) + '',\n      a_duration: '300',\n      a_translationX: '0',\n      translationZ: window.ZIndex - 1,\n    });\n    container = container.addCmd(cmd);\n  }\n\n  return container;\n}\n\n/*\n  Generic Handler for Animation\n  Arguments:\n    fromViewId: Number - Id of the view currently visible on the screen\n    toViewID: Number - Id of the view which has to be brought on the screen\n    ID: Number - Id of the view to be animated\n    animator: Obj - {name:string, handler:function}\n    direction: Number - Represents of the direction of the screen\n      -1 : Go back to the already rendered screen (right to left)\n       1 : Go to the new screen (left to right)\n*/\nfunction getAnimation(fromViewID, toViewId, direction, animator) {\n  if (!animator)\n    animator = DEFAULT_ANIMATION;\n\n  if (typeof animator === \"object\" && typeof animator.handler === \"function\")\n    return animator.handler(fromViewID, toViewId, direction);\n  else\n    console.log(new Error(\"Animation handler is not a function, type: \" +\n      animator));\n}\n\nmodule.exports.types = AnimationTypes;\nmodule.exports.getAnimation = getAnimation;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst merge =  require(\"./helper\").merge;\n\nString.prototype.addCmd = function(data) {\n  return this.concat(data);\n};\n\nArray.prototype.addCmd = function(data) {\n  this.push(data);\n  return this;\n};\n\nlet parseParams;\nif (window.__OS == \"ANDROID\")\n  parseParams = require('./helpers/android/parseParams').configFunction;\nelse if (window.__OS == \"WEB\")\n  parseParams = require('./helpers/web/parseParams');\nelse\n  parseParams = require('./helpers/ios/parseParams');\n\nclass BaseView {\n  constructor(props, children) {\n    this.props = props || {};\n    this.children = children || [];\n\n    window.__SETFN = function (config) {\n      Android.runInUI(\n        this.set(config),\n        null\n      )\n    }.bind(this)\n\n    this.idSet = {};\n\n    if (this.props.id) {\n      this.idSet[\"id\"] = this.props.id;\n    } else {\n      this.props.id = this.id(\"id\");\n    }\n\n    if (this.props._ref) {\n      this.props._ref(this);\n    }\n  }\n\n  resolveChildren() {\n    return this.children.map(function(child) {\n      return child.render();\n    });\n  }\n\n  findRecurse(obj, selector) {\n    var children = obj.children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].displayName && children[i].displayName == selector) {\n        this.foundChildren.push(children[i]);\n      }\n\n      if (children[i].children && children[i].children.length)\n        this.findRecurse(children[i], selector);\n    }\n\n    return;\n  }\n\n  find(selector, obj) {\n    this.foundChildren = [];\n\n    if (!obj)\n      this.findRecurse(this.layout, selector);\n    else\n      this.findRecurse(obj, selector);\n\n    return this.foundChildren;\n  }\n\n  id(name) {\n    if (!this.idSet[name]) {\n      window.__ID++;\n      this.idSet[name] = window.__ID;\n    }\n\n    return this.idSet[name];\n  }\n\n  setIds(arr) {\n    if (!this.idSet)\n      this.idSet = {};\n\n    for (var i = 0; i < arr.length; i++) {\n      if (!this.idSet[arr[i]]) {\n        window.__ID++;\n        this.idSet[arr[i]] = window.__ID + '';\n      }\n    }\n  }\n\n  handleSpecialChars(value) {\n    value = value.indexOf(',') > -1 ? value.replace(/\\,/g, '\\\\\\\\,') : value;\n    value = value.indexOf(':') > -1 ? value.replace(/\\:/g, '\\\\\\\\:') : value;\n    value = value.indexOf('=') > -1 ? value.replace(/\\=/g, '\\\\\\\\=') : value;\n    value = value.indexOf(';') > -1 ? value.replace(/\\;/g, '\\\\\\\\;') : value;\n\n    return value;\n  }\n\n  cmdForAndroid(config) {\n    var cmd = \"set_view=ctx->findViewById:i_\" + config.id + \";\";\n    var runInUI;\n\n    if (config.toast) {\n      cmd = \"set_TOAST=android.widget.Toast->makeText:ctx_ctx,cs_\" + this.handleSpecialChars(\n          config.text) + \",i_\" + (config.duration == \"short\" ? 0 : 1) +\n        \";get_TOAST->show\";\n    } else if (config && Object.keys(config).length) {\n      delete config.id;\n\n      config.root = \"true\";\n      runInUI = parseParams(\"linearLayout\", config, \"get\").runInUI;\n\n      cmd += runInUI + ';';\n    }\n\n    return cmd;\n  }\n\n  cmdContainer() {\n    if (window.__OS == \"ANDROID\")\n      return \"\";\n    return [];\n  }\n\n  cmdForWeb(config) {\n    if (Object.keys(config).length)\n      return parseParams(\"linearLayout\", config, \"set\");\n  }\n\n  cmd(config) {\n    if (window.__OS == \"ANDROID\")\n      return this.cmdForAndroid(config);\n    else if (window.__OS == \"WEB\")\n      return this.cmdForWeb(config);\n    return config;\n  }\n\n  appendChild(id, jsx, index, fn, replaceChild) {\n    var proxyFnName;\n    if (!replaceChild) {\n      replaceChild = false;\n    }\n\n    if (fn) {\n      proxyFnName = 'F' + window.__FN_INDEX;\n      window.__PROXY_FN[proxyFnName] = fn;\n      window.__FN_INDEX++;\n    }\n\n    jsx = (window.__OS != \"ANDROID\") ? jsx : JSON.stringify(jsx);\n\n    if (proxyFnName)\n      Android.addViewToParent(id, jsx, index, proxyFnName, replaceChild);\n    else\n      Android.addViewToParent(id, jsx, index, null, replaceChild);\n  }\n\n  getView(jsx) {\n    if (window.__OS != \"ANDROID\")\n      return jsx;\n\n    return JSON.stringify(jsx);\n  }\n\n  updateProps(props) {\n    this.props = merge(this.props, props);\n    const oldContainerId = this.layout.idSet.id;\n    const layout = this.render();\n    for (let i=0; i<layout.children.length; i++) {\n      if (i==0) this.replaceChild(oldContainerId, layout.children[i], i);\n      else this.appendChild(oldContainerId, layout.children[i], i);\n    }\n    this.layout.idSet.id = oldContainerId;\n  }\n\n  removeView(id) {\n    if (__OS == \"WEB\")\n      return Android.removeView(id);\n    return \"set_VIEW=ctx->findViewById:i_\" + id +\n      \";set_PARENT=get_VIEW->getParent;get_PARENT->removeView:get_VIEW;\"\n  }\n\n  removeChildren(id) {\n    if (__OS == \"WEB\")\n      return Android.removeChildren(id);\n    return \"set_VIEW=ctx->findViewById:i_\" + id +\n      \";get_VIEW->removeAllViews;\"\n  }\n\n  replaceChild(id, jsx, index, fn) {\n    this.appendChild(id, jsx, index, fn, true);\n  }\n}\n\nmodule.exports = BaseView;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n/*\n  ViewContext of the Parent.f\n  Obj holds the available width and height of it's parent container\n  and x & y offset for it's children\n*/\nfunction viewCtxObj(view) {\n  let props = view.props;\n  let obj = {\n    w: props.w * 1,\n    h: props.h * 1,\n    width: props.w * 1,\n  };\n\n  view.children.forEach(child => {\n    child.props.w = child.props.width;\n    child.props.h = child.props.height;\n  });\n\n  return obj;\n}\n\n/*\n  Returns true if container has a child with match_parent for a\n  given dimension (width or height)\n*/\nfunction hasMatchParentChild(childs, dimen) {\n  for (let i = 0; i < childs.length; i++) {\n    let childProp = childs[i].props;\n\n    if (childProp[dimen] && (childProp[dimen] == \"match_parent\")) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/*\n  Returns true if container has weighted child\n*/\nfunction hasWeightChild(type, childs) {\n  if (type != \"linearLayout\") {\n    return false;\n  }\n\n  for (let i = 0; i < childs.length; i++) {\n    let child = childs[i].props;\n\n    if (child.weight && parseFloat(child.weight) > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction computeRelativeLayout(view) {\n  let viewCtx = viewCtxObj(view);\n  let children = view.children;\n\n  children.forEach(child2 => {\n    let child = window.__VIEWS[child2.props.id] || child2;\n    let props = child.props;\n    var pl = 0, pr = 0, pt = 0, pb =0;\n    if(view.props && view.props.hasOwnProperty('padding')) {\n      var padding = view.props.padding.split(',')\n      pl = padding[0]\n      pt = padding[1]\n      pr = padding[2]\n      pb = padding[3]\n    }\n    props.absolute = true;\n    props.fromTop = pt;\n    props.fromBottom = 'auto';\n    props.fromLeft = pl;\n    props.fromRight = 'auto';\n\n    if(props.hasOwnProperty('alignParentLeft') && props.alignParentLeft){\n      props.fromLeft = 0;\n      props.fromRight = 'auto';\n    }\n    if(props.hasOwnProperty('alignParentRight') && props.alignParentRight){\n      props.fromLeft = 'auto';\n      props.fromRight = pr;\n    }\n\n    if(props.hasOwnProperty('alignParentBottom') && props.alignParentBottom){\n      props.fromTop = 'auto';\n      props.fromBottom = pb;\n    }\n  });\n}\n\nfunction computeLinearlayout(view) {\n  let viewCtx = viewCtxObj(view);\n  let parentProps = view.props;\n  let children = view.children;\n  let isHorizontal = (parentProps.orientation === \"vertical\") ? false : true;\n\n  let activeDimen = (isHorizontal) ? \"w\" : \"h\";\n  let passiveDimen = (isHorizontal) ? \"h\" : \"w\";\n\n  let hasWeight = hasWeightChild(view.type, children);\n  let hasMatchParent = hasMatchParentChild(children, activeDimen);\n\n  if (hasWeight && hasMatchParent) {\n    // We can't use both at the same time\n    return;\n  }\n\n  /* Initialize */\n  children.forEach(child2 => {\n    let child = window.__VIEWS[child2.props.id] || child2;\n    let props = child.props;\n\n    if (props.hasOwnProperty(\"activeDimen\"))\n      delete props[\"activeDimen\"];\n    if (props.hasOwnProperty(\"activeWeight\"))\n      delete props[\"activeWeight\"];\n  });\n  /* Initialize End */\n\n  if(hasMatchParent || hasWeight){\n    let first = true;\n    /* Iterate Child */\n    children.forEach(child2 => {\n      let child = window.__VIEWS[child2.props.id] || child2;\n      let props = child.props;\n\n      if(props.hasOwnProperty(activeDimen) && props[activeDimen] == 'match_parent'){\n        props['activeDimen'] = activeDimen;\n\n        if(first){\n          props['activeWeight'] = 1;\n          first = false;\n        }else{\n          props['activeWeight'] = 0;\n        }\n      }else{\n        if(props.hasOwnProperty('weight') && !isNaN(props['weight'])){\n          let weight = parseFloat(props['weight']);\n\n          if(weight > 0){\n            props['activeDimen'] = activeDimen;\n            props['activeWeight'] = weight;\n          }\n        }\n      }\n    });\n    /* Iterate Child End */\n  }\n} // End Compute LinearLayout\n\nfunction computeChildDimens(view) {\n  if (view.type == \"linearLayout\") {\n    computeLinearlayout(view);\n  } else if (view.type == \"scrollView\" || view.type == \"listView\") {\n    view.props.orientation = \"vertical\";\n    computeLinearlayout(view);\n  } else if (view.type == \"horizontalScrollView\") {\n    view.props.orientation = \"horizontal\";\n    computeLinearlayout(view);\n  } else if (view.type == \"relativeLayout\") {\n    computeRelativeLayout(view);\n  } else {\n    // Do Nothing\n  }\n\n  return view;\n}\n\nmodule.exports = {\n  computeChildDimens\n};","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nfunction run() {\n  if (window.__OS === \"IOS\") {\n    return require(\"./ios\")\n  } else if (window.__OS === \"WEB\") {\n    return require(\"./web\")\n  } else {\n    return require(\"./android\")\n  }\n}\n\nmodule.exports = run();","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nvar parseParams = require('../helpers/web').parseParams;\n\nArray.prototype.flatten = function () {\n  return this.reduce(function (prev, cur) {\n    var more = [].concat(cur).some(Array.isArray);\n    return prev.concat(more ? cur.flatten() : cur);\n  }, []);\n};\n\nmodule.exports = function (type, props, children, elemType, keyId) {\n  // console.log(\"type is\",type); \n  // console.log(\"props are\",props); \n  // console.log(\"children is\",children); \n  // children = children.flatten();\n  // console.log(\"children after flatten is\",children);\n\n  if (!props)\n    props = {};\n  \n  if (typeof type === \"string\") {\n    //props = parseParams(type, props);\n    \n    let obj = {\n      props: props,\n      type: type,\n      children: children\n    };\n    if(elemType){\n      obj.elemType = elemType;\n    }\n    if(keyId){\n      obj.keyId = keyId;\n    }\n\n    window.__VIEWS[props.id] = obj; \n    window.__VIEW_DIMENSIONS[props.id] = null;\n    return obj;\n  } else {\n    return new type(props, children);\n  }\n}","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n  handle : (ui, callback) => {\n    if (!ui) {\n      return;\n    }\n    if(ui.render) {\n      if (typeof Android === \"undefined\")\n        throw new Error(\"Android is undefined\");\n\n      if (window.__OS != \"ANDROID\")\n        return Android.Render(ui.render, null);\n      else {\n        if(typeof Android.getNewID == \"function\") {\n          return Android.Render(JSON.stringify(ui.render), null, \"false\");\n        } else {\n          return Android.Render(JSON.stringify(ui.render), null);\n        }\n      }\n    }\n\n    if(ui.runInUI) {\n      Android.runInUI(ui.runInUI, null);\n    }\n    if(ui.addViewToParent) {\n      Android.addViewToParent(ui.addViewToParent.parentId, JSON.stringify(ui.addViewToParent.jsx), ui.addViewToParent.index, null);\n    }\n  }\n}","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n// Following functions are used by WEB and IOS Render\nfunction cacheDimen(view) {\n  let props = view.props;\n  let dimen = {\n    w: props.w,\n    h: props.h,\n    x: props.x,\n    y: props.y,\n    gravity: props.gravity,\n    padding: props.padding,\n    orientation: props.orientation,\n    stroke: props.stroke ? props.stroke.split(\",\")[0] * 1 : 0,\n  }\n  window.__VIEW_DIMENSIONS[props.id] = dimen;\n}\n\nfunction shouldMove(view) {\n  let props = view.props;\n  let dimen = {\n    w: props.w,\n    h: props.h,\n    x: props.x,\n    y: props.y\n  };\n  let cachedDimen = window.__VIEW_DIMENSIONS[props.id];\n  let changed = false;\n  if (!cachedDimen)\n    return dimen;\n  for (let key in dimen) {\n    if (cachedDimen[key] != dimen[key]) {\n      dimen.id = props.id;\n      changed = true;\n    }\n  }\n  if (changed)\n    return dimen;\n  return null;\n}\n\nfunction getOS() {\n  var userAgent = navigator.userAgent;\n  if (!userAgent)\n    return console.error(new Error(\"UserAgent is null\"));\n  if (userAgent.includes(\"Android\") && userAgent.includes(\"Version\"))\n    return \"ANDROID\";\n  if ((userAgent.includes(\"iPhone\") || userAgent.includes(\"iPad\")) && !userAgent.includes(\"Version\"))\n    return \"IOS\";\n  return \"WEB\";\n}\n\nfunction clearViewExternals(view) {\n  if (!view)\n    return;\n\n  delete window.__VIEWS[view.props.id];\n  delete window.__VIEW_DIMENSIONS[view.props.id];\n  \n  if(__OBSERVERS[view.props.id])\n    delete window.__OBSERVERS[view.props.id];\n\n  view.children.forEach(clearViewExternals);\n}\n\n// use: clone( <thing to copy> ) returns <new copy>\nfunction clone(o, m){\n  // return non object values\n  if('object' !==typeof o) return o\n  // m: a map of old refs to new object refs to stop recursion\n  if('object' !==typeof m || null ===m) m =new WeakMap()\n  var n =m.get(o)\n  if('undefined' !==typeof n) return n\n  // shallow/leaf clone object\n  var c =Object.getPrototypeOf(o).constructor\n  // TODO: specialize copies for expected built in types i.e. Date etc\n  switch(c) {\n    // shouldn't be copied, keep reference\n    case Boolean:\n    case Error:\n    case Function:\n    case Number:\n    case Promise:\n    case String:\n    case Symbol:\n    case WeakMap:\n    case WeakSet:\n      n =o\n      break;\n    // array like/collection objects\n    case Array:\n      m.set(o, n =o.slice(0))\n      // recursive copy for child objects\n      n.forEach(function(v,i){\n        if('object' ===typeof v) n[i] =clone(v, m)\n      });\n      break;\n    case ArrayBuffer:\n      m.set(o, n =o.slice(0))\n      break;\n    case DataView:\n      m.set(o, n =new (c)(clone(o.buffer, m), o.byteOffset, o.byteLength))\n      break;\n    case Map:\n    case Set:\n      m.set(o, n =new (c)(clone(Array.from(o.entries()), m)))\n      break;\n    case Int8Array:\n    case Uint8Array:\n    case Uint8ClampedArray:\n    case Int16Array:\n    case Uint16Array:\n    case Int32Array:\n    case Uint32Array:\n    case Float32Array:\n    case Float64Array:\n      m.set(o, n =new (c)(clone(o.buffer, m), o.byteOffset, o.length))\n      break;\n    // use built in copy constructor\n    case Date:\n    case RegExp:\n      m.set(o, n =new (c)(o))\n      break;\n    // fallback generic object copy\n    default:\n      m.set(o, n =Object.assign(new (c)(), o))\n      // recursive copy for child objects\n      for(c in n) if('object' ===typeof n[c]) n[c] =clone(n[c], m)\n  }\n  return n\n}\n\nfunction merge() {\n  var obj = {},\n      i = 0,\n      il = arguments.length,\n      key;\n  for (; i < il; i++) {\n      for (key in arguments[i]) {\n          if (arguments[i].hasOwnProperty(key)) {\n              obj[key] = arguments[i][key];\n          }\n      }\n  }\n  return obj;\n};\n\nmodule.exports = {\n  shouldMove,\n  cacheDimen,\n  getOS,\n  merge,\n  clearViewExternals,\n  clone,\n}","/* \n\nThis function executes a function stored in a hashmap. \nIt takes atleast a callback string (key for hashmap) to excute the function. \nIn essence this is the read function for the global hashmap.\n./callbackMapper.j is the write function for the global hashmap. \n\nWhile the function name contains `UI` in it, it is not related to UI is any way. \nIt is mostly called after the UI is rendered but JBridge also calls it to call APIs. \n\n*/ \n\n\nfunction invokeUICallback () {\n    let args = (arguments.length === 1 ? [arguments[0]] : Array.apply(null,\n        arguments));\n    var fName = args[0]\n    var functionArgs = args.slice(1)\n    var currTime;\n    var timeDiff;\n    \n    if (window.__ALL_ONCLICKS && window.__ALL_ONCLICKS.indexOf(fName) != -1 && args[2] == \"feedback\" && JBridge && JBridge.setClickFeedback) {\n        return JBridge.setClickFeedback(args[1]);\n    }\n  \n    if (window.__THROTTELED_ACTIONS && window.__THROTTELED_ACTIONS.indexOf(fName) == -1) {\n        let proxyFnKey = fName;\n        if (proxyFnKey.charAt(0) == '\"')\n            proxyFnKey = fName.substring(1, fName.length - 1);\n        window.__PROXY_FN[proxyFnKey].apply(null, functionArgs);\n    } else if (window.__LAST_FN_CALLED && (fName == window.__LAST_FN_CALLED.fName)) {\n        currTime = getCurrTime();\n        timeDiff = currTime - window.__LAST_FN_CALLED.timeStamp;\n  \n        if (timeDiff >= 300) {\n            window.__PROXY_FN[fName].apply(null, functionArgs);\n            window.__LAST_FN_CALLED.timeStamp = currTime;\n        } else {\n            console.warn(\"function throtteled\", fName);\n            console.warn(\"time diff\", timeDiff);\n        }\n    } else {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n        window.__LAST_FN_CALLED = {\n            timeStamp: (new Date()).getTime(),\n            fName: fName\n        }\n    }\n};\n\nmodule.exports = {\n    invoke : invokeUICallback\n};","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\n /*\n\tThis takes a function and puts it in a hashmap called __PROXY_FN and returns the key (a string). \n\tKey is contructed using a global variables. \n\tHashmap is also a global variable. \n\tPoint To Note : Since iframes, we have different DOM Documents. So, these global variables are global to Presto-UI's document. \n */ \nmodule.exports.map = (fn) => {\n\t// console.debug(\"presto-ui callback-mapper document location\",document.location); \n\tif(typeof window.__FN_INDEX !== 'undefined' && window.__FN_INDEX !== null) {\n\t\tvar proxyFnName = 'F' + window.__FN_INDEX;\n\t\tif (JOS.self){\n\t\t\tproxyFnName = JOS.self + \"_\" + proxyFnName;\n\t\t} else if (window.__payload && window.__payload.service){\n\t\t\tproxyFnName = window.__payload.service + \"_\" + proxyFnName;\n\t\t}\n\t\twindow.__PROXY_FN[proxyFnName] = fn;\n\t\twindow.__FN_INDEX++;\n\t\t// console.log(\"Presto-UI Callback Mapper proxyFnName is\",proxyFnName); \n\t\treturn proxyFnName;\n\t} else {\n\t\tthrow new Error(\"Please initialise window.__FN_INDEX = 0 in index.js of your project.\");\n\t}\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n\tcallbackMapper : require(\"./callbackMapper\")\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nconst helpers = {\n\tcommon : require(\"./common\")\n};\n\n\nif (window.__OS == \"ANDROID\") {\n\thelpers.android = require(\"./android\")\n}\nelse if (window.__OS == \"WEB\") {\n\thelpers.web = require(\"./web\");\n}\nelse {\n\thelpers.ios = require(\"./ios\");\n}\n\n\nmodule.exports = helpers;","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\nmodule.exports = {\n\tparseParams : require(\"./parseParams\"),\n}\n","/*\n* Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n* JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n*\n* This file is part of JUSPAY Platform.\n*\n* JUSPAY Platform is free software: you can redistribute it and/or modify\n* it for only educational purposes under the terms of the GNU Affero General\n* Public License (GNU AGPL) as published by the Free Software Foundation,\n* either version 3 of the License, or (at your option) any later version.\n* For Enterprise/Commerical licenses, contact <info@juspay.in>.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n* be liable for all damages without limitation, which is caused by the\n* ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n* damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n* The end user has NO right to claim any indemnification based on its use\n* of Licensed Software. See the GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n*/\n\n\n/*\n\n\nTHIS FILE IS REDUNDANT NOW, WEB NO LONGER CALLS ANY FUNCTION OF THIS FILE\n\n\n*/ \n\n\nArray.prototype.rotate = (function () {\n  // save references to array functions to make lookup faster\n  var push = Array.prototype.push,\n    splice = Array.prototype.splice;\n\n  return function (count) {\n    var len = this.length >>> 0, // convert to uint\n      count = count >> 0; // convert to int\n\n    // convert count to value in range [0, len)\n    count = ((count % len) + len) % len;\n\n    // use splice.call() instead of this.splice() to make function generic\n    push.apply(this, splice.call(this, 0, count));\n    return this;\n  };\n})();\n\nfunction flattenObject(ob) {\n  var toReturn = {};\n  for (var i in ob) {\n    if (!ob.hasOwnProperty(i)) continue;\n    if ((typeof ob[i]) == 'object') {\n      var flatObject = flattenObject(ob[i]);\n      for (var x in flatObject) {\n        if (!flatObject.hasOwnProperty(x)) continue;\n        if (typeof flatObject[x] !== \"undefined\")\n          toReturn[x] = flatObject[x];\n      }\n    } else {\n      toReturn[i] = ob[i];\n    }\n  }\n\n  return toReturn;\n}\n\nfunction parseColors(color) {\n  if (color.length < 8)\n    return color;\n\n  if (color.indexOf(\"rgba\") !== -1 || color.indexOf(\"rgb\") !== -1)\n    return color;\n\n  var alpha = parseInt(color.substring(1, 3), 16);\n  alpha = (alpha / 255).toFixed(2);\n\n  var hexColor = color.substring(3, 9);\n  var rgbaColor = \"rgba(\" + convertHexToRgb(hexColor) + \",\" + alpha + \")\";\n\n  return rgbaColor;\n}\n\nfunction lookAndReplaceProp(str,match, val){\n  var output = match + \"(\" + val + \"px)\";\n  if (!str) return output; \n  var start = str.indexOf(match); \n  if (start >= 0){\n    var end = str.substr(start).indexOf(\")\"); \n    if (end >= 0) {\n      var found = str.substr(start,end+1); \n      return str.replace(found,output); \n    }\n    else {\n      return str+output; \n    }\n  } \n  else return str+output; \n}\n\n\nfunction parseLayoutProps(type, config, key) {\n  if (typeof config[key] == \"undefined\" || config[key] == null) {\n    delete config[key];\n    return;\n  }\n\n  if (!config.style) {\n    var t = \"\"\n    var ele_id = document.getElementById(config.id)\n    if (ele_id) {\n      if (ele_id.style)\n        t = (ele_id.style.transform) ? ele_id.style.transform  : \"\" \n    }\n    config.style = {};\n    config.style.transform = t; \n    config.animation = {};\n    config.animation.transform = \"\";\n  }\n\n  if (!config.attributes) \n    config.attributes = {};\n\n  if (!config.style.className)\n    config.style.className = \"\";\n\n  if ((key == \"onClick\" || key == \"onClickEvent\")) {\n    if(!isMobile && !config.cursorType){\n      config.style.cursor = \"pointer\";\n    }\n  }\n  if(key == \"cursorType\") {\n    config.style.cursor = config.cursorType;\n  }\n  if (key == \"textSize\")\n    config.style.fontSize = config.textSize + 'px';\n  if (key == 'fontSize')\n    config.style.fontSize = config.fontSize + 'px';\n  \n  if (key == 'url')\n    config.attributes.src = config.url\n    \n  /*if (key == \"imageUrl\"){\n    let imageUrl = config.imageUrl;\n    \n    if(config.rawData) {\n      // Do nothing\n    } else {\n      let temp = imageUrl.split('.');\n      let ext = '';\n      if(temp && temp.length > 0)\n        ext = temp[temp.length - 1];\n      \n      let exts = [\"jpeg\", \"jpg\", \"png\", \"bmp\", \"svg\", \"gif\"];\n      ext = ext.toLowerCase();\n\n      if(!exts.includes(ext)) {\n        imageUrl += '.png';\n      }\n    }\n\n    config.attributes.src = imageUrl;\n  }*/\n\n  if (key == \"backgroundColor\") {\n    config.style.backgroundColor = parseColors(config.backgroundColor);\n  }\n\n  if (key == \"background\") {\n    config.style.background = config.background;\n  }\n  if (key == \"backgroundDrawable\") {\n    config.style[\"background-image\"] = \"url('\"+config.backgroundDrawable+\"')\";\n  }\n\n  if (key == \"color\") {\n    config.style.color = parseColors(config.color);\n  }\n\n  if(key == \"position\") {\n    config.style.position = config.position;\n  }\n\n  if(key == \"bottomFixed\") {\n    config.style.bottom = config.bottomFixed;\n  }\n  if(key == \"topFixed\") {\n    config.style.top = config.topFixed;\n  }\n  if(key == \"leftFixed\") {\n    config.style.left = config.leftFixed;\n  }\n  if(key == \"rightFixed\") {\n    config.style.right = config.rightFixed;\n  }\n\n  if(key == \"zIndex\") {\n    config.style[\"z-index\"] = config.zIndex;\n  }\n\n  if(key == \"autofocus\"){\n    var isIPhone = (navigator.userAgent.indexOf(\"iPhone\") !== -1)\n    if(config.autofocus && !isIPhone){\n      config.attributes[\"autofocus\"] = \"autofocus\";  \n    }\n  }\n  if(key==\"focus\") {\n    if (config.focus && config.id){\n      var doc = document.getElementById(config.id);\n      if (doc){\n        doc.focus();\n      }\n\n    }\n  }\n\n  if (key == \"cornerRadius\") {\n    config.style.borderRadius = config.cornerRadius + \"px\";\n  }\n\n  if (key == \"cornerRadii\") {\n    const [radius, ...corners] = config.cornerRadii.split(',');\n    config.style.borderRadius = corners.map(bool => `${bool * radius}px`).join(' ') + \";\";\n  }\n\n  if (key == \"alpha\") {\n    config.style.opacity = config[key];\n  }\n\n  if (key == \"a_alpha\") {\n    config.animation.opacity = config[key];\n  }\n\n  if (key == \"fontFamily\") {\n    config.style.fontFamily = config.fontFamily;\n  }\n\n  if (key == 'typeface') {\n    switch(config.typeface){\n      case 'normal':\n        config.style.fontWeight = 400;\n      break;\n      case 'bold':\n        config.style.fontWeight = 700;\n      break;\n      case 'italic':\n        config.style.fontStyle = 'italic';\n      break;\n      case 'bold_italic':\n        config.style.fontWeight = 700;\n        config.style.fontStyle = 'italic';\n      break;\n      case 'underline':\n        config.style.textDecoration = 'underline';\n      break;\n    }\n  }\n\n  if (key == \"fontStyle\") {\n    let match = config.fontStyle.match(/[/-]/);\n    let fontName = match ? config.fontStyle.slice(0, match.index) : config.fontStyle;\n    config.style.fontFamily = fontName;\n\n    if (!match)\n      return;\n\n    let type = config.fontStyle.slice(match.index + 1);\n    type = type.replace(/[-/]/g, '');\n    type  = type.toLowerCase();\n\n    if (type.indexOf('italic') != -1)\n      config.style.fontStyle = 'italic';\n\n    let fontWeight = 0;\n\n    if (type.indexOf('extralight') != -1)\n      fontWeight = 200;\n    else if (type.indexOf('light') != -1)\n      fontWeight = 300;\n    else if (type.indexOf('regular') != -1 || type.indexOf('book') != -1)\n      fontWeight = 400;\n    else if (type.indexOf('semibold') != -1 || type.indexOf('medium') != -1)\n      fontWeight = 500;\n    else if (type.indexOf('bold') != -1 || type.indexOf('heavy') != -1)\n      fontWeight = 700;\n    else if (type.indexOf('black') != -1)\n      fontWeight = 900;\n\n    if(fontWeight > 0)\n      config.style.fontWeight = fontWeight;\n  }\n\n  if (key == 'visibility') {\n    let visibility = config.visibility;\n    if (visibility == 'invisible')\n      config.style.visibility = \"hidden\";\n    else if (visibility == 'gone')\n      config.style.display = \"none\";\n    else {\n      config.style.visibility = '';\n    }\n  } \n\n  if (key == 'expand') {\n    let visibility = config.expand + '';\n    if (visibility == 'true'){\n      config.style.visibility = '';\n    }\n    else\n      config.style.display = \"none\";\n  }\n\n  if (key == \"stroke\") {\n    let values = config.stroke.split(\",\");\n\n    if(values.length == 2)\n      config.style.border = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3){\n\n      strokeMap = {\"b\": \"borderBottom\", \"t\" : \"borderTop\", \"r\" : \"borderRight\", \"l\" : \"borderLeft\"};\n      \n      for (var i of values[2]){\n          if (strokeMap[i] !== undefined)\n            config.style[strokeMap[i]] = values[0] + \"px solid \" + values[1];\n      }\n\n    }\n    \n  }\n\n  if (key == \"strokeTop\") {\n    let values = config.strokeTop.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderTop = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderTop = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeRight\") {\n    let values = config.strokeRight.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderRight = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderRight = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeBottom\") {\n    let values = config.strokeBottom.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderBottom = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderBottom = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"strokeLeft\") {\n    let values = config.strokeLeft.split(\",\");\n    \n    if(values.length == 2)\n      config.style.borderLeft = values[0] + \"px solid \" + values[1];\n    else if(values.length == 3)\n      config.style.borderLeft = values[0] + \"px \" + values[1] + \" \" + values[2];\n  }\n\n  if (key == \"translationY\") {\n    config.style.transform = lookAndReplaceProp(config.style.transform,\"translateY\",config[key]);\n  }\n\n  if (key == \"a_translationY\") {\n    config.animation.transform += \"translateY(\" + config[key] + \"px) \";\n  }\n\n  if (key == \"translationX\") {\n    config.style.transform = lookAndReplaceProp(config.style.transform,\"translateX\",config[key]);\n  }\n\n  if (key == \"a_translationX\") {\n    config.animation.transform += \"translateX(\" + config[key] + \"px) \";\n  }\n\n  if (key == \"scaleX\") {\n    config.style.transform += \"scaleX(\" + config[key] + \") \";\n  }\n\n  if (key == \"a_scaleX\") {\n    config.animation.transform += \"scaleX(\" + config[key] + \") \";\n  }\n\n  if (key == \"scaleY\") {\n    config.style.transform += \"scaleY(\" + config[key] + \") \";\n  }\n\n  if (key == \"a_scaleY\") {\n    config.animation.transform += \"scaleY(\" + config[key] + \") \";\n  }\n\n  if (key == \"rotation\") {\n    config.style.transform += \"rotate(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotation\") {\n    config.animation.transform += \"rotate(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"rotationX\") {\n    config.style.transform += \"rotateX(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotationX\") {\n    config.animation.transform += \"rotateX(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"rotationY\") {\n    config.style.transform += \"rotateY(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"a_rotationY\") {\n    config.animation.transform += \"rotateY(\" + config[key] + \"deg) \";\n  }\n\n  if (key == \"translationZ\") {\n    var v = config[key];\n    config.style[\"-webkit-box-shadow\"] = \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    config.style[\"-moz-box-shadow\"]= \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    config.style[\"box-shadow\"]=  \"0 0 \"+v.toString()+\"px rgba(0,0,0, .1)\";\n    \n  }\n\n  if (key == \"a_duration\" && !isNaN(config[key])) {\n    const suffix = config.transitionTimingFunction ? (\" \" + config.transitionTimingFunction) : \"\";\n    config.animation.transition = config[key] + 'ms all' + suffix;\n  }\n  \n  if (type == \"textView\" && key == \"gravity\" && config.gravity) {\n    config.style.textAlign = config.gravity;\n    if (config.gravity == \"center_vertical\") {\n      config.style[\"align-items\"] = \"center\";\n      config.style.display = \"flex\";\n    } else if (config.gravity == \"center_horizontal\") {\n      config.style.display = \"flex\";\n      config.style[\"justify-content\"] = \"center\";\n    } else if (config.gravity == \"center\") {\n      config.style.display = \"flex\";\n      config.style[\"align-items\"] = \"center\";\n      config.style[\"justify-content\"] = \"center\";\n    }\n    else if (config.gravity == \"center\"){\n      config.style.display = \"flex\";\n      config.style[\"align-items\"] = \"center\";\n      config.style[\"justify-content\"] = \"center\";\n    }\n  }\n  if (type == \"linearLayout\" && key == \"gravity\" && config.gravity){\n    if (config.margin && config.gravity==\"center_vertical\"){\n      var margin=config.margin.split(\",\");\n      if (config.width == \"match_parent\"){\n         config.style.width=\"calc(100% - \"+(parseInt(margin[0])+parseInt(margin[2])).toString()+\"px )\";\n      }\n    }\n  }\n\n  if (key == \"hint\"){\n    config.attributes.placeholder = config.hint;\n  }\n\n  if (key == \"contentEditable\" && config.contentEditable){\n    config.attributes.contenteditable = true;\n  }\n\n  if (key == \"id\") {\n    config.attributes.id = config.id;\n  }\n\n\n  if (key == \"gradient\") {\n    var gradientObj =JSON.parse(config.gradient);\n    if (gradientObj.type == \"linear\") {\n      var angle = gradientObj.angle;\n      var values = gradientObj.values;\n      var colors = values.join(\", \");\n      config.style[\"background-image\"] = \"linear-gradient(\"+angle+\"deg, \"+colors+\")\"\n    }\n     else {\n      var values = gradientObj.values;\n      var colors = values.join(\", \");\n      config.style[\"background-image\"] = \"radial-gradient(\"+colors+\")\"\n     }\n  }\n\n\n  if (key == \"inputType\" && window.__isMOBILE && !window.__isFIREFOX) {\n    var inputType = \"text\";\n    if (config.inputType == \"numericPassword\" || config.inputType == \"password\") {\n      if(config.inputTypeI == 4 && isMobile || navigator.userAgent.search(\"Firefox\") === -1 ){\n        inputType = \"tel\";\n        config.style[\"-webkit-text-security\"] = \"disc\";\n        config.style[\"-moz-text-security\"] = \"disc\";\n        config.style[\"text-security\"] = \"disc\";\n      } else {\n        inputType = \"password\"\n        config.attributes.autocomplete = \"new-password\"\n      }\n    } else if (config.inputType == \"disabled\") {\n        config.attributes.disabled = 'disabled'\n    } else if (config.inputType == \"numeric\") {\n        inputType = \"number\"\n    }\n    if (config.separator) {\n      if(config.inputType == \"numeric\"){\n        inputType = \"tel\"  \n      } else {\n        inputType = \"text\"\n      }\n    }\n\n    config.attributes.type = inputType\n  }\n\n  if (key == \"rotateImage\") {\n    if(config.rotateImage){\n      config.style[\"-webkit-animation\"] = \"load3 4s infinite linear\";\n      config.style[\"animation-duration\"] = \"4s\";\n      config.style[\"animation-timing-function\"] = \"linear\";\n      config.style[\"animation-delay\"] = \"0s\";\n      config.style[\"animation-iteration-count\"] = \"infinite\";\n      config.style[\"animation-direction\"] = \"normal\";\n      config.style[\"animation-fill-mode\"] = \"none\";\n      config.style[\"animation-play-state\"] = \"running\";\n      config.style[\"animation-name\"] = \"rotation\";\n\n    }\n  }\n\n  if (key == \"pattern\") {\n    config.attributes[\"data-pattern\"] = config.pattern;\n    var data = config.pattern.split(',');\n    var length = parseInt(data.pop());\n    if(length>10) {length = 10;}\n    config.attributes[\"size\"] =length;\n\n  }\n  // if(key == \"inputTypeI\"){\n  //   if(config.inputTypeI == 4){\n  //     config.attributes[\"inputmode\"] = \"numeric\";\n  //   }\n    \n  // }\n\n  if (key == \"separator\") {\n    config.attributes[\"separator\"] = config.separator;\n  }\n  if (key == \"separatorRepeat\") {\n    config.attributes[\"separatorRepeat\"] = config.separatorRepeat;\n  }\n\n  if (key == \"myAttr\") {\n    config.attributes[\"myAttr\"] = config.myAttr;\n  }\n  if (key == \"blurBackground\" && config.blurBackground){\n    config.style[\"backdrop-filter\"] = \"blur(3px)\";\n  }\n  if (key == \"shadow\") {\n    var shadowValues = config.shadow.split(config.shadowSeparator || ',');\n    var shadowBlur = rWS(cS(shadowValues[2]));\n    var shadowSpread = rWS(cS(shadowValues[3]));\n    var shadowOpacity = rWS(cS(shadowValues[5]));\n    var shadowOffset = {\n        x: rWS(cS(shadowValues[0])),\n        y: rWS(cS(shadowValues[1]))\n      };\n\n    var shadowColor = convertColorToRgba(shadowValues[4]);\n    var shadowType = config.shadowType ? `${config.shadowType} ` : ''\n\n    config[\"style\"][\"box-shadow\"] = shadowType + parseInt(shadowOffset.x) + \"px \" + parseInt(shadowOffset.y) + \"px \" + parseInt(shadowBlur) + \"px \" + parseInt(shadowSpread) + \"px rgba(\" + shadowColor.r + \", \" +  shadowColor.g + \", \" +  shadowColor.b + \", \" +  (shadowColor.a * shadowOpacity) + \")\" ;\n  }\n\n  if (key == \"lineHeight\")\n    config.style.lineHeight = config.lineHeight;\n\n  if (key == \"objectFit\")\n    config.style.objectFit = config.objectFit;\n\n  if (key == \"clickable\") {\n    config.style.pointerEvents = config.clickable ? \"auto\" : \"none\";\n  }\n  if (key == \"display\") {\n    config.style.display = config.display\n  }\n}\n\nfunction convertColorToRgba(color) {\n  color = rWS(cS(color));\n\n  var values;\n  var alpha = \"1.00\";\n\n  if (color.length >= 8) {\n    alpha = parseInt(color.substring(1, 3), 16);\n    alpha = (alpha / 255).toFixed(2);\n    color = color.substring(3, 9);\n  } else {\n    color = color.substring(1, color.length);\n  }\n\n  color = convertHexToRgb(rWS(color));\n  values = color.split(',');\n\n  return {\n    r: parseInt(rWS(values[0])),\n    g: parseInt(rWS(values[1])),\n    b: parseInt(rWS(values[2])),\n    a: parseFloat(alpha)\n  };\n}\n\nfunction convertHexToRgb(hex) {\n  var r = parseInt(hex.substring(0, 2), 16);\n  var g = parseInt(hex.substring(2, 4), 16);\n  var b = parseInt(hex.substring(4, 6), 16);\n\n  return r + \",\" + g + \",\" + b;\n}\n\nfunction cS(value) {\n  return value ? value + '' : \"\";\n}\n\nfunction rWS(value) {\n  return value.replace(/ /g, '');\n}\n\nfunction setDefaults(type, config) {\n  if (type == \"linearLayout\") {\n    config.orientation = config.orientation;\n  }\n}\nfunction this_inlineAnimation(config) {\n  var con=modifyTranslation(config);\n  var element = document.getElementById(con.name);\n}\nfunction modifyTranslation(config){\n  var x = config.x || \"0\";\n  var y = config.y || \"0\";\n  var animationArray = JSON.parse(config.inlineAnimation);\n  var animationArray = animationArray.map(function(a){\n    if(a.hasOwnProperty(\"fromX\")){\n      a.fromX = parseInt(a.fromX) + parseInt(x) + '';\n      if(!a.hasOwnProperty(\"toX\")){\n        a.toX = 0 + parseInt(x) + '';\n      }\n    }\n    if(a.hasOwnProperty(\"toX\")){\n      a.toX = parseInt(a.toX) + parseInt(x) + '';\n    }\n    if(a.hasOwnProperty(\"fromY\")){\n      a.fromY = parseInt(a.fromY) + parseInt(y) + '';\n      if(!a.hasOwnProperty(\"toY\")){\n        a.toY = 0 + parseInt(y) + '';\n      }\n    }\n    if(a.hasOwnProperty(\"toY\")){\n      a.toY = parseInt(a.toY) + parseInt(y) + '';\n    }\n    return a;\n  })\n  return (animationArray);\n}\nmodule.exports = function (type, config, getSetType) {\n  // var ok = flattenObject(c);\n  // console.log(\"object after flatten\",ok); \n  // var config = ok\n  setDefaults(type, config);\n\n  // console.log(\"object after flatten\",config); \n\n\n  var keys = Object.keys(config);\n\n  for (var i = 0; i < keys.length; i++) {\n    if ((config.style && config.style.display === 'none') && keys[i] === 'gravity')  {\n      continue;\n    }\n    parseLayoutProps(type, config, keys[i]);\n  }\n\n  \n  config.transition = [\n    String(config.a_duration || 0) +\"ms\",\n    \"all\",\n    config.transitionTimingFunction\n  ]\n    .filter(Boolean)\n    .join(\" \");\n\n  if (config.style.transform == \"\") {\n    delete config.style.transform;\n  }\n  if (config.hasOwnProperty(\"inlineAnimation\")) {\n    this_inlineAnimation(config);\n  }\n\n  return config;\n}","/*\n * Copyright (c) 2012-2017 \"JUSPAY Technologies\"\n * JUSPAY Technologies Pvt. Ltd. [https://www.juspay.in]\n *\n * This file is part of JUSPAY Platform.\n *\n * JUSPAY Platform is free software: you can redistribute it and/or modify\n * it for only educational purposes under the terms of the GNU Affero General\n * Public License (GNU AGPL) as published by the Free Software Foundation,\n * either version 3 of the License, or (at your option) any later version.\n * For Enterprise/Commerical licenses, contact <info@juspay.in>.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  The end user will\n * be liable for all damages without limitation, which is caused by the\n * ABUSE of the LICENSED SOFTWARE and shall INDEMNIFY JUSPAY for such\n * damages, claims, cost, including reasonable attorney fee claimed on Juspay.\n * The end user has NO right to claim any indemnification based on its use\n * of Licensed Software. See the GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <https://www.gnu.org/licenses/agpl.html>.\n */\n\n/*\n Used to initialize defaults for window funcions and variables.\n*/\n\nwindow.presto_ui_version = __VERSION__;\nconst { merge } = require('./helper');\nwindow.PrestoUI = require(\"./PrestoUIInterface\");\n\nconst getCurrTime = () => (new Date()).getTime()\nif(window.__OS == \"ANDROID\"){\n    var getScreenDetails = function() {\n    try {\n        let details = JSON.parse(Android.getScreenDimensions());\n        return {\n            screen_width: details.width + \"\",\n            screen_height: details.height + \"\"\n        };\n    } catch (err) {\n        console.error(\n            \"error in gettting screen dimensions, setting default values\", err);\n            return {\n                screen_width: \"1080\",\n                screen_height: \"1920\"\n            };\n        }\n    };\n    window.__DEVICE_DETAILS = getScreenDetails();\n}\n\nif(window.__OS !=\"WEB\"){\n    if(!window.parent.juspayAssetConfig){\n        try{\n            window.parent.juspayAssetConfig = JSON.parse(JBridge.loadFileInDUI(\"juspay_assets.json\"));\n        }catch(e){\n            window.parent.juspayAssetConfig = {};\n        }\n        \n    }\n    window.juspayAssetConfig = window.parent.juspayAssetConfig;\n}\n\nif (window.__OS == \"WEB\") {\n    // In case of iFrame based integration, this will cause CORS exception.\n    try {\n        window.Android = window.parent.Android?window.parent.Android:require('./WEB/AndroidInterface')\n    } catch (e){\n        window.Android = require('./WEB/AndroidInterface')\n        console.log(\"Failed to load window.parent.Android\");\n    }\n\n    window.JBridge = window.JBridge ? window.JBridge:window.parent.JBridge;\n} else if (window.__OS == \"IOS\") {\n    window.Android = require(\"./IOS/AndroidInterface\")\n    window.JBridge = merge(window.JBridge, {})\n}\n\nif (window.__DEVICE_DETAILS && window.__DEVICE_DETAILS.hasOwnProperty(\"screen_width\")) {\n    window.__WIDTH = window.__DEVICE_DETAILS.screen_width;\n} else {\n    window.__WIDTH = \"1080\";\n}\n\nif (window.__DEVICE_DETAILS && window.__DEVICE_DETAILS.hasOwnProperty(\"screen_height\")) {\n    window.__HEIGHT = window.__DEVICE_DETAILS.screen_height;\n} else {\n    window.__HEIGHT = \"1920\";\n}\n\nconst guid = Math.random().toString(36).substr(2, 9)\n\n//Intializing defaults\nif (window.__OS == \"WEB\") {\n    /* Components */\n    window.__COM_EVENT = false\n    window.__COM_RENDERED = {\n        SWITCH_GLOBAL: false,\n        DRP: {},\n        DSB: {},\n        DB: {},\n        NAVBAR: {}\n    }\n\n    window.__COM_CLASS_GROUP = {\n        WRAPPER: 'PDC_com_wrapper',\n        NAVBAR: 'PDC_com_navbar',\n        NAVBAR_ITEM: 'PDC_com_navbar_item',\n        NAVBAR_ITEM_WITH_SUB: 'PDC_com_navbar_has_sub',\n        NAVBAR_SUB: 'PDC_com_navbar_sub',\n        NAVBAR_SUB_RIGHT: 'PDC_com_navbar_sub_right',\n        NAVBAR_SUB_ITEM: 'PDC_com_navbar_subitem',\n        DRP: 'PDC_com_drp',\n        DRP_BODY: 'PDC_com_drp_body',\n        DB: 'PDC_com_db',\n        DB_FULL_BODY: 'PDC_com_db_full_body',\n        DB_BODY: 'PDC_com_db_body',\n        DB_OPTIONS: 'PDC_com_db_options',\n        DB_OPTION: 'PDC_com_db_option',\n        DSB: 'PDC_com_dsb',\n        DSB_FULL_BODY: 'PDC_com_dsb_full_body',\n        DSB_BODY: 'PDC_com_dsb_body',\n        DSB_OPTIONS: 'PDC_com_dsb_options',\n        DSB_OPTION: 'PDC_com_dsb_option',\n        DSB_SEARCH_WRAP: 'PDC_com_dsb_search_wrap',\n        DSB_SEARCH: 'PDC_com_dsb_search',\n        SWITCH: 'PDC_com_switch',\n        SWITCH_BODY: 'PDC_com_switch_body',\n        SWITCH_SLIDER: 'PDC_com_switch_slider',\n        BT: 'PDC_com_bt',\n        BT_DISABLED: 'PDC_com_bt_disabled'\n    }\n    window.__COM_COLOR_GROUP = {\n        BG: '#ffffff',\n        ACTIVE_BG: '#EEF1F8',\n        ACTIVE_COLOR: 'rgb(53, 64, 82)',\n        INACTIVE_COLOR: 'rgba(53, 64, 82, 0.5)',\n        BORDER_COLOR: '#A3AFC2',\n        ACTIVE_BORDER_COLOR: '#707886',\n        SEARCH_COLOR: '#dddddd',\n        INACTIVE_SWITCH: '#B7DBBC',\n        ACTIVE_SWITCH: '#36AF47',\n        BT_BORDER_COLOR: '#1585D8',\n        BT_BG_COLOR: '#1991EB',\n        BT_COLOR: '#ffffff'\n    }\n    window.__COM_ACTIVE = {\n        DSB: '',\n        NAVBAR: '',\n        DB: ''\n    }\n    /* Components End */\n\n    /* Modal */\n    window.__STYLE_ID = 'style_' + guid\n    window.__RENDERED_KEYFRAMES = []\n    window.__MODAL_PROPS = {}\n    window.__CONTENTMODAL_CLASS = 'PDC_modal'\n    window.__OPENMODAL_CLASS = 'PDC_modal-open'\n    window.__BACKDROPMODAL_CLASS = 'PDC_modal-backdrop'\n    window.__DISABLEDBACKDROP_CLASS = 'PDC_modal-backdrop-disabled'\n    window.__SHOWNMODAL_CLASS = 'PDC_modal-shown'\n    window.__FADEMODAL_CLASS = 'PDC_modal-fade'\n    window.__SLIDEMODAL_CLASS = 'PDC_modal-slide'\n    /* Modal End */\n\n    window.onclick = (event) => {\n        if (event.target &&\n            event.target.classList.contains(window.__BACKDROPMODAL_CLASS) &&\n            !event.target.classList.contains(window.__DISABLEDBACKDROP_CLASS)\n        ) {\n            document.body.classList.remove(window.__OPENMODAL_CLASS);\n            event.target.classList.remove(window.__SHOWNMODAL_CLASS);\n\n            let id = event.target.id;\n            id = id.replace(window.__BACKDROPMODAL_CLASS + '_', '');\n\n            let view = __VIEWS[id];\n            if (view && view.props.onDismiss && typeof view.props.onDismiss ==\n                \"function\") {\n                view.props.onDismiss();\n            }\n        }\n    }\n\n    const duiShowScreen = (callback, state) => {\n        let popupMenu = document.getElementsByClassName(\"popupMenu\");\n        for (let i = 0; i < popupMenu.length; i++) {\n            popupMenu[i].style.display = \"none\";\n        }\n    };\n    window.__duiShowScreen = duiShowScreen;\n\n} else if (window.__OS == \"IOS\") {\n    window.__COLOR_INDEX = window.__COLOR_INDEX || 1;\n    window.__FONT_INDEX = window.__FONT_INDEX || 1;\n    window.__RECT_INDEX = window.RECT_INDEX || 1;\n    window.__VIEW_INDEX = window.__VIEW_INDEX || 1;\n    window.__IMAGE_INDEX = window.__IMAGE_INDEX || 1;\n    window.__POINT_INDEX = window.__POINT_INDEX || 1;\n    window.__LAYER_INDEX = window.__LAYER_INDEX || 1;\n    window.__SIZE_INDEX = window.__SIZE_INDEX || 1;\n} else {\n    //This would be case for android\n    window.__FN_MAP = {};\n    window.__ALL_ONCLICKS = [];\n}\n\nwindow.__ID = 1;\nwindow.__NODE_ID = 1;\nwindow.__SCREEN_INDEX = -1;\n// Adding temp fix - Will be moved to mystique-web\ntry {\n    window.__PROXY_FN = window.parent.__PROXY_FN?window.parent.__PROXY_FN:{};\n} catch (error) {\n    window.__PROXY_FN = {};\n}\nwindow.__FN_INDEX = 0;\nwindow.__ROOTSCREEN = null;\nwindow.__CACHED_SCREENS = {};\nwindow.__SCREEN_COUNT = 0;\nwindow.__CURR_SCREEN = null;\nwindow.__PREV_SCREEN = null;\nwindow.__ANIMATE_DIR = null;\nwindow.__SCREEN_STACK = [];\nwindow.__LAST_FN_CALLED = null;\nwindow.__THROTTELED_ACTIONS = [];\nwindow.__isMOBILE = window.innerWidth < 550 // this line takes up 80ms out of 360ms\nwindow.__isFIREFOX = navigator.userAgent.toLowerCase().indexOf('firefox') > -1 || typeof InstallTrigger !== 'undefined';\n// Adding temp fix - Will be moved to mystique-web\ntry {\n    window.__VIEWS = window.parent.__VIEWS?window.parent.__VIEWS:{};\n} catch (error) {\n    window.__VIEWS = {};\n}\nwindow.__VIEW_DIMENSIONS = {};\nwindow.__OBSERVERS = {};\nwindow.ZIndex = 0;\n\nwindow.callUICallback = function () {\n    let args = (arguments.length === 1 ? [arguments[0]] : Array.apply(null,\n        arguments));\n    var fName = args[0]\n    var functionArgs = args.slice(1)\n    var currTime;\n    var timeDiff;\n\n    if (window.__ALL_ONCLICKS && window.__ALL_ONCLICKS.indexOf(fName) != -1 && args[2] == \"feedback\" && JBridge && JBridge.setClickFeedback) {\n        return JBridge.setClickFeedback(args[1]);\n    }\n\n    if (window.__THROTTELED_ACTIONS && window.__THROTTELED_ACTIONS.indexOf(fName) == -1) {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n    } else if (window.__LAST_FN_CALLED && (fName == window.__LAST_FN_CALLED.fName)) {\n        currTime = getCurrTime();\n        timeDiff = currTime - window.__LAST_FN_CALLED.timeStamp;\n\n        if (timeDiff >= 300) {\n            window.__PROXY_FN[fName].apply(null, functionArgs);\n            window.__LAST_FN_CALLED.timeStamp = currTime;\n        } else {\n            console.warn(\"function throtteled\", fName);\n            console.warn(\"time diff\", timeDiff);\n        }\n    } else {\n        window.__PROXY_FN[fName].apply(null, functionArgs);\n        window.__LAST_FN_CALLED = {\n            timeStamp: (new Date()).getTime(),\n            fName: fName\n        }\n    }\n};\n","function hexToAlpha(hex) {\n    if (hex.startsWith(\"#\")) {\n      hex = hex.slice(1);\n    }\n    var decimal = parseInt(hex, 16);\n    var alpha = decimal / 255;\n    alpha = Math.round(alpha * 100) / 100;\n    return alpha;\n  }\n\nfunction alphaToHex(alpha) {\n    if(alpha < 0){\n        alpha = 0.0;\n    } else if(alpha > 1){\n        alpha = 1.0;\n    }\n    var decimal = Math.round(alpha * 255);\n    var hex = decimal.toString(16).toUpperCase();\n    if (hex.length < 2) {\n      hex = \"0\" + hex;\n    }\n    return hex;\n}\n\nmodule.exports = {\n    hexToAlpha,\n    alphaToHex\n  }","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./index.js\");\n",""],"names":["module","exports","init","require","doms","handler","helpers","baseView","animations","callbackMapper","getOS","prestoMerge","merge","prestoClone","clone","prestoDom","webParseParams","iOSParseParams","parseParams","helper","window","fontsWhiteList","__OS","web","ios","androidHelpers","android","domAll","elem","__ref","createPrestoElement","props","id","__id","parseInt","type","focus","children","i","length","push","onResize","__resizeEvent","parentType","elemType","getDomToRender","res","JSON","stringify","addFontsToWhitelist","fonts","addToFontsWhiteList","cmdForAndroid","config","set","obj","cmd","runInUI","replace","console","error","_id","root","getRunInUICmd","prop","applyProp","element","attribute","value0","value1","Android","updateProperties","replaceView","removeProp","rep","viewGroups","indexOf","parentNode","__ui_id_sequence","getNewID","__PRESTO_ID","moveChild","child","parent","index","moveView","removeChild","removeView","addChild","warn","addViewToParent","addAttribute","removeAttribute","updateAttribute","insertDom","dom","cb","N","rootId","__ROOTSCREEN","idSet","callback","executePostProcess","__dui_screen","tag","err","JBridge","setShadow","shadowObject","updateProperty","addProperty","_require","inflateView","computeChildDimens","List","postComputeLayoutDimens","preComputeLayoutDimens","postCompute","isChrome50","handleMatchParentChrome50","callbackInvoker","_require2","diffArray","_require3","setUseHintColor","storedDiv","_require4","addToContainerList","getContainer","getParentView","postRenderElements","getScreenDimensions","namespace","width","offsetWidth","height","offsetHeight","getUIElement","ele","document","getElementById","findSiblingView","parentView","isOrientatationChanged","view","__VIEWS","itemView","listData","log","x","parse","itemDatas","parentId","parentElement","stopChild","siblingView","computeList","chrome50matchList","h","w","renderStyle","isListItem","unshift","setPostRender","focusedElement","undefined","selectAll","select","scrollToID","scrollIntoView","behavior","block","Render","useStoredDiv","arguments","oldView","innerHTML","invoke","generateVdom","elements","getUpdatedChildren","splice","Error","viewElem","parentElem","insertBefore","concat","pv","pe","siblingElement","childNodes","nextSiblingElement","nextSibling","appendChild","hasAnimationProps","clearViewExternals","remove","idx","childrenElem","childId","childElem","addEventListeners","eventListeners","_loop","key","event","eventType","substring","toLowerCase","hasOwnProperty","addEventListener","e","stopPropagation","keyCode","target","value","oldEventListener","removeEventListener","JOS_PRESTO_ID","getWindow","getDocument","setChildAttributes","holder","itemData","onClickFunction","onClick","setList","holderViews","holderId","getItemView","oldItems","newItems","diffIndexes","limit","keys","Object","_iterator","_createForOfIteratorHelper","_step","s","n","done","f","mergeHolderViews","finalHolder","createListView","data","changeItemView","cloneTemplate","childView","itemClick","onItemClick","getChildItemViewByIndex","_iterator2","_step2","utils","useHintColor","mapPropToStyle","ele_style","addProps","addFontProp","addTransformProp","addStrokeProp","addGradientProp","addRotateProp","addShadowProp","addTypeSpecificProp","addSetInputTypeProp","initializeShow","style","innerWidth","cursorType","textSize","fontSize","parseColors","backgroundColor","background","shouldShimmer","shimmerColor","backgroundDrawable","color","position","bottomFixed","topFixed","leftFixed","rightFixed","zIndex","cornerRadius","_props$cornerRadii$sp","cornerRadii","split","_props$cornerRadii$sp2","_toArray","radius","corners","slice","map","bool","join","alpha","fontFamily","blurBackground","lineHeight","objectFit","clickable","display","ellipsize","typeface","fontStyle","match","fontName","fontWeight","transform","translationX","translationY","scaleX","scaleY","rotation","rotationX","rotationY","values","stroke","strokeMap","b","t","r","l","strokeTop","strokeRight","strokeBottom","strokeLeft","gradientObj","gradient","angle","colors","addTransitionValue","transition_val","String","a_duration","transitionTimingFunction","filter","Boolean","addSize","state","parentProps","elem_style","treatMatchParentAsWrapWidth","margin","toString","practicalWidth","isNaN","percentWidth","treatMatchParentAsWrapHeight","practicalHeight","percentHeight","minWidth","percentMinWidth","minHeight","percentMinHeight","maxWidth","percentMaxWidth","maxHeight","percentMaxHeight","addBorder","padding","a","addVisibility","visibility","addExpandability","anim_duration","calculateHeight","querySelector","expandDuration","expand","addOverFlow","overFlowVisible","setGravityStylesForRow","gravity_row_style","gravity","setGravityStylesForColumn","gravity_col_style","addLayout","scrollBarX","scrollBarY","scrollBarVisible","fixedWrap","orient","orientation","addImage","imageUrl","gifUrl","rawData","temp","ext","exts","includes","setAttribute","delay","frameDelay","totalDelay","numFrames","ind","lastIndexOf","lastImg","substr","setTimeout","findArticle","article","nodeName","createElement","getArticle","isHtmlContent","textFromHtml","textContent","text","wordBreak","getTextStyle","letterSpacing","createTextElement","text_style","patternCheck","pattern","pop","regexString","finalData","RegExp","separator","regexPattern","test","addTextProperties","oldValidValue","addClassNameProperties","className","trim","classList","add","forEach","removeClassList","addFunctions","elemCB","inputValue","addAnimationAttributes","animation_transition","getAnimeTransition","animation_transform","getAnimeTransform","animation_opacity","getAnimeOpacity","afterTransition","opacity","rotateImage","shadowValues","shadow","shadowSeparator","shadowBlur","rWS","cS","shadowSpread","shadowOpacity","shadowOffset","y","shadowColor","convertColorToRgba","shadowType","g","inputType","inputTypeI","navigator","userAgent","search","elem_style_value","suffix","setElemAttributes","url","scrollToDescendant","hint","separatorRepeat","addPseudoClasses","styleElem","__STYLE_ID","getElementsByTagName","css","boxShadowVal","hintColor","createTextNode","val","mapAttributes","addedShimmerStyle","useClickFeedback","attachKeyDownEventListenerKeyCode","repeat","preventDefault","initiateElement","tagName","isIPhone","autofocus","preponeSpace","separatorInputKeyDownHandlerNew","separatorInputKeyDownHandler","events","onAnimationEnd","animation","manualFocus","onpaste","paste","clipboardData","getData","feedbackMutex","touchFeedbackFn","ogBg","rippleColor","pSBC","disableFeedback","p","c0","c1","P","m","Math","round","pSBCr","d","_d","_d2","_slicedToArray","parseFloat","pow","popup","menuItems","menuBar","cssText","body","clickCb","_loop2","menuDiv","InlineAnimationMapper","self","MAPPINGS","fromX","fromY","fromScaleX","fromScaleY","fromRotation","fromRotationX","fromRotationY","fromAlpha","toX","toY","toScaleX","toScaleY","toRotation","toRotationX","toRotationY","toAlpha","interpolator","toFixed","duration","repeatMode","repeatCount","fillMode","CSSMarkupWriter","keyframe","name","code","keyframeFrom","keyframeTo","animationShorthand","keyframes","addCSSStyle","styleSheet","KEYFRAME_INDEX","c","debug","setAnimationStyles","hasAnimation","inlineAnimation","animationObjects","Array","isArray","keyFrameShorthands","AnimationCSSMarkupWriter","keyFrameFromMarkup","keyFrameToMarkup","countFrom","countTo","animationObject","keyframeName","_i2","_Object$entries","entries","_Object$entries$_i","from","to","keyFrameCSS","__RENDERED_KEYFRAMES","keyFrameAnimShorthand","_unused","addHoverProps","hoverProps","onHover","replaceAll","hoverPath","_unused2","setComputedStyles","computed_styles","activeDimen","weight","activeWeight","absolute","fromTop","fromBottom","fromLeft","fromRight","ev","inputId","input","dataPattern","getAttribute","selectionStart","selectionEnd","formattedString","factor","cursorPosition","newValue","setAttributes","firstRender","autoUpdateHeight","myObserver","ResizeObserver","entry","payload","scrollHeight","runInJuspayBrowser","observe","observer","__OBSERVERS","MutationObserver","item","afterRender","disconnect","attributes","feedback","inflateTimings","lastUpdatedAt","setToolTip","tooltipText","tooltipGravity","tooltipElem","size","tooltipTextSize","createNewElement","subElem","element_style","source","autoloop","loop","autoplay","muted","playsInline","border","allow","checked","label","inputView","label_style","overflow","placeholder","isSeen","maxShimmerWidth","tagShimmerElementsForRender","elName","addToParentElement","setLayout","scrollLeft","scrollTop","getElementByView","newInflated","handleWrapContent","setAfterRenderFunctions","stopObserver","renderList","time","oldChild","newChildView","newChild","replaceChild","timeEnd","_ref","listItem","_typeof","_getElementByView","testID","postComputeLayoutDimens2","computedHeight","computedWidth","postComputeList","getValueFromPixel","pixel","list","currentStyle","getComputedStyle","marginTop","marginBottom","largestHeight","largestWidth","newDimen","elm","flexDirection","node","max","hexToAlpha","hexColor","rgbaColor","convertHexToRgb","hex","fragments","fragmentTypes","mainRootView","clientHeight","clientWidth","container","s4","floor","random","content","containerType","BaseView","VIEW","AnimationTypes","SLIDE","slideHandler","SLIDE_VERTICAL","slideDownHandler","SIMPLE","simpleHandler","DEFAULT_ANIMATION","fromId","toId","direction","translationZ","ZIndex","cmdContainer","__HEIGHT","a_translationY","addCmd","__WIDTH","a_translationX","getAnimation","fromViewID","toViewId","animator","types","prototype","configFunction","_classCallCheck","__SETFN","bind","_createClass","resolveChildren","render","findRecurse","selector","displayName","foundChildren","find","layout","__ID","setIds","arr","handleSpecialChars","toast","cmdForWeb","jsx","fn","proxyFnName","__FN_INDEX","__PROXY_FN","getView","updateProps","oldContainerId","removeChildren","viewCtxObj","hasMatchParentChild","childs","dimen","childProp","hasWeightChild","computeRelativeLayout","viewCtx","child2","pl","pr","pt","pb","alignParentLeft","alignParentRight","alignParentBottom","computeLinearlayout","isHorizontal","passiveDimen","hasWeight","hasMatchParent","first","run","flatten","reduce","prev","cur","more","some","keyId","__VIEW_DIMENSIONS","handle","ui","cacheDimen","shouldMove","cachedDimen","changed","o","WeakMap","get","getPrototypeOf","constructor","Function","Number","Promise","Symbol","WeakSet","v","ArrayBuffer","DataView","buffer","byteOffset","byteLength","Map","Set","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","Date","assign","il","invokeUICallback","args","apply","fName","functionArgs","currTime","timeDiff","__ALL_ONCLICKS","setClickFeedback","__THROTTELED_ACTIONS","proxyFnKey","charAt","__LAST_FN_CALLED","getCurrTime","timeStamp","getTime","JOS","__payload","service","common","rotate","count","len","call","flattenObject","ob","toReturn","flatObject","lookAndReplaceProp","str","output","start","end","found","parseLayoutProps","ele_id","isMobile","cursor","src","bottom","top","left","right","doc","borderRadius","_config$cornerRadii$s","_config$cornerRadii$s2","textDecoration","borderTop","borderRight","borderBottom","borderLeft","transition","textAlign","contentEditable","contenteditable","__isMOBILE","__isFIREFOX","autocomplete","disabled","myAttr","pointerEvents","setDefaults","this_inlineAnimation","con","modifyTranslation","animationArray","getSetType","presto_ui_version","__VERSION__","PrestoUI","getScreenDetails","details","screen_width","screen_height","__DEVICE_DETAILS","juspayAssetConfig","loadFileInDUI","guid","__COM_EVENT","__COM_RENDERED","SWITCH_GLOBAL","DRP","DSB","DB","NAVBAR","__COM_CLASS_GROUP","WRAPPER","NAVBAR_ITEM","NAVBAR_ITEM_WITH_SUB","NAVBAR_SUB","NAVBAR_SUB_RIGHT","NAVBAR_SUB_ITEM","DRP_BODY","DB_FULL_BODY","DB_BODY","DB_OPTIONS","DB_OPTION","DSB_FULL_BODY","DSB_BODY","DSB_OPTIONS","DSB_OPTION","DSB_SEARCH_WRAP","DSB_SEARCH","SWITCH","SWITCH_BODY","SWITCH_SLIDER","BT","BT_DISABLED","__COM_COLOR_GROUP","BG","ACTIVE_BG","ACTIVE_COLOR","INACTIVE_COLOR","BORDER_COLOR","ACTIVE_BORDER_COLOR","SEARCH_COLOR","INACTIVE_SWITCH","ACTIVE_SWITCH","BT_BORDER_COLOR","BT_BG_COLOR","BT_COLOR","__COM_ACTIVE","__MODAL_PROPS","__CONTENTMODAL_CLASS","__OPENMODAL_CLASS","__BACKDROPMODAL_CLASS","__DISABLEDBACKDROP_CLASS","__SHOWNMODAL_CLASS","__FADEMODAL_CLASS","__SLIDEMODAL_CLASS","onclick","contains","onDismiss","duiShowScreen","popupMenu","getElementsByClassName","__duiShowScreen","__COLOR_INDEX","__FONT_INDEX","__RECT_INDEX","RECT_INDEX","__VIEW_INDEX","__IMAGE_INDEX","__POINT_INDEX","__LAYER_INDEX","__SIZE_INDEX","__FN_MAP","__NODE_ID","__SCREEN_INDEX","__CACHED_SCREENS","__SCREEN_COUNT","__CURR_SCREEN","__PREV_SCREEN","__ANIMATE_DIR","__SCREEN_STACK","InstallTrigger","callUICallback","startsWith","decimal","alphaToHex","toUpperCase"],"sourceRoot":""}